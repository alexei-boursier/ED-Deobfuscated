"use strict";(self.webpackChunked_web=self.webpackChunked_web||[]).push([[6922],{86922:(de,R,a)=>{a.d(R,{Q:()=>re});var e=a(94650),i=a(45007),l=a(24006),v=a(60515),D=a(18505),f=a(28746),h=a(70262),m=a(95698),S=a(39300),M=a(63900),V=a(87192),O=a(52497),A=a(48693),P=a(11302),T=a(89379),Z=a(94024),I=a(56038),x=a(34813),U=a(38947),F=a(92635),y=a(20388),L=a(1618),g=a(36895),N=a(4358),b=a(94702),J=a(80125),w=a(56776),C=a(81058),j=a(9582),K=a(20395),k=a(4602);function B(r,u){1&r&&(e.TgZ(0,"div",55)(1,"p"),e._uU(2,"Des rendez-vous sont d\xe9j\xe0 pris pour cette session."),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Certains param\xe8tres ne sont plus modifiables."),e.qZA(),e.TgZ(5,"p"),e._uU(6,"Afin de pouvoir mettre \xe0 jour ces param\xe8tres ou supprimer cette session, vous devez au pr\xe9alable annuler ces rendez-vous."),e.qZA()())}function q(r,u){1&r&&(e.TgZ(0,"span",56),e._uU(1,"Libell\xe9 obligatoire"),e.qZA())}function Q(r,u){1&r&&(e.TgZ(0,"span"),e._uU(1,"(*)"),e.qZA())}function W(r,u){if(1&r){const s=e.EpF();e.TgZ(0,"span",57)(1,"button",58),e.NdJ("click",function(){e.CHM(s),e.oxw();const o=e.MAs(31);return e.KtG(o.toggle())}),e._UZ(2,"i",59),e.qZA()()}}function H(r,u){if(1&r){const s=e.EpF();e.TgZ(0,"span",57)(1,"button",60),e.NdJ("click",function(){e.CHM(s),e.oxw();const o=e.MAs(39);return e.KtG(o.toggle())}),e._UZ(2,"i",59),e.qZA()()}}function Y(r,u){1&r&&(e.TgZ(0,"div",61),e._uU(1,"La date de d\xe9but doit \xeatre inf\xe9rieure ou \xe9gale \xe0 la date de fin"),e.qZA())}function z(r,u){1&r&&(e.TgZ(0,"div",61),e._uU(1,"La date de fin doit \xeatre sup\xe9rieure ou \xe9gale \xe0 la date du jour"),e.qZA())}function G(r,u){1&r&&(e.TgZ(0,"div",61),e._uU(1,"L'heure d'ouverture doit \xeatre inf\xe9rieure \xe0 l'heure de fermeture"),e.qZA())}function $(r,u){1&r&&(e.TgZ(0,"span",56),e._uU(1,"Dur\xe9e obligatoire"),e.qZA())}function X(r,u){1&r&&(e.TgZ(0,"span",56),e._uU(1,"Dur\xe9e minimale : 5 minutes"),e.qZA())}function ee(r,u){1&r&&(e.TgZ(0,"span"),e._uU(1,"Aucun invit\xe9 s\xe9lectionn\xe9"),e.qZA())}function te(r,u){if(1&r){const s=e.EpF();e.TgZ(0,"div",62)(1,"strong",30),e._uU(2,"Invit\xe9s"),e.qZA(),e.TgZ(3,"div",63)(4,"div",64),e.YNc(5,ee,2,0,"span",17),e.TgZ(6,"ed-groupe-destinataire",65),e.NdJ("editDestinataires",function(o){e.CHM(s);const n=e.oxw();return e.KtG(n.onEditDestinataires(o))})("removeDestinataires",function(o){e.CHM(s);const n=e.oxw();return e.KtG(n.onRemoveDestinataires(o))}),e.qZA()(),e.TgZ(7,"div",66)(8,"ed-choose-destinataire-tag",67),e.NdJ("composeSelection",function(o){e.CHM(s);const n=e.oxw();return e.KtG(n.onComposeSelection(o,"to"))}),e.qZA(),e.TgZ(9,"ed-choose-destinataire-tag",68),e.NdJ("composeSelection",function(o){e.CHM(s);const n=e.oxw();return e.KtG(n.onComposeSelection(o,"to"))}),e.qZA()()()()}if(2&r){const s=e.oxw();e.xp6(5),e.Q6J("ngIf",0===s.formSessionRDV.controls.invites.value.destinataires.length),e.xp6(1),e.s9C("type",s.formSessionRDV.controls.invites.value.selection.type),e.Q6J("destinataires",s.formSessionRDV.controls.invites.value.destinataires),e.xp6(2),e.Q6J("parametrages",s.parametrageChooseFamilles),e.xp6(1),e.Q6J("parametrages",s.parametrageChooseAdultes)}}function se(r,u){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&r){const s=u.$implicit;e.xp6(1),e.Oqu(s)}}function ne(r,u){if(1&r&&(e.TgZ(0,"alert",69),e._uU(1," (*) Visios disponible pour : "),e.TgZ(2,"ul"),e.YNc(3,se,2,1,"li",70),e.ALo(4,"trackByProperty"),e.qZA()()),2&r){const s=e.oxw();e.xp6(3),e.Q6J("ngForOf",s.visios)("ngForTrackBy",e.lcZ(4,2,"$index"))}}function oe(r,u){if(1&r){const s=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){e.CHM(s);const o=e.oxw();return e.KtG(o.delete())}),e._UZ(1,"i",72),e._uU(2," Supprimer "),e.qZA()}}const ie=function(r){return{"in-modal":r}},c=function(r){return{"has-error":r}},E=function(r){return{disabled:r}};let re=(()=>{class r{constructor(s,t,o,n,d,_,p,ae,le){this.etablissementStore=s,this.rdvService=t,this.authStore=o,this.formBuilder=n,this.loaderService=d,this.uiService=_,this.modalService=p,this.cd=ae,this.filtresAgendaEdtUserStore=le,this.enableInvites=!0,this.isInModal=!1,this.titleModule=i.NRy.RDVPP,this.parametrageChooseFamilles=new i.aA2({destProf:!1,destAdmin:!1,destEleve:!1,destFamille:!0,hideListesContacts:!0}),this.parametrageChooseAdultes=new i.aA2({destProf:!0,destAdmin:!0,destEleve:!1,destFamille:!1,hideListesContacts:!0}),this.isVisioEnable=!1,this.isModeAjout=!0,this.sessionUpdate=new e.vpe,this.configDatePicker=P.gL}ngOnInit(){this.isVisioEnable="1"===i.Kg5.getModuleParametre(i.qzA.CLOUD,"visiosActif",this.authStore.currentUser),this.visios=this.etablissementStore.snapshot.visiosDisposPour(),this.isModeAjout=!Object.isExists(this.sessionRDV),this.sessionRDV=this.isModeAjout?new i.CAN:this.sessionRDV,this.buildForm()}buildForm(){this.formSessionRDV=this.formBuilder.group({libelle:new l.NI(this.sessionRDV.libelle,l.kI.required),description:new l.NI(this.sessionRDV.description),dureeRDV:new l.NI({value:this.sessionRDV.dureeRDVAsDate||new Date,disabled:this.sessionRDV.isSessionDejaReservee},l.kI.required),nbJourCloture:new l.NI({value:0===this.sessionRDV.nbJourCloture,disabled:this.sessionRDV.isSessionDejaReservee},l.kI.required),isVisio:new l.NI({value:this.sessionRDV.isVisio,disabled:!this.isVisioEnable||this.sessionRDV.isSessionDejaReservee}),invites:new l.NI(this.sessionRDV.invitesAsGroupeDestinataire),dateDebut:new l.NI({value:this.sessionRDV.dateDebutAsDate||new Date,disabled:this.sessionRDV.isSessionDejaReservee},l.kI.required),dateFin:new l.NI({value:this.sessionRDV.dateFinAsDate||new Date,disabled:this.sessionRDV.isSessionDejaReservee},l.kI.required),heureDebut:new l.NI({value:this.sessionRDV.heureDebutAsDate||new Date,disabled:this.sessionRDV.isSessionDejaReservee},l.kI.required),heureFin:new l.NI({value:this.sessionRDV.heureFinAsDate||i.C_1.addNbSecondesToDate(new Date,3600*this.sessionRDV.dureeRDVAsDate.getHours()+60*this.sessionRDV.dureeRDVAsDate.getMinutes()),disabled:this.sessionRDV.isSessionDejaReservee},l.kI.required),isSaturdayEnable:new l.NI(this.sessionRDV.isSaturdayEnable)}),this.formSessionRDV.addValidators([this.datesValidator(),this.heuresValidator(),this.dureeValidator()])}datesValidator(){return s=>{const t=s.get("dateDebut").value,o=s.get("dateFin").value;return i.C_1.isAfter(t,o,!1)?{dateDebutNotSuperieur:!0}:i.C_1.isDatePassee(o,!1)?{dateFinNotPast:!0}:null}}heuresValidator(){return s=>{const t=s.get("heureDebut").value,o=s.get("heureFin").value;return i.C_1.isAfter(o,t,!0)?null:{heureDebutNotSuperieur:!0}}}dureeValidator(){return s=>{const t=s.get("dureeRDV").value;return!i.C_1.isDate(t)||60*t.getHours()+t.getMinutes()<5?{dureeRDVMin5:!0}:null}}save(){const s=new i.CAN(this.sessionRDV);let t;s.libelle=this.formSessionRDV.get("libelle").value,s.description=this.formSessionRDV.get("description").value,s.isVisio=this.formSessionRDV.get("isVisio").value,s.dateDebut=i.C_1.dateToString(this.formSessionRDV.get("dateDebut").value),s.dateFin=i.C_1.dateToString(this.formSessionRDV.get("dateFin").value),s.heureDebut=i.C_1.dateToString(this.formSessionRDV.get("heureDebut").value,"HH:mm"),s.heureFin=i.C_1.dateToString(this.formSessionRDV.get("heureFin").value,"HH:mm"),s.dureeRDV=i.C_1.dateToString(this.formSessionRDV.get("dureeRDV").value,"HH:mm"),s.nbJourCloture=!0===this.formSessionRDV.get("nbJourCloture").value?0:1,s.isSaturdayEnable=this.formSessionRDV.get("isSaturdayEnable").value,s.invites=this.formSessionRDV.get("invites").value.destinataires,t=this.isModeAjout?this.rdvService.createSessionRDV(this.authStore.currentUser.typeCompte,this.authStore.currentUser.id,s):this.rdvService.updateSessionRDV(this.authStore.currentUser.typeCompte,this.authStore.currentUser.id,s),this.loader=this.loaderService.show(this),this.cd.markForCheck(),t.pipe((0,D.b)(o=>{o&&(this.uiService.notifyEvent(i.DOJ.genericSuccess,"La session de rendez-vous a \xe9t\xe9 mis \xe0 jour",this.titleModule,"icon-ed_rdvpp"),this.sessionUpdate.emit(o))}),(0,f.x)(()=>this.loaderService.hide(this)),(0,h.K)(o=>(this.uiService.notifyEvent(i.DOJ.genericError,""!==o.message?o.message:"La mise \xe0 jour de la session a \xe9chou\xe9",this.titleModule,"fa fa-warning"),v.E))).subscribe()}delete(){if(this.sessionRDV.isSessionDejaReservee)return void this.uiService.notifyEvent(i.DOJ.genericError,"Suppression impossible. Des rendez-vous sont d\xe9j\xe0 pris.",this.titleModule,"fa fa-warning");const s={id:this.modalService.getModalsCount()+1,keyboard:!1,ignoreBackdropClick:!0,initialState:{title:"Suppression d'une session de rendez-vous",message:"Confirmer la suppression de la session de rendez-vous ?",warningButton:"OK"}};this.modalService.show(V.z,s),this.modalService.onHide.pipe((0,m.q)(1),(0,S.h)(t=>t===O.G.validation),(0,M.w)(t=>(this.loader=this.loaderService.show(this),this.cd.markForCheck(),this.rdvService.deleteSessionRDV(this.authStore.currentUser.typeCompte,this.authStore.currentUser.id,this.sessionRDV.id))),(0,D.b)(t=>{t&&(this.uiService.notifyEvent(i.DOJ.genericSuccess,"La session de rendez-vous a \xe9t\xe9 supprim\xe9e",this.titleModule,"icon-ed_rdvpp"),this.sessionUpdate.emit(void 0))}),(0,f.x)(()=>this.loaderService.hide(this)),(0,h.K)(t=>(this.uiService.notifyEvent(i.DOJ.genericError,"La suppression de la session a \xe9chou\xe9",this.titleModule,"fa fa-warning"),v.E))).subscribe()}onComposeSelection(s,t){this.modalService.show({F:A.u,A:Z.w,P:T.r}[s],{id:this.modalService.getModalsCount()+1,keyboard:!1,ignoreBackdropClick:!0,initialState:{toCcCci:t,sourceModule:i.qzA.RDVPP},class:"modal-lg"}).content.onClose$.pipe((0,m.q)(1)).subscribe(d=>{Array.isArray(d)&&d.length>0&&this.addGroupeDestinataire({destinataires:d,selection:{type:s}})})}addGroupeDestinataire(s){const t=this.formSessionRDV.controls.invites.value,o={destinataires:t.destinataires.map(n=>new i.b1F(n)),selection:t.selection};s.destinataires.forEach(s.selection.type===i.dcH.FAMILLE?n=>{if(n.responsable.versQui===i.dcH.FAMILLE_RESPONSABLE||n.responsable.versQui===i.dcH.FAMILLE_CONJOINT){if(o.destinataires.findIndex(d=>d.type===n.responsable.versQui&&d.id===n.responsable.id&&d.eleve.id===n.id)>-1)return;o.destinataires.push(new i.b1F({idRDVSession:this.sessionRDV.id,nom:Object.isExists(n.responsable.contacts)&&n.responsable.contacts.length>0?n.responsable.contacts[0]:"",id:n.responsable.id,type:n.responsable.versQui,eleve:new i.TAs({id:n.id})}))}else o.destinataires.findIndex(_=>_.type===i.dcH.FAMILLE_RESPONSABLE&&_.id===n.responsable.id&&_.eleve.id===n.id)>-1||o.destinataires.push(new i.b1F({idRDVSession:this.sessionRDV.id,nom:Object.isExists(n.responsable.contacts)&&n.responsable.contacts.length>0?n.responsable.contacts[0]:"",id:n.responsable.id,type:i.dcH.FAMILLE_RESPONSABLE,eleve:new i.TAs({id:n.id})})),2===n.responsable.contacts.length&&""!==n.responsable.contacts[1]&&(o.destinataires.findIndex(p=>p.type===i.dcH.FAMILLE_CONJOINT&&p.id===n.responsable.id&&p.eleve.id===n.id)>-1||o.destinataires.push(new i.b1F({idRDVSession:this.sessionRDV.id,nom:Object.isExists(n.responsable.contacts)&&n.responsable.contacts.length>0?n.responsable.contacts[1]:"",id:n.responsable.id,type:i.dcH.FAMILLE_CONJOINT,eleve:new i.TAs({id:n.id})})))}:n=>{this.authStore.isHimself(n.type,n.id)||o.destinataires.findIndex(d=>d.type===n.type&&d.id===n.id)>-1||o.destinataires.push(new i.b1F({idRDVSession:this.sessionRDV.id,nom:n.nom,prenom:n.prenom,id:n.id,type:n.type}))}),this.formSessionRDV.controls.invites.setValue(o),this.cd.markForCheck()}onEditDestinataires(s){this.modalService.show(U.w,{id:this.modalService.getModalsCount()+1,initialState:{destinataires:s,title:"liste des invit\xe9s"},class:"modal-lg"}).content.onClose$.pipe((0,m.q)(1)).subscribe(o=>{Array.isArray(o)&&o.length>0&&this.onRemoveDestinataires(o)})}onRemoveDestinataires(s){const t=this.formSessionRDV.controls.invites.value,o={destinataires:t.destinataires.map(d=>new i.b1F(d)),selection:t.selection};let n="";s.forEach(d=>{if(this.sessionRDV.isReservePar(d.type,d.id,d.eleve?.id))return n+=`<br />- ${d.prenom} ${d.nom}`,void(Object.isExists(d.eleve)&&(n+=`- ${d.eleve.prenom} ${d.eleve.nom} (${d.eleve.codeClasse})`));o.destinataires.edRemove(_=>_.id===d.id&&_.type===d.type)}),this.formSessionRDV.controls.invites.setValue(o),""!==n&&(n=`Suppression impossible pour :${n}<br />Des rendez-vous sont d\xe9j\xe0 pris pour sur cette session`,this.uiService.notifyEvent(i.DOJ.genericError,n,this.titleModule,"fa fa-warning")),this.cd.markForCheck()}openEDT(){this.filtresAgendaEdtUserStore.addAgendaFiltreToDisplay(new i.b9O({typeEntity:i.eTt.RDVPP,idEntity:this.authStore.currentUser.id,typeAgenda:i.eTt.RDVPP,libelle:"Mes rendez-vous",couleurAgenda:"",selected:!0,edtCourant:!1}));const s={id:this.modalService.getModalsCount()+1,class:"modal-xlg",initialState:{title:"Mon emploi du temps",injectComponentInputs:{idEntity:this.authStore.currentUser.id,typeEntity:this.authStore.currentUser.typeCompte},close:"Fermer",injectComponentClass:I.R}};this.modalService.show(x.z,s)}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(i.VD2),e.Y36(i.vIF),e.Y36(i.CnD),e.Y36(l.qu),e.Y36(F.S),e.Y36(i.VLf),e.Y36(y.tT),e.Y36(e.sBO),e.Y36(L.c))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ed-rdv-session-form"]],inputs:{sessionRDV:"sessionRDV",enableInvites:"enableInvites",isInModal:"isInModal"},outputs:{sessionUpdate:"sessionUpdate"},decls:88,vars:60,consts:[[1,"ed-rdv-session-form",3,"ngClass","ngBusy"],["id","form-session-rdv","novalidate","",3,"formGroup","ngSubmit"],["class","alert alert-info",4,"ngIf"],[1,"row",3,"ngClass"],[1,"col-lg-12"],["for","libelle",1,"form-label"],["id","libelle","size","60","maxlength","60","formControlName","libelle","name","Saisir un libelle","placeholder","Libell\xe9","type","text",1,"form-control"],[3,"control"],["valError","required"],[1,"row","mt-3",3,"ngClass"],["for","description",1,"form-label"],["name","description","id","description","rows","5","formControlName","description","placeholder","Saisir une description",1,"form-control"],[1,"row","mt-3"],[1,"text-bold"],[1,"form-check",3,"ngClass"],["type","checkbox","id","addVisio","name","addVisio","formControlName","isVisio",1,"form-check-input"],["for","addVisio",1,"form-check-label","fw-normal",3,"title"],[4,"ngIf"],[1,"col-lg-6"],["for","dateDebut",1,"form-label"],[1,"input-group"],["formControlName","dateDebut","name","dateDebut","bsDatepicker","","id","dateDebut","type","text",1,"form-control",3,"bsConfig"],["datePickerDateDebut","bsDatepicker"],["class","input-group-text input-group-md no-background",4,"ngIf"],["for","dateFin",1,"form-label"],["formControlName","dateFin","bsDatepicker","","name","dateFin","id","dateFin","type","text",1,"form-control",3,"bsConfig","minDate"],["datePickerDateFin","bsDatepicker"],["valError","dateDebutNotSuperieur"],["valError","dateFinNotPast"],[1,"col-lg-3"],[1,"texte-label"],[1,"input-group","heureDebut"],["formControlName","heureDebut",3,"showSpinners","showMeridian"],[1,"col-lg-3","offset-md-3"],[3,"ngClass"],[1,"input-group","heureFin"],["formControlName","heureFin",3,"showSpinners","showMeridian"],["valError","heureDebutNotSuperieur"],[1,"col-lg-3",3,"ngClass"],["formControlName","dureeRDV",3,"showSpinners","showMeridian"],["valError","dureeRDVMin5"],[1,"col-lg-6","offset-md-3"],["type","checkbox","id","nbJourCloture","name","nbJourCloture","formControlName","nbJourCloture","value","1",1,"form-check-input"],["for","nbJourCloture",1,"form-check-label","fw-normal"],[1,"form-check"],["type","checkbox","id","isSaturdayEnable","name","isSaturdayEnable","formControlName","isSaturdayEnable",1,"form-check-input"],["for","isSaturdayEnable",1,"form-check-label","fw-normal"],["class","mt-3","id","container-choose-invites",4,"ngIf"],["type","info",4,"ngIf"],[1,"btn-footer"],[1,"btn-footer-left"],["class","btn btn-danger float-start","id","buttonDelete","type","button",3,"click",4,"ngIf"],["id","buttonAjout","type","submit",1,"btn","btn-success","float-end","margin-whitespace",3,"disabled"],["id","buttonEDT","type","button",1,"btn","btn-success","float-end",3,"click"],[1,"icon-ed_edt","i-small"],[1,"alert","alert-info"],[1,"form-text","text-danger"],[1,"input-group-text","input-group-md","no-background"],["type","button","aria-label","Ouvrir le calendrier pour choisir la date de d\xe9but de session du rendez-vous",1,"btn","btn-secondary","no-background",3,"click"],["aria-hidden","true",1,"fa","fa-calendar"],["type","button","aria-label","Ouvrir le calendrier pour choisir la date de fin de session du rendez-vous",1,"btn","btn-secondary","no-background",3,"click"],[1,"col-lg-12","form-text","text-danger"],["id","container-choose-invites",1,"mt-3"],[1,"d-flex","justify-content-between"],[1,"input-invites"],[3,"destinataires","type","editDestinataires","removeDestinataires"],[1,"choose-invites-tag"],[3,"parametrages","composeSelection"],["tooltipAction","Associer",3,"parametrages","composeSelection"],["type","info"],[4,"ngFor","ngForOf","ngForTrackBy"],["id","buttonDelete","type","button",1,"btn","btn-danger","float-start",3,"click"],["aria-hidden","true",1,"fa","fa-trash","i-small"]],template:function(s,t){if(1&s&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return t.save()}),e.YNc(2,B,7,0,"div",2),e.TgZ(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6,"Libell\xe9"),e.qZA(),e._UZ(7,"input",6),e.TgZ(8,"val-errors",7),e.YNc(9,q,2,0,"ng-template",8),e.qZA()()(),e.TgZ(10,"div",9)(11,"div",4)(12,"label",10),e._uU(13,"Description"),e.qZA(),e._UZ(14,"textarea",11),e.qZA()(),e.TgZ(15,"div",12)(16,"div",4)(17,"div",13),e._uU(18,"Visio"),e.qZA(),e.TgZ(19,"div",14),e._UZ(20,"input",15),e.TgZ(21,"label",16),e._uU(22," Associer une visio \xe0 cette session de rendez-vous "),e.YNc(23,Q,2,0,"span",17),e.qZA()()()(),e.TgZ(24,"div",12)(25,"div",18)(26,"div")(27,"label",19),e._uU(28,"Date de d\xe9but"),e.qZA(),e.TgZ(29,"div",20),e._UZ(30,"input",21,22),e.YNc(32,W,3,0,"span",23),e.qZA()()(),e.TgZ(33,"div",18)(34,"div")(35,"label",24),e._uU(36,"Date de fin"),e.qZA(),e.TgZ(37,"div",20),e._UZ(38,"input",25,26),e.YNc(40,H,3,0,"span",23),e.qZA()()(),e.TgZ(41,"val-errors",7),e.YNc(42,Y,2,0,"ng-template",27),e.YNc(43,z,2,0,"ng-template",28),e.qZA()(),e.TgZ(44,"div",12)(45,"div",29)(46,"div")(47,"strong",30),e._uU(48,"Heure d'ouverture"),e.qZA(),e.TgZ(49,"div",31),e._UZ(50,"timepicker",32),e.qZA()()(),e.TgZ(51,"div",33)(52,"div",34)(53,"strong",30),e._uU(54,"Heure de fermeture"),e.qZA(),e.TgZ(55,"div",35),e._UZ(56,"timepicker",36),e.qZA()()(),e.TgZ(57,"val-errors",7),e.YNc(58,G,2,0,"ng-template",37),e.qZA()(),e.TgZ(59,"div",12)(60,"div",38)(61,"strong",30),e._uU(62,"Dur\xe9e des rendez-vous"),e.qZA(),e.TgZ(63,"div",35),e._UZ(64,"timepicker",39),e.qZA(),e.TgZ(65,"val-errors",7),e.YNc(66,$,2,0,"ng-template",8),e.qZA(),e.TgZ(67,"val-errors",7),e.YNc(68,X,2,0,"ng-template",40),e.qZA()(),e.TgZ(69,"div",41)(70,"div",14),e._UZ(71,"input",42),e.TgZ(72,"label",43),e._uU(73,"Autoriser la prise de rendez-vous le jour m\xeame"),e.qZA()(),e.TgZ(74,"div",44),e._UZ(75,"input",45),e.TgZ(76,"label",46),e._uU(77,"Inclure les samedis"),e.qZA()()()(),e.YNc(78,te,10,5,"div",47),e.YNc(79,ne,5,4,"alert",48),e.TgZ(80,"div",49)(81,"div",50),e.YNc(82,oe,3,0,"button",51),e.qZA(),e.TgZ(83,"button",52),e._uU(84,"Enregistrer"),e.qZA(),e.TgZ(85,"button",53),e.NdJ("click",function(){return t.openEDT()}),e._UZ(86,"i",54),e._uU(87," Emploi du temps "),e.qZA()()()()),2&s){const o=e.MAs(31),n=e.MAs(39);e.Q6J("ngClass",e.VKq(40,ie,t.isInModal))("ngBusy",t.loader),e.xp6(1),e.Q6J("formGroup",t.formSessionRDV),e.xp6(1),e.Q6J("ngIf",t.sessionRDV.isSessionDejaReservee),e.xp6(1),e.Q6J("ngClass",e.VKq(42,c,t.formSessionRDV.controls.libelle.invalid)),e.xp6(5),e.Q6J("control",t.formSessionRDV.controls.libelle),e.xp6(2),e.Q6J("ngClass",e.VKq(44,c,t.formSessionRDV.controls.description.invalid)),e.xp6(9),e.Q6J("ngClass",e.VKq(46,E,t.sessionRDV.isSessionDejaReservee)),e.xp6(2),e.Q6J("title",t.isVisioEnable?"":"Cette option n'est pas disponible, contactez votre \xe9tablissement"),e.xp6(2),e.Q6J("ngIf",null==t.visios?null:t.visios.length),e.xp6(3),e.Tol(e.VKq(48,c,t.formSessionRDV.get("dateDebut").invalid)),e.xp6(4),e.Q6J("bsConfig",t.configDatePicker),e.uIk("aria-expanded",o.isOpen),e.xp6(2),e.Q6J("ngIf",!t.sessionRDV.isSessionDejaReservee),e.xp6(2),e.Tol(e.VKq(50,c,t.formSessionRDV.get("dateFin").invalid)),e.xp6(4),e.Q6J("bsConfig",t.configDatePicker)("minDate",t.formSessionRDV.controls.dateDebut.value),e.uIk("aria-expanded",n.isOpen),e.xp6(2),e.Q6J("ngIf",!t.sessionRDV.isSessionDejaReservee),e.xp6(1),e.Q6J("control",t.formSessionRDV),e.xp6(5),e.Tol(e.VKq(52,c,t.formSessionRDV.get("heureDebut").invalid)),e.xp6(4),e.Q6J("showSpinners",!t.sessionRDV.isSessionDejaReservee)("showMeridian",!1),e.xp6(2),e.Q6J("ngClass",e.VKq(54,c,t.formSessionRDV.get("heureFin").invalid)),e.xp6(4),e.Q6J("showSpinners",!t.sessionRDV.isSessionDejaReservee)("showMeridian",!1),e.xp6(1),e.Q6J("control",t.formSessionRDV),e.xp6(3),e.Q6J("ngClass",e.VKq(56,c,t.formSessionRDV.controls.dureeRDV.invalid)),e.xp6(4),e.Q6J("showSpinners",!1)("showMeridian",!1),e.xp6(1),e.Q6J("control",t.formSessionRDV.controls.dureeRDV),e.xp6(2),e.Q6J("control",t.formSessionRDV),e.xp6(3),e.Q6J("ngClass",e.VKq(58,E,t.sessionRDV.isSessionDejaReservee)),e.xp6(8),e.Q6J("ngIf",t.enableInvites),e.xp6(1),e.Q6J("ngIf",null==t.visios?null:t.visios.length),e.xp6(3),e.Q6J("ngIf",!t.isModeAjout&&!t.sessionRDV.isSessionDejaReservee),e.xp6(1),e.Q6J("disabled",t.formSessionRDV.invalid)}},dependencies:[g.mk,g.sg,g.O5,l._Y,l.Fj,l.Wl,l.JJ,l.JL,l.nD,l.sg,l.u,N.wx,b.Np,b.Y5,J.DC,w.EV,C.tM,C.HY,j.G,K.F,k.$],styles:["div.ed-rdv-session-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:disabled, div.ed-rdv-session-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.form-check.disabled[_ngcontent-%COMP%]{background:transparent;border:0 none}div.ed-rdv-session-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #container-choose-invites[_ngcontent-%COMP%]{padding-top:40px}div.ed-rdv-session-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #container-choose-invites[_ngcontent-%COMP%]   .input-invites[_ngcontent-%COMP%]{border:1px solid var(--dark-placeholder-color);border-radius:4px;height:34px;padding:6px 12px;color:#555;display:inline-table;box-shadow:inset 0 1px 1px #00000013}div.ed-rdv-session-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #container-choose-invites[_ngcontent-%COMP%]   .show-all[_ngcontent-%COMP%]{margin-left:8px}div.ed-rdv-session-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #container-choose-invites[_ngcontent-%COMP%]   .toolbar-selection[_ngcontent-%COMP%]{margin-bottom:5px}div.ed-rdv-session-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #container-choose-invites[_ngcontent-%COMP%]   .btn-destinataires[_ngcontent-%COMP%]   a.btn[_ngcontent-%COMP%]{text-transform:none}div.ed-rdv-session-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #container-choose-invites[_ngcontent-%COMP%]   .cc-to[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{cursor:pointer}div.ed-rdv-session-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #container-choose-invites[_ngcontent-%COMP%]   .cc-to[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{min-width:20px;right:0;left:unset}div.ed-rdv-session-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #container-choose-invites[_ngcontent-%COMP%]   .btn-tocccci[_ngcontent-%COMP%]   a.btn-secondary[_ngcontent-%COMP%]{padding:8px}div.ed-rdv-session-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #container-choose-invites[_ngcontent-%COMP%]   .choose-invites-tag[_ngcontent-%COMP%]{width:175px;display:flex;justify-content:space-between}div.ed-rdv-session-form[_ngcontent-%COMP%]   .btn-footer[_ngcontent-%COMP%]{top:-5px;position:relative}div.ed-rdv-session-form.in-modal[_ngcontent-%COMP%]   .btn-footer[_ngcontent-%COMP%]{top:49px;position:relative}div.ed-rdv-session-form.in-modal[_ngcontent-%COMP%]   .btn-footer[_ngcontent-%COMP%]   .btn-footer-left[_ngcontent-%COMP%]{left:80px;position:relative}"],changeDetection:0}),r})()}}]);