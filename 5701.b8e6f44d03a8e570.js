"use strict";(self.webpackChunked_web=self.webpackChunked_web||[]).push([[5701],{13666:(pt,me,m)=>{m.d(me,{L:()=>Te});var e=m(99658),fe=m(94650);let Te=(()=>{class F{}return F.\u0275fac=function(Ee){return new(Ee||F)},F.\u0275mod=fe.oAB({type:F}),F.\u0275inj=fe.cJS({imports:[e.m]}),F})()},55701:(pt,me,m)=>{m.r(me),m.d(me,{EspacesTravailModule:()=>Fn});var e=m(94650);function Te(i){return void 0===i}function F(i){return"boolean"==typeof i}function C(i,s){for(var t=i.length-1;t>=0;t--)i[t]===s&&i.splice(t,1)}function X(i,s){for(var t=i.length-1;t>=0;t--)!0===s(i[t])&&i.splice(t,1)}function le(i){throw new Error("Unhandled case for value: '".concat(i,"'"))}var ae=/[A-Za-z]/,q=/[\d]/,Q=/\s/,Ae=/['"]/,gt=/[\x00-\x1F\x7F]/,He=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,ft=He+/\u2700-\u27bf\udde6-\uddff\ud800-\udbff\udc00-\udfff\ufe0e\ufe0f\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ud83c\udffb-\udfff\u200d\u3299\u3297\u303d\u3030\u24c2\ud83c\udd70-\udd71\udd7e-\udd7f\udd8e\udd91-\udd9a\udde6-\uddff\ude01-\ude02\ude1a\ude2f\ude32-\ude3a\ude50-\ude51\u203c\u2049\u25aa-\u25ab\u25b6\u25c0\u25fb-\u25fe\u00a9\u00ae\u2122\u2139\udc04\u2600-\u26FF\u2b05\u2b06\u2b07\u2b1b\u2b1c\u2b50\u2b55\u231a\u231b\u2328\u23cf\u23e9-\u23f3\u23f8-\u23fa\udccf\u2935\u2934\u2190-\u21ff/.source+/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,Ve=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,ze=(new RegExp("[".concat(He+Ve,"]")),ft+Ve),ee=new RegExp("[".concat(ze,"]")),Ke=function(){function i(s){void 0===s&&(s={}),this.tagName="",this.attrs={},this.innerHTML="",this.tagName=s.tagName||"",this.attrs=s.attrs||{},this.innerHTML=s.innerHtml||s.innerHTML||""}return i.prototype.setTagName=function(s){return this.tagName=s,this},i.prototype.getTagName=function(){return this.tagName||""},i.prototype.setAttr=function(s,t){return this.getAttrs()[s]=t,this},i.prototype.getAttr=function(s){return this.getAttrs()[s]},i.prototype.setAttrs=function(s){return Object.assign(this.getAttrs(),s),this},i.prototype.getAttrs=function(){return this.attrs||(this.attrs={})},i.prototype.setClass=function(s){return this.setAttr("class",s)},i.prototype.addClass=function(s){for(var c,t=this.getClass(),a=t?t.split(Q):[],n=s.split(Q);c=n.shift();)-1===a.indexOf(c)&&a.push(c);return this.getAttrs().class=a.join(" "),this},i.prototype.removeClass=function(s){for(var c,t=this.getClass(),a=t?t.split(Q):[],n=s.split(Q);a.length&&(c=n.shift());){var g=a.indexOf(c);-1!==g&&a.splice(g,1)}return this.getAttrs().class=a.join(" "),this},i.prototype.getClass=function(){return this.getAttrs().class||""},i.prototype.hasClass=function(s){return-1!==(" "+this.getClass()+" ").indexOf(" "+s+" ")},i.prototype.setInnerHTML=function(s){return this.innerHTML=s,this},i.prototype.setInnerHtml=function(s){return this.setInnerHTML(s)},i.prototype.getInnerHTML=function(){return this.innerHTML||""},i.prototype.getInnerHtml=function(){return this.getInnerHTML()},i.prototype.toAnchorString=function(){var s=this.getTagName(),t=this.buildAttrsStr();return["<",s,t=t?" "+t:"",">",this.getInnerHtml(),"</",s,">"].join("")},i.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var s=this.getAttrs(),t=[];for(var a in s)s.hasOwnProperty(a)&&t.push(a+'="'+s[a]+'"');return t.join(" ")},i}(),bt=function(){function i(s){void 0===s&&(s={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=s.newWindow||!1,this.truncate=s.truncate||{},this.className=s.className||""}return i.prototype.build=function(s){return new Ke({tagName:"a",attrs:this.createAttrs(s),innerHtml:this.processAnchorText(s.getAnchorText())})},i.prototype.createAttrs=function(s){var t={href:s.getAnchorHref()},a=this.createCssClass(s);return a&&(t.class=a),this.newWindow&&(t.target="_blank",t.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<s.getAnchorText().length&&(t.title=s.getAnchorHref()),t},i.prototype.createCssClass=function(s){var t=this.className;if(t){for(var a=[t],n=s.getCssClassSuffixes(),c=0,g=n.length;c<g;c++)a.push(t+"-"+n[c]);return a.join(" ")}return""},i.prototype.processAnchorText=function(s){return this.doTruncate(s)},i.prototype.doTruncate=function(s){var t=this.truncate;if(!t||!t.length)return s;var a=t.length,n=t.location;return"smart"===n?function _t(i,s,t){var a,n;null==t?(t="&hellip;",n=3,a=8):(n=t.length,a=t.length);var g=function(k){var I="";return k.scheme&&k.host&&(I+=k.scheme+"://"),k.host&&(I+=k.host),k.path&&(I+="/"+k.path),k.query&&(I+="?"+k.query),k.fragment&&(I+="#"+k.fragment),I},T=function(k,I){var w=I/2,D=Math.ceil(w),oe=-1*Math.floor(w),ce="";return oe<0&&(ce=k.substr(oe)),k.substr(0,D)+t+ce};if(i.length<=s)return i;var I,w,D,v=s-n,h=(I={},(D=(w=i).match(/^([a-z]+):\/\//i))&&(I.scheme=D[1],w=w.substr(D[0].length)),(D=w.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(I.host=D[1],w=w.substr(D[0].length)),(D=w.match(/^\/(.*?)(?=(\?|#|$))/i))&&(I.path=D[1],w=w.substr(D[0].length)),(D=w.match(/^\?(.*?)(?=(#|$))/i))&&(I.query=D[1],w=w.substr(D[0].length)),(D=w.match(/^#(.*?)$/i))&&(I.fragment=D[1]),I);if(h.query){var u=h.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);u&&(h.query=h.query.substr(0,u[1].length),i=g(h))}if(i.length<=s||(h.host&&(h.host=h.host.replace(/^www\./,""),i=g(h)),i.length<=s))return i;var f="";if(h.host&&(f+=h.host),f.length>=v)return h.host.length==s?(h.host.substr(0,s-n)+t).substr(0,v+a):T(f,v).substr(0,v+a);var d="";if(h.path&&(d+="/"+h.path),h.query&&(d+="?"+h.query),d){if((f+d).length>=v)return(f+d).length==s?(f+d).substr(0,s):(f+T(d,v-f.length)).substr(0,v+a);f+=d}if(h.fragment){var _="#"+h.fragment;if((f+_).length>=v)return(f+_).length==s?(f+_).substr(0,s):(f+T(_,v-f.length)).substr(0,v+a);f+=_}if(h.scheme&&h.host){var $=h.scheme+"://";if((f+$).length<v)return($+f).substr(0,s)}if(f.length<=s)return f;var re="";return v>0&&(re=f.substr(-1*Math.floor(v/2))),(f.substr(0,Math.ceil(v/2))+t+re).substr(0,v+a)}(s,a):"middle"===n?function ht(i,s,t){if(i.length<=s)return i;var a,n;null==t?(t="&hellip;",a=8,n=3):(a=t.length,n=t.length);var c=s-n,g="";return c>0&&(g=i.substr(-1*Math.floor(c/2))),(i.substr(0,Math.ceil(c/2))+t+g).substr(0,c+a)}(s,a):function Tt(i,s,t){return function Ee(i,s,t){var a;return i.length>s&&(null==t?(t="&hellip;",a=3):a=t.length,i=i.substring(0,s-a)+t),i}(i,s,t)}(s,a)},i}(),Z=m(70655),ue=function(){function i(s){this._=null,this.matchedText="",this.offset=0,this.tagBuilder=s.tagBuilder,this.matchedText=s.matchedText,this.offset=s.offset}return i.prototype.getMatchedText=function(){return this.matchedText},i.prototype.setOffset=function(s){this.offset=s},i.prototype.getOffset=function(){return this.offset},i.prototype.getCssClassSuffixes=function(){return[this.type]},i.prototype.buildTag=function(){return this.tagBuilder.build(this)},i}(),At=new RegExp("^(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|verm\xf6gensberatung|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbah1a3hjkrd|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|verm\xf6gensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--mgbcpq6gpa1a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbaakc7dvf|xn--mgbc0a9azcg|xn--nqv7fs00ema|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq480n2rg|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|travelchannel|wolterskluwer|xn--cckwcxetd|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--4dbrk0ce|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nextdirect|properties|protection|prudential|realestate|republican|restaurant|schaeffler|tatamotors|technology|university|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--q7ce6a|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|institute|insurance|kuokgroup|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|passagens|pramerica|richardli|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--qxa6a|xn--tckwe|xn--vhquv|yodobashi|\u0645\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u0627|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|builders|business|capetown|catering|catholic|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|etisalat|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|merckmsd|mortgage|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|training|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lanxess|lasalle|latrobe|leclerc|limited|lincoln|markets|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|singles|staples|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|\u043a\u0430\u0442\u043e\u043b\u0438\u043a|\u0627\u062a\u0635\u0627\u0644\u0627\u062a|\u0627\u0644\u0628\u062d\u0631\u064a\u0646|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0639\u0644\u064a\u0627\u0646|\u067e\u0627\u06a9\u0633\u062a\u0627\u0646|\u0643\u0627\u062b\u0648\u0644\u064a\u0643|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|abarth|abbott|abbvie|africa|agency|airbus|airtel|alipay|alsace|alstom|amazon|anquan|aramco|author|bayern|beauty|berlin|bharti|bostik|boston|broker|camera|career|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|webcam|xihuan|yachts|yandex|zappos|\u043c\u043e\u0441\u043a\u0432\u0430|\u043e\u043d\u043b\u0430\u0439\u043d|\u0627\u0628\u0648\u0638\u0628\u064a|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0645\u0627\u0631\u0627\u062a|\u0641\u0644\u0633\u0637\u064a\u0646|\u0645\u0644\u064a\u0633\u064a\u0627|\u092d\u093e\u0930\u0924\u092e\u094d|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|drive|dubai|earth|edeka|email|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|irish|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|loans|locus|lotte|lotto|macys|mango|media|miami|money|movie|music|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|\u05d9\u05e9\u05e8\u05d0\u05dc|\u0627\u06cc\u0631\u0627\u0646|\u0628\u0627\u0632\u0627\u0631|\u0628\u06be\u0627\u0631\u062a|\u0633\u0648\u062f\u0627\u0646|\u0633\u0648\u0631\u064a\u0629|\u0647\u0645\u0631\u0627\u0647|\u092d\u093e\u0930\u094b\u0924|\u0938\u0902\u0917\u0920\u0928|\u09ac\u09be\u0982\u09b2\u09be|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0d2d\u0d3e\u0d30\u0d24\u0d02|\u5609\u91cc\u5927\u9152\u5e97|aarp|able|adac|aero|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kids|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|read|reit|rent|rest|rich|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|\u0434\u0435\u0442\u0438|\u0441\u0430\u0439\u0442|\u0628\u0627\u0631\u062a|\u0628\u064a\u062a\u0643|\u0680\u0627\u0631\u062a|\u062a\u0648\u0646\u0633|\u0634\u0628\u0643\u0629|\u0639\u0631\u0627\u0642|\u0639\u0645\u0627\u0646|\u0645\u0648\u0642\u0639|\u092d\u093e\u0930\u0924|\u09ad\u09be\u09b0\u09a4|\u09ad\u09be\u09f0\u09a4|\u0a2d\u0a3e\u0a30\u0a24|\u0aad\u0abe\u0ab0\u0aa4|\u0b2d\u0b3e\u0b30\u0b24|\u0cad\u0cbe\u0cb0\u0ca4|\u0dbd\u0d82\u0d9a\u0dcf|\u30a2\u30de\u30be\u30f3|\u30b0\u30fc\u30b0\u30eb|\u30af\u30e9\u30a6\u30c9|\u30dd\u30a4\u30f3\u30c8|\u7ec4\u7ec7\u673a\u6784|\u96fb\u8a0a\u76c8\u79d1|\u9999\u683c\u91cc\u62c9|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceo|cfa|cfd|com|cpa|crs|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gay|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|llp|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|spa|srl|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|\u0431\u0435\u043b|\u043a\u043e\u043c|\u049b\u0430\u0437|\u043c\u043a\u0434|\u043c\u043e\u043d|\u043e\u0440\u0433|\u0440\u0443\u0441|\u0441\u0440\u0431|\u0443\u043a\u0440|\u0570\u0561\u0575|\u05e7\u05d5\u05dd|\u0639\u0631\u0628|\u0642\u0637\u0631|\u0643\u0648\u0645|\u0645\u0635\u0631|\u0915\u0949\u092e|\u0928\u0947\u091f|\u0e04\u0e2d\u0e21|\u0e44\u0e17\u0e22|\u0ea5\u0eb2\u0ea7|\u30b9\u30c8\u30a2|\u30bb\u30fc\u30eb|\u307f\u3093\u306a|\u4e2d\u6587\u7f51|\u4e9a\u9a6c\u900a|\u5929\u4e3b\u6559|\u6211\u7231\u4f60|\u65b0\u52a0\u5761|\u6de1\u9a6c\u9521|\u8bfa\u57fa\u4e9a|\u98de\u5229\u6d66|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|\u03b5\u03bb|\u03b5\u03c5|\u0431\u0433|\u0435\u044e|\u0440\u0444|\u10d2\u10d4|\ub2f7\ub137|\ub2f7\ucef4|\uc0bc\uc131|\ud55c\uad6d|\u30b3\u30e0|\u4e16\u754c|\u4e2d\u4fe1|\u4e2d\u56fd|\u4e2d\u570b|\u4f01\u4e1a|\u4f5b\u5c71|\u4fe1\u606f|\u5065\u5eb7|\u516b\u5366|\u516c\u53f8|\u516c\u76ca|\u53f0\u6e7e|\u53f0\u7063|\u5546\u57ce|\u5546\u5e97|\u5546\u6807|\u5609\u91cc|\u5728\u7ebf|\u5927\u62ff|\u5a31\u4e50|\u5bb6\u96fb|\u5e7f\u4e1c|\u5fae\u535a|\u6148\u5584|\u624b\u673a|\u62db\u8058|\u653f\u52a1|\u653f\u5e9c|\u65b0\u95fb|\u65f6\u5c1a|\u66f8\u7c4d|\u673a\u6784|\u6e38\u620f|\u6fb3\u9580|\u70b9\u770b|\u79fb\u52a8|\u7f51\u5740|\u7f51\u5e97|\u7f51\u7ad9|\u7f51\u7edc|\u8054\u901a|\u8c37\u6b4c|\u8d2d\u7269|\u901a\u8ca9|\u96c6\u56e2|\u98df\u54c1|\u9910\u5385|\u9999\u6e2f)$"),Ct=/[\/?#]/,xt=/[-+&@#/%=~_()|'$*\[\]{}\u2713]/,$e=/[?!:,.;^]/,Ge=/https?:\/\//i,yt=new RegExp("^"+Ge.source,"i"),St=new RegExp($e.source+"$"),Mt=/^(javascript|vbscript):/i,Dt=/^[A-Za-z][-.+A-Za-z0-9]*:(\/\/)?([^:/]*)/,Ut=/^(?:\/\/)?([^/#?:]+)/;function Ce(i){return ae.test(i)}function We(i){return ae.test(i)||q.test(i)||"+"===i||"-"===i||"."===i}function G(i){return ee.test(i)}function xe(i){return"_"===i||G(i)}function Xe(i){return ee.test(i)||xt.test(i)||$e.test(i)}function ye(i){return Ct.test(i)}function et(i){return At.test(i.toLowerCase())}var wt=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,Ft=/[:/?#]/,It=/^(https?:\/\/)?(www\.)?/i,Pt=/^\/\//,Nt=function(i){function s(t){var a=i.call(this,t)||this;return a.type="url",a.url="",a.urlMatchType="scheme",a.protocolRelativeMatch=!1,a.stripPrefix={scheme:!0,www:!0},a.stripTrailingSlash=!0,a.decodePercentEncoding=!0,a.protocolPrepended=!1,a.urlMatchType=t.urlMatchType,a.url=t.url,a.protocolRelativeMatch=t.protocolRelativeMatch,a.stripPrefix=t.stripPrefix,a.stripTrailingSlash=t.stripTrailingSlash,a.decodePercentEncoding=t.decodePercentEncoding,a}return(0,Z.ZT)(s,i),s.prototype.getType=function(){return"url"},s.prototype.getUrlMatchType=function(){return this.urlMatchType},s.prototype.getUrl=function(){var t=this.url;return!this.protocolRelativeMatch&&"scheme"!==this.urlMatchType&&!this.protocolPrepended&&(t=this.url="http://"+t,this.protocolPrepended=!0),t},s.prototype.getAnchorHref=function(){return this.getUrl().replace(/&amp;/g,"&")},s.prototype.getAnchorText=function(){var t=this.getMatchedText();return this.protocolRelativeMatch&&(t=function Jt(i){return i.replace(Pt,"")}(t)),this.stripPrefix.scheme&&(t=function Bt(i){return i.replace(yt,"")}(t)),this.stripPrefix.www&&(t=function qt(i){return i.replace(It,"$1")}(t)),this.stripTrailingSlash&&(t=function Rt(i){return"/"===i.charAt(i.length-1)&&(i=i.slice(0,-1)),i}(t)),this.decodePercentEncoding&&(t=function Lt(i){var s=i.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(s)}catch{return s}}(t)),t},s}(ue),Yt=/^mailto:/i,jt=new RegExp("[".concat(ze,"!#$%&'*+/=?^_`{|}~-]"));function Se(i){return jt.test(i)}var Vt=function(i){function s(t){var a=i.call(this,t)||this;return a.type="email",a.email="",a.email=t.email,a}return(0,Z.ZT)(s,i),s.prototype.getType=function(){return"email"},s.prototype.getEmail=function(){return this.email},s.prototype.getAnchorHref=function(){return"mailto:"+this.email},s.prototype.getAnchorText=function(){return this.email},s}(ue);function tt(i){return"_"===i||ee.test(i)}var Kt=["twitter","facebook","instagram","tiktok"],$t=function(i){function s(t){var a=i.call(this,t)||this;return a.type="hashtag",a.serviceName="twitter",a.hashtag="",a.serviceName=t.serviceName,a.hashtag=t.hashtag,a}return(0,Z.ZT)(s,i),s.prototype.getType=function(){return"hashtag"},s.prototype.getServiceName=function(){return this.serviceName},s.prototype.getHashtag=function(){return this.hashtag},s.prototype.getAnchorHref=function(){var t=this.serviceName,a=this.hashtag;switch(t){case"twitter":return"https://twitter.com/hashtag/"+a;case"facebook":return"https://www.facebook.com/hashtag/"+a;case"instagram":return"https://instagram.com/explore/tags/"+a;case"tiktok":return"https://www.tiktok.com/tag/"+a;default:throw le(t),new Error("Invalid hashtag service: ".concat(t))}},s.prototype.getAnchorText=function(){return"#"+this.hashtag},s.prototype.getCssClassSuffixes=function(){var t=i.prototype.getCssClassSuffixes.call(this),a=this.getServiceName();return a&&t.push(a),t},s}(ue),Gt={twitter:/^@\w{1,15}$/,instagram:/^@[_\w]{1,30}$/,soundcloud:/^@[-a-z0-9_]{3,25}$/,tiktok:/^@[.\w]{1,23}[\w]$/},Wt=/[-\w.]/;function it(i){return Wt.test(i)}var ei=["twitter","instagram","soundcloud","tiktok"],ti=function(i){function s(t){var a=i.call(this,t)||this;return a.type="mention",a.serviceName="twitter",a.mention="",a.mention=t.mention,a.serviceName=t.serviceName,a}return(0,Z.ZT)(s,i),s.prototype.getType=function(){return"mention"},s.prototype.getMention=function(){return this.mention},s.prototype.getServiceName=function(){return this.serviceName},s.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;case"tiktok":return"https://www.tiktok.com/@"+this.mention;default:throw new Error("Unknown service name to point mention to: "+this.serviceName)}},s.prototype.getAnchorText=function(){return"@"+this.mention},s.prototype.getCssClassSuffixes=function(){var t=i.prototype.getCssClassSuffixes.call(this),a=this.getServiceName();return a&&t.push(a),t},s}(ue),ii=/[-. ]/,ai=/[-. ()]/,si=/[,;]/,oi=new RegExp("^".concat(/(?:(?:(?:(\+)?\d{1,3}[-. ]?)?\(?\d{3}\)?[-. ]?\d{3}[-. ]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-. ]?(?:\d[-. ]?){6,12}\d+))([,;]+[0-9]+#?)*/.source,"|").concat(/(0([1-9]-?[1-9]\d{3}|[1-9]{2}-?\d{3}|[1-9]{2}\d{1}-?\d{2}|[1-9]{2}\d{2}-?\d{1})-?\d{4}|0[789]0-?\d{4}-?\d{4}|050-?\d{4}-?\d{4})/.source,"$"));function at(i){return ii.test(i)}function Me(i){return si.test(i)}var li=function(i){function s(t){var a=i.call(this,t)||this;return a.type="phone",a.number="",a.plusSign=!1,a.number=t.number,a.plusSign=t.plusSign,a}return(0,Z.ZT)(s,i),s.prototype.getType=function(){return"phone"},s.prototype.getPhoneNumber=function(){return this.number},s.prototype.getNumber=function(){return this.getPhoneNumber()},s.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},s.prototype.getAnchorText=function(){return this.matchedText},s}(ue);var di=/[\(\{\[]/,st=/[\)\}\]]/,nt={")":"(","}":"{","]":"["};function De(i,s){return{type:"url",startIdx:i,state:s,acceptStateReached:!1,matchType:"scheme"}}function Ue(i,s){return{type:"url",startIdx:i,state:s,acceptStateReached:!1,matchType:"tld"}}function Ze(i,s){return{type:"phone",startIdx:i,state:s,acceptStateReached:!1}}var V=function i(s){void 0===s&&(s={}),this.idx=void 0!==s.idx?s.idx:-1,this.type=s.type||"tag",this.name=s.name||"",this.isOpening=!!s.isOpening,this.isClosing=!!s.isClosing};const Ci=function(){function i(s){void 0===s&&(s={}),this.version=i.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.sanitizeHtml=!1,this.tagBuilder=null,this.urls=function bi(i){return null==i&&(i=!0),F(i)?{schemeMatches:i,tldMatches:i,ipV4Matches:i}:{schemeMatches:!F(i.schemeMatches)||i.schemeMatches,tldMatches:!F(i.tldMatches)||i.tldMatches,ipV4Matches:!F(i.ipV4Matches)||i.ipV4Matches}}(s.urls),this.email=F(s.email)?s.email:this.email,this.phone=F(s.phone)?s.phone:this.phone,this.hashtag=s.hashtag||this.hashtag,this.mention=s.mention||this.mention,this.newWindow=F(s.newWindow)?s.newWindow:this.newWindow,this.stripPrefix=function Ei(i){return null==i&&(i=!0),F(i)?{scheme:i,www:i}:{scheme:!F(i.scheme)||i.scheme,www:!F(i.www)||i.www}}(s.stripPrefix),this.stripTrailingSlash=F(s.stripTrailingSlash)?s.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding=F(s.decodePercentEncoding)?s.decodePercentEncoding:this.decodePercentEncoding,this.sanitizeHtml=s.sanitizeHtml||!1;var t=this.mention;if(!1!==t&&-1===ei.indexOf(t))throw new Error("invalid `mention` cfg '".concat(t,"' - see docs"));var a=this.hashtag;if(!1!==a&&-1===Kt.indexOf(a))throw new Error("invalid `hashtag` cfg '".concat(a,"' - see docs"));this.truncate=function Ai(i){return"number"==typeof i?{length:i,location:"end"}:function be(i,s){for(var t in s)s.hasOwnProperty(t)&&Te(i[t])&&(i[t]=s[t]);return i}(i||{},{length:Number.POSITIVE_INFINITY,location:"end"})}(s.truncate),this.className=s.className||this.className,this.replaceFn=s.replaceFn||this.replaceFn,this.context=s.context||this}return i.link=function(s,t){return new i(t).link(s)},i.parse=function(s,t){return new i(t).parse(s)},i.prototype.parse=function(s){var t=this,a=["a","style","script"],n=0,c=[];return function _i(i,s){for(var t=s.onOpenTag,a=s.onCloseTag,n=s.onText,c=s.onComment,g=s.onDoctype,T=new V,v=0,h=i.length,u=0,f=0,d=T;v<h;){var b=i.charAt(v);switch(u){case 0:"<"===b&&Y();break;case 1:"!"===(p=b)?u=13:"/"===p?(u=2,d=new V((0,Z.pi)((0,Z.pi)({},d),{isClosing:!0}))):"<"===p?Y():ae.test(p)?(u=3,d=new V((0,Z.pi)((0,Z.pi)({},d),{isOpening:!0}))):(u=0,d=T);break;case 2:re(b);break;case 3:$(b);break;case 4:k(b);break;case 5:I(b);break;case 6:w(b);break;case 7:D(b);break;case 8:oe(b);break;case 9:ce(b);break;case 10:we(b);break;case 11:Fe(b);break;case 12:Oe(b);break;case 13:"--"===i.substr(v,2)?(v+=2,d=new V((0,Z.pi)((0,Z.pi)({},d),{type:"comment"})),u=14):"DOCTYPE"===i.substr(v,7).toUpperCase()?(v+=7,d=new V((0,Z.pi)((0,Z.pi)({},d),{type:"doctype"})),u=20):L();break;case 14:Pe(b);break;case 15:Ne(b);break;case 16:Be(b);break;case 17:qe(b);break;case 18:Je(b);break;case 19:Re(b);break;case 20:Le(b);break;default:le(u)}v++}var p;function $(p){Q.test(p)?(d=new V((0,Z.pi)((0,Z.pi)({},d),{name:H()})),u=4):"<"===p?Y():"/"===p?(d=new V((0,Z.pi)((0,Z.pi)({},d),{name:H()})),u=12):">"===p?(d=new V((0,Z.pi)((0,Z.pi)({},d),{name:H()})),j()):!ae.test(p)&&!q.test(p)&&":"!==p&&L()}function re(p){">"===p?L():ae.test(p)?u=3:L()}function k(p){Q.test(p)||("/"===p?u=12:">"===p?j():"<"===p?Y():"="===p||Ae.test(p)||gt.test(p)?L():u=5)}function I(p){Q.test(p)?u=6:"/"===p?u=12:"="===p?u=7:">"===p?j():"<"===p?Y():Ae.test(p)&&L()}function w(p){Q.test(p)||("/"===p?u=12:"="===p?u=7:">"===p?j():"<"===p?Y():Ae.test(p)?L():u=5)}function D(p){Q.test(p)||('"'===p?u=8:"'"===p?u=9:/[>=`]/.test(p)?L():"<"===p?Y():u=10)}function oe(p){'"'===p&&(u=11)}function ce(p){"'"===p&&(u=11)}function we(p){Q.test(p)?u=4:">"===p?j():"<"===p&&Y()}function Fe(p){Q.test(p)?u=4:"/"===p?u=12:">"===p?j():"<"===p?Y():(u=4,function je(){v--}())}function Oe(p){">"===p?(d=new V((0,Z.pi)((0,Z.pi)({},d),{isClosing:!0})),j()):u=4}function Pe(p){"-"===p?u=15:">"===p?L():u=16}function Ne(p){"-"===p?u=18:">"===p?L():u=16}function Be(p){"-"===p&&(u=17)}function qe(p){u="-"===p?18:16}function Je(p){">"===p?j():"!"===p?u=19:"-"===p||(u=16)}function Re(p){"-"===p?u=17:">"===p?j():u=16}function Le(p){">"===p?j():"<"===p&&Y()}function L(){u=0,d=T}function Y(){u=1,d=new V({idx:v})}function j(){var p=i.slice(f,d.idx);p&&n(p,f),"comment"===d.type?c(d.idx):"doctype"===d.type?g(d.idx):(d.isOpening&&t(d.name,d.idx),d.isClosing&&a(d.name,d.idx)),L(),f=v+1}function H(){return i.slice(d.idx+(d.isClosing?2:1),v).toLowerCase()}f<v&&function Ye(){var p=i.slice(f,v);n(p,f),f=v+1}()}(s,{onOpenTag:function(g){a.indexOf(g)>=0&&n++},onText:function(g,T){if(0===n){var h=g.split(/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi),u=T;h.forEach(function(f,d){if(d%2==0){var b=t.parseText(f,u);c.push.apply(c,b)}u+=f.length})}},onCloseTag:function(g){a.indexOf(g)>=0&&(n=Math.max(n-1,0))},onComment:function(g){},onDoctype:function(g){}}),c=this.compactMatches(c),c=this.removeUnwantedMatches(c)},i.prototype.compactMatches=function(s){s.sort(function(v,h){return v.getOffset()-h.getOffset()});for(var t=0;t<s.length-1;){var a=s[t],n=a.getOffset(),c=a.getMatchedText().length,g=n+c;if(t+1<s.length){if(s[t+1].getOffset()===n){var T=s[t+1].getMatchedText().length>c?t:t+1;s.splice(T,1);continue}if(s[t+1].getOffset()<g){s.splice(t+1,1);continue}}t++}return s},i.prototype.removeUnwantedMatches=function(s){return this.hashtag||X(s,function(t){return"hashtag"===t.getType()}),this.email||X(s,function(t){return"email"===t.getType()}),this.phone||X(s,function(t){return"phone"===t.getType()}),this.mention||X(s,function(t){return"mention"===t.getType()}),this.urls.schemeMatches||X(s,function(t){return"url"===t.getType()&&"scheme"===t.getUrlMatchType()}),this.urls.tldMatches||X(s,function(t){return"url"===t.getType()&&"tld"===t.getUrlMatchType()}),this.urls.ipV4Matches||X(s,function(t){return"url"===t.getType()&&"ipV4"===t.getUrlMatchType()}),s},i.prototype.parseText=function(s,t){void 0===t&&(t=0),t=t||0;for(var a=function ui(i,s){for(var t=s.tagBuilder,a=s.stripPrefix,n=s.stripTrailingSlash,c=s.decodePercentEncoding,g=s.hashtagServiceName,T=s.mentionServiceName,v=[],h=i.length,u=[],f=0;f<h;f++){var d=i.charAt(f);if(0===u.length)$(d);else for(var b=u.length-1;b>=0;b--){var _=u[b];switch(_.state){case 11:o=_,"/"===d?o.state=12:C(u,o);break;case 12:ce(_,d);break;case 0:re(_,d);break;case 1:k(_,d);break;case 2:I(_,d);break;case 3:w(_,d);break;case 4:D(_,d);break;case 5:we(_,d);break;case 6:Fe(_,d);break;case 7:Oe(_,d);break;case 13:Ie(_,d);break;case 14:Pe(_,d);break;case 8:Ne(_,d);break;case 9:Be(_,d);break;case 10:qe(_,d);break;case 15:Je(_,d);break;case 16:Re(_,d);break;case 17:Le(_,d);break;case 18:L(_,d);break;case 19:Y(_,d);break;case 20:j(_,d);break;case 21:Ye(_,d);break;case 22:H(_,d);break;case 23:je(_,d);break;case 24:p(_,d);break;case 25:On(_,d);break;case 26:In(_,d);break;case 27:Pn(_,d);break;case 28:Nn(_,d);break;case 29:Bn(_,d);break;case 30:qn(_,d);break;case 31:Jn(_,d);break;case 32:Ln(_,d);break;case 33:Yn(_,d);break;case 34:jn(_,d);break;case 35:Qn(_,d);break;case 36:Hn(_,d);break;case 37:Rn(_,d);break;case 38:Vn(_,d);break;case 39:zn(_,d);break;case 40:Kn(_,d);break;case 41:$n(_,d);break;default:le(_.state)}}}for(var o,ne=u.length-1;ne>=0;ne--)u.forEach(function(o){return U(o)});return v;function $(o){if("#"===o)u.push(function mi(i,s){return{type:"hashtag",startIdx:i,state:s,acceptStateReached:!1}}(f,28));else if("@"===o)u.push(function fi(i,s){return{type:"mention",startIdx:i,state:s,acceptStateReached:!1}}(f,30));else if("/"===o)u.push(Ue(f,11));else if("+"===o)u.push(Ze(f,37));else if("("===o)u.push(Ze(f,32));else{if(q.test(o)&&(u.push(Ze(f,38)),u.push(function gi(i,s){return{type:"url",startIdx:i,state:s,acceptStateReached:!1,matchType:"ipV4",octetsEncountered:1}}(f,13))),function Qt(i){return ee.test(i)}(o)){var l="m"===o.toLowerCase()?15:22;u.push(function vi(i,s){return{type:"email",startIdx:i,state:s,acceptStateReached:!1}}(f,l))}Ce(o)&&u.push(De(f,0)),ee.test(o)&&u.push(Ue(f,5))}}function re(o,l){":"===l?o.state=2:"-"===l?o.state=1:We(l)||C(u,o)}function k(o,l){"-"===l||("/"===l?(C(u,o),u.push(Ue(f,11))):We(l)?o.state=0:C(u,o))}function I(o,l){"/"===l?o.state=3:"."===l?C(u,o):G(l)?(o.state=5,Ce(l)&&u.push(De(f,0))):C(u,o)}function w(o,l){"/"===l?o.state=4:Xe(l)?(o.state=10,o.acceptStateReached=!0):U(o)}function D(o,l){"/"===l?o.state=10:G(l)?(o.state=5,o.acceptStateReached=!0):C(u,o)}function ce(o,l){G(l)?o.state=5:C(u,o)}function we(o,l){"."===l?o.state=7:"-"===l?o.state=6:":"===l?o.state=8:ye(l)?o.state=10:xe(l)||U(o)}function Fe(o,l){"-"===l||("."===l?U(o):G(l)?o.state=5:U(o))}function Oe(o,l){"."===l?U(o):G(l)?(o.state=5,o.acceptStateReached=!0):U(o)}function Ie(o,l){"."===l?o.state=14:":"===l?o.state=8:q.test(l)||(ye(l)?o.state=10:ee.test(l)?C(u,o):U(o))}function Pe(o,l){q.test(l)?(o.octetsEncountered++,4===o.octetsEncountered&&(o.acceptStateReached=!0),o.state=13):U(o)}function Ne(o,l){q.test(l)?o.state=9:U(o)}function Be(o,l){q.test(l)||(ye(l)?o.state=10:U(o))}function qe(o,l){Xe(l)||U(o)}function Je(o,l){"a"===l.toLowerCase()?o.state=16:H(o,l)}function Re(o,l){"i"===l.toLowerCase()?o.state=17:H(o,l)}function Le(o,l){"l"===l.toLowerCase()?o.state=18:H(o,l)}function L(o,l){"t"===l.toLowerCase()?o.state=19:H(o,l)}function Y(o,l){"o"===l.toLowerCase()?o.state=20:H(o,l)}function j(o,l){":"===l.toLowerCase()?o.state=21:H(o,l)}function Ye(o,l){Se(l)?o.state=22:C(u,o)}function H(o,l){"."===l?o.state=23:"@"===l?o.state=24:Se(l)?o.state=22:C(u,o)}function je(o,l){"."===l||"@"===l?C(u,o):Se(l)?o.state=22:C(u,o)}function p(o,l){G(l)?o.state=25:C(u,o)}function On(o,l){"."===l?o.state=27:"-"===l?o.state=26:xe(l)||U(o)}function In(o,l){"-"===l||"."===l?U(o):xe(l)?o.state=25:U(o)}function Pn(o,l){"."===l||"-"===l?U(o):G(l)?(o.state=25,o.acceptStateReached=!0):U(o)}function Nn(o,l){tt(l)?(o.state=29,o.acceptStateReached=!0):C(u,o)}function Bn(o,l){tt(l)||U(o)}function qn(o,l){it(l)?(o.state=31,o.acceptStateReached=!0):C(u,o)}function Jn(o,l){it(l)||(ee.test(l)?C(u,o):U(o))}function Rn(o,l){q.test(l)?o.state=38:(C(u,o),$(l))}function Ln(o,l){q.test(l)?o.state=33:C(u,o),$(l)}function Yn(o,l){q.test(l)?o.state=34:C(u,o)}function jn(o,l){q.test(l)?o.state=35:C(u,o)}function Qn(o,l){")"===l?o.state=36:C(u,o)}function Hn(o,l){q.test(l)?o.state=38:at(l)?o.state=39:C(u,o)}function Vn(o,l){o.acceptStateReached=!0,Me(l)?o.state=40:"#"===l?o.state=41:q.test(l)||("("===l?o.state=32:at(l)?o.state=39:(U(o),Ce(l)&&u.push(De(f,0))))}function zn(o,l){q.test(l)?o.state=38:"("===l?o.state=32:(U(o),$(l))}function Kn(o,l){Me(l)||("#"===l?o.state=41:q.test(l)?o.state=38:U(o))}function $n(o,l){Me(l)?o.state=40:q.test(l)?C(u,o):U(o)}function U(o){if(C(u,o),o.acceptStateReached){var l=o.startIdx,x=i.slice(o.startIdx,f);if(x=function pi(i){for(var s={"(":0,"{":0,"[":0},t=0;t<i.length;t++){var a=i.charAt(t);di.test(a)?s[a]++:st.test(a)&&s[nt[a]]--}for(var c,n=i.length-1;n>=0;)if(c=i.charAt(n),st.test(c)){var g=nt[c];if(!(s[g]<0))break;s[g]++,n--}else{if(!St.test(c))break;n--}return i.slice(0,n+1)}(x),"url"===o.type){if("@"===i.charAt(o.startIdx-1))return;var ve=o.matchType;if("scheme"===ve){var Qe=Ge.exec(x);if(Qe&&(l+=Qe.index,x=x.slice(Qe.index)),!function Zt(i){if(Mt.test(i))return!1;var s=i.match(Dt);if(!s)return!1;var a=s[2];return!!s[1]||!(-1===a.indexOf(".")||!ae.test(a))}(x))return}else if("tld"===ve){if(!function kt(i){var s=i.match(Ut);if(!s)return!1;var a=s[0].split(".");return!(a.length<2||!et(a[a.length-1]))}(x))return}else if("ipV4"===ve){if(!function Ot(i){var s=i.split(Ft,1)[0];return wt.test(s)}(x))return}else le(ve);v.push(new Nt({tagBuilder:t,matchedText:x,offset:l,urlMatchType:ve,url:x,protocolRelativeMatch:"//"===x.slice(0,2),stripPrefix:a,stripTrailingSlash:n,decodePercentEncoding:c}))}else if("email"===o.type)(function Ht(i){return et(i.split(".").pop()||"")})(x)&&v.push(new Vt({tagBuilder:t,matchedText:x,offset:l,email:x.replace(Yt,"")}));else if("hashtag"===o.type)(function zt(i){return i.length<=140})(x)&&v.push(new $t({tagBuilder:t,matchedText:x,offset:l,serviceName:g,hashtag:x.slice(1)}));else if("mention"===o.type)(function Xt(i,s){return Gt[s].test(i)})(x,T)&&v.push(new ti({tagBuilder:t,matchedText:x,offset:l,serviceName:T,mention:x.slice(1)}));else if("phone"===o.type){if(function ci(i){return("+"===i.charAt(0)||ai.test(i))&&oi.test(i)}(x=x.replace(/ +$/g,""))){var Wn=x.replace(/[^0-9,;#]/g,"");v.push(new li({tagBuilder:t,matchedText:x,offset:l,number:Wn,plusSign:"+"===x.charAt(0)}))}}else le(o)}}}(s,{tagBuilder:this.getTagBuilder(),stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding,hashtagServiceName:this.hashtag,mentionServiceName:this.mention||"twitter"}),n=0,c=a.length;n<c;n++)a[n].setOffset(t+a[n].getOffset());return a},i.prototype.link=function(s){if(!s)return"";this.sanitizeHtml&&(s=s.replace(/</g,"&lt;").replace(/>/g,"&gt;"));for(var t=this.parse(s),a=[],n=0,c=0,g=t.length;c<g;c++){var T=t[c];a.push(s.substring(n,T.getOffset())),a.push(this.createMatchReturnVal(T)),n=T.getOffset()+T.getMatchedText().length}return a.push(s.substring(n)),a.join("")},i.prototype.createMatchReturnVal=function(s){var t;return this.replaceFn&&(t=this.replaceFn.call(this.context,s)),"string"==typeof t?t:!1===t?s.getMatchedText():t instanceof Ke?t.toAnchorString():s.buildTag().toAnchorString()},i.prototype.getTagBuilder=function(){var s=this.tagBuilder;return s||(s=this.tagBuilder=new bt({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),s},i.version="4.0.0",i}();let xi=(()=>{class i{transform(t,a){return Ci.link(t,a)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"linky",type:i,pure:!0}),i})(),yi=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();var N=m(95715),r=m(45007),de=m(39646),J=m(63900),E=m(18505),P=m(70262),O=m(82722),pe=m(54004),z=m(92635);class _e{constructor(s={}){Object.isExists(s.espaceTravail)&&(this.espaceTravail=new r.zH9(s.espaceTravail)),Object.isExists(s.idUser)&&(this.idUser=s.idUser),Object.isExists(s.typeUser)&&(this.typeUser=s.typeUser)}static initialState(){return new _e}}let B=class extends r.yh4{constructor(s){super(s),this.devTool=s}updateStore(s){this.store=new _e({...this.snapshot,...s})}};B.\u0275fac=function(s){return new(s||B)(e.LFG(r.lbX))},B.\u0275prov=e.Yz7({token:B,factory:B.\u0275fac}),B=(0,Z.gn)([(0,r.pcA)({classInstanceRef:_e,resetWhenSwipe:!0,className:"EspaceTravailUserStore"})],B);var y=m(36895),K=m(80125);function Si(i,s){if(1&i&&(e.TgZ(0,"h2"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.espaceTravail.titre)}}function Mi(i,s){if(1&i&&(e.TgZ(0,"li",10),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Oqu(t.espaceTravail.titre)}}function Di(i,s){if(1&i&&(e.TgZ(0,"ol",6)(1,"li",7)(2,"a",8)(3,"h2"),e._uU(4,"Espaces de travail"),e.qZA()()(),e.YNc(5,Mi,2,1,"li",9),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.hYB("routerLink","/",t.authStore.currentUser.typeCompte,"/",t.authStore.currentUser.id,"/EspacesTravail"),e.xp6(3),e.Q6J("ngIf",t.espaceTravail)}}function Ui(i,s){1&i&&(e.TgZ(0,"a",19),e._uU(1,"Agenda"),e.qZA())}function Zi(i,s){1&i&&(e.TgZ(0,"a",20),e._uU(1,"Discussion"),e.qZA())}function ki(i,s){1&i&&(e.TgZ(0,"a",21),e._uU(1,"Cloud"),e.qZA())}function wi(i,s){if(1&i&&(e.TgZ(0,"span",24),e._uU(1),e.qZA()),2&i){const t=e.oxw(5);e.xp6(1),e.Oqu(t.badgesTotalSalleDesProfs)}}function Fi(i,s){if(1&i&&(e.TgZ(0,"span"),e.YNc(1,wi,2,1,"span",23),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.badgesTotalSalleDesProfs>0)}}function Oi(i,s){if(1&i&&(e.TgZ(0,"span",24),e._uU(1),e.qZA()),2&i){const t=e.oxw(5);e.xp6(1),e.Oqu(t.nbBadges)}}function Ii(i,s){if(1&i&&(e.TgZ(0,"span"),e.YNc(1,Oi,2,1,"span",23),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.nbBadges>0)}}function Pi(i,s){if(1&i&&(e.TgZ(0,"a",22),e._uU(1," Activit\xe9 "),e.YNc(2,Fi,2,1,"span",1),e.YNc(3,Ii,2,1,"span",1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(2),e.Q6J("ngIf",t.espaceTravail.salleDesProfs),e.xp6(1),e.Q6J("ngIf",!t.espaceTravail.salleDesProfs)}}function Ni(i,s){1&i&&(e.TgZ(0,"a",25),e._uU(1," Administration "),e.qZA())}function Bi(i,s){if(1&i&&(e.TgZ(0,"div",11)(1,"a",12),e._uU(2,"Accueil"),e.qZA(),e.YNc(3,Ui,2,0,"a",13),e.YNc(4,Zi,2,0,"a",14),e.YNc(5,ki,2,0,"a",15),e.TgZ(6,"a",16),e._uU(7,"Les membres"),e.qZA(),e.YNc(8,Pi,4,2,"a",17),e.YNc(9,Ni,2,0,"a",18),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.espaceTravail.agenda),e.xp6(1),e.Q6J("ngIf",t.espaceTravail.discussion),e.xp6(1),e.Q6J("ngIf",t.espaceTravail.cloud),e.xp6(3),e.Q6J("ngIf",t.espaceTravail.estMembre),e.xp6(1),e.Q6J("ngIf",t.espaceTravail.estAdmin)}}function qi(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"header",2),e.YNc(2,Si,2,1,"h2",1),e.YNc(3,Di,6,3,"ol",3),e.YNc(4,Bi,10,5,"div",4),e.qZA(),e.TgZ(5,"div",5),e._UZ(6,"router-outlet"),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",null==t.espaceTravail?null:t.espaceTravail.salleDesProfs),e.xp6(1),e.Q6J("ngIf",!(null!=t.espaceTravail&&t.espaceTravail.salleDesProfs)),e.xp6(1),e.Q6J("ngIf",t.espaceTravail)}}let Ji=(()=>{class i extends((0,r.kCV)()){constructor(t,a,n,c,g,T,v,h,u){super(),this.authStore=t,this.loaderService=a,this.uiService=n,this.activatedRoute=c,this.espaceDeTravailStore=g,this.espaceDeTravailService=T,this.espaceTravailUserStore=v,this.badgesStore=h,this.cd=u,this.idEspaceTravail=0,this.nbBadges=0,this.badgesTotalSalleDesProfs=0}ngOnInit(){this.activatedRoute.paramMap.pipe((0,J.w)(t=>{this.loader=this.loaderService.show(this),this.idEspaceTravail=+t.get("idEspace"),this.idUser=+t.get("idUser"),this.typeUser=t.get("typeUser"),this.espaceTravailUserStore.updateStore({typeUser:t.get("typeUser"),idUser:+t.get("idUser")});const a=Object.getEntity(this.espaceDeTravailStore.snapshot,r.$ej.edDBUserSpecificKey(this.authStore.currentUser.codeOgec,this.typeUser,this.idUser));return Object.isExpired(a)?this.espaceDeTravailService.listeEspacesTravail(this.idUser,this.typeUser,!0):(0,de.of)(a.espacesDeTravail)}),(0,E.b)(t=>{this.loaderService.hide(this);const a=this.espaceDeTravailStore.getEspaceTravail(this.idEspaceTravail,this.authStore.currentUser.codeOgec,this.typeUser,this.idUser);this.espaceTravailUserStore.updateStore({espaceTravail:a})}),(0,P.K)(()=>(this.uiService.notifyEvent(r.DOJ.genericError,"Chargement de l'espace de travail impossible","Espaces de travail"),this.loaderService.hide(this),(0,de.of)(void 0))),(0,O.R)(this.componentDestroyed$)).subscribe(),this.espaceTravailUserStore.select$().pipe((0,pe.U)(t=>t.espaceTravail),(0,J.w)(t=>(this.espaceTravail=t,Object.isExists(t)?(t.salleDesProfs&&this.badgesStore.select$().pipe((0,E.b)(a=>{this.badgesTotalSalleDesProfs=a.getBadgeFromModule(r.lFO.SALLE_DES_PROFS,this.authStore.currentUser.id,r.o2q[this.authStore.currentUser.typeCompte]),this.cd.markForCheck()}),(0,O.R)(this.componentDestroyed$)).subscribe(),this.espaceDeTravailStore.selectEspaceTravaiBadges(t.id,this.authStore.currentUser.codeOgec,this.typeUser,this.idUser)):(0,de.of)(void 0))),(0,E.b)(t=>{Object.isExists(t)&&(this.nbBadges=t)}),(0,O.R)(this.componentDestroyed$)).subscribe()}ngOnDestroy(){return this.espaceTravailUserStore.reset(),super.ngOnDestroy()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.CnD),e.Y36(z.S),e.Y36(r.VLf),e.Y36(N.gz),e.Y36(r.EYm),e.Y36(r.AUs),e.Y36(B),e.Y36(r.et7),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ed-espace-travail"]],features:[e.qOj],decls:2,vars:2,consts:[["id","content-espaceTravail",1,"ed-container","double-padding","page-detail-espace",3,"ngBusy"],[4,"ngIf"],[1,"entete-page"],["class","breadcrumb d-print-none titre-page",4,"ngIf"],["class","btn-group d-print-none",4,"ngIf"],[1,"container-bg","double-padding"],[1,"breadcrumb","d-print-none","titre-page"],[1,"breadcrum-item"],["href","",3,"routerLink"],["class","active breadcrum-item",4,"ngIf"],[1,"active","breadcrum-item"],[1,"btn-group","d-print-none"],["routerLinkActive","active note-active","href","","routerLink","accueil",1,"btn","btn-secondary","btn-primary-color"],["class","btn btn-secondary btn-primary-color","routerLinkActive","active note-active","href","","routerLink","agenda",4,"ngIf"],["class","btn btn-secondary btn-primary-color","routerLinkActive","active note-active","href","","routerLink","discussion",4,"ngIf"],["class","btn btn-secondary btn-primary-color","routerLinkActive","active note-active","href","","routerLink","cloud",4,"ngIf"],["routerLinkActive","active note-active","href","","routerLink","membres",1,"btn","btn-secondary","btn-primary-color"],["class","btn btn-secondary btn-primary-color","routerLinkActive","active note-active","href","","routerLink","activite",4,"ngIf"],["class","btn btn-secondary btn-primary-color","routerLinkActive","active note-active","href","","routerLink","administration",4,"ngIf"],["routerLinkActive","active note-active","href","","routerLink","agenda",1,"btn","btn-secondary","btn-primary-color"],["routerLinkActive","active note-active","href","","routerLink","discussion",1,"btn","btn-secondary","btn-primary-color"],["routerLinkActive","active note-active","href","","routerLink","cloud",1,"btn","btn-secondary","btn-primary-color"],["routerLinkActive","active note-active","href","","routerLink","activite",1,"btn","btn-secondary","btn-primary-color"],["class","badge alert-danger",4,"ngIf"],[1,"badge","alert-danger"],["routerLinkActive","active note-active","href","","routerLink","administration",1,"btn","btn-secondary","btn-primary-color"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e.YNc(1,qi,7,3,"ng-container",1),e.qZA()),2&t&&(e.Q6J("ngBusy",a.loader),e.xp6(1),e.Q6J("ngIf",a.espaceTravail))},dependencies:[N.lC,N.yS,N.Od,y.O5,K.DC],styles:[".page-detail-espace .encart-accueil{padding-top:20px;padding-bottom:40px}.page-detail-espace .description .btn-action i{font-size:20px}.page-detail-espace .description .zone-modif img{max-width:100%}.page-detail-espace .description .zone-modif h1{margin:30px 0 20px;font-size:25px}.page-detail-espace .zone-agenda:not(:first-child){margin-top:60px}.page-detail-espace #btn-ajouter-postit{margin-top:-55px}.page-detail-espace .item-postit{padding-left:0;padding-right:0;width:100%}#content-espaceTravail .entete-page{flex-wrap:wrap}#content-espaceTravail .entete-page h2{flex:1}#content-espaceTravail .entete-page .btn-group{white-space:nowrap}#content-espaceTravail .btn-secondary .badge.alert-danger{background-color:var(--secondary-color)}#content-espaceTravail #encart-activite div.activite .cible i{color:var(--light-primary-color);font-size:50px}#content-espaceTravail #encart-activite div.activite span.membre{display:block;font-weight:700}\n"],encapsulation:2}),i})();var S=m(60515),te=m(46590),M=m(28746),Ri=m(77579),W=m(20388),A=m(24006),rt=m(43459);function Li(i,s){1&i&&(e.TgZ(0,"strong",20),e._uU(1,"Inscription/D\xe9sinscription"),e.qZA())}function Yi(i,s){1&i&&(e.TgZ(0,"strong",20),e._uU(1,"D\xe9sinscription"),e.qZA())}function ji(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",21)(2,"input",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw();return e.KtG(c.espaceTravail.ouvert=n)}),e.qZA(),e.TgZ(3,"label",47),e._uU(4,"Ouvert"),e.qZA()(),e.TgZ(5,"div",21)(6,"input",48),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw();return e.KtG(c.espaceTravail.ouvert=n)}),e.qZA(),e.TgZ(7,"label",49),e._uU(8,"Ferm\xe9"),e.qZA()(),e._UZ(9,"div",26),e.TgZ(10,"p",14),e._uU(11," Ouvert : les utilisateurs EcoleDirecte peuvent rejoindre ou quitter votre espace de travail. "),e._UZ(12,"br"),e._uU(13," Ferm\xe9 : les utilisateurs EcoleDirecte ne peuvent pas rejoindre ni quitter votre espace de travail. "),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.espaceTravail.ouvert)("value",!0),e.xp6(4),e.Q6J("ngModel",t.espaceTravail.ouvert)("value",!1)}}function Qi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",21)(2,"input",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw();return e.KtG(c.espaceTravail.ouvert=n)}),e.qZA(),e.TgZ(3,"label",51),e._uU(4,"Oui"),e.qZA()(),e.TgZ(5,"div",21)(6,"input",52),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw();return e.KtG(c.espaceTravail.ouvert=n)}),e.qZA(),e.TgZ(7,"label",53),e._uU(8,"Non"),e.qZA()(),e._UZ(9,"div",26),e.TgZ(10,"p",14),e._uU(11," Oui : les utilisateurs EcoleDirecte peuvent se d\xe9sinscrire de votre espace de travail. "),e._UZ(12,"br"),e._uU(13," Non : les utilisateurs EcoleDirecte ne peuvent pas se d\xe9sinscrire de votre espace de travail. "),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.espaceTravail.ouvert)("value",!0),e.xp6(4),e.Q6J("ngModel",t.espaceTravail.ouvert)("value",!1)}}function Hi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",54)(1,"strong"),e._uU(2,"Couleur des \xe9v\xe9nements de l'agenda"),e.qZA(),e.TgZ(3,"ed-color-picker",55),e.NdJ("currentColorChange",function(n){e.CHM(t);const c=e.oxw();return e.KtG(c.espaceTravail.couleurEvenementAgenda=n)}),e.qZA(),e.TgZ(4,"p",14),e._uU(5,"Vous permet de d\xe9finir une couleur pour tous les \xe9v\xe9nements de l'agenda de votre espace de travail."),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("currentColor",t.espaceTravail.couleurEvenementAgenda)("tabColors",t.ESPACES_TRAVAIL_AGENDA_COULEURS)}}const ot=function(i){return{"has-error":i}};let Vi=(()=>{class i{constructor(t,a,n,c,g){this.modalRef=t,this.loaderService=a,this.uiService=n,this.espaceDeTravailService=c,this.authStore=g,this.ESPACES_TRAVAIL_AGENDA_COULEURS=r.WyP,this.onClose$=new Ri.x,this.espaceTravail=new r.zH9,this.espaceTravail.cloud=!0,this.espaceTravail.discussion=!0,this.espaceTravail.agenda=!0,this.espaceTravail.couleurEvenementAgenda="#1796b0"}ngOnDestroy(){this.onClose$.complete()}ajoutEspaceTravail(){this.loader=this.loaderService.show(this),this.espaceDeTravailService.ajoutEspaceTravail(this.authStore.currentUser.id,this.authStore.currentUser.typeCompte,this.espaceTravail).pipe((0,E.b)(()=>{this.uiService.notifyEvent(r.DOJ.genericSuccess,"Cr\xe9ation de votre espace de travail effectu\xe9 !","Espaces de travail","icon-ed_espacedetravail"),this.onClose$.next(!0),this.modalRef.hide()}),(0,P.K)(()=>(this.uiService.notifyEvent(r.DOJ.genericError,"Cr\xe9ation de l'espace de travail impossible","Espaces de travail"),S.E)),(0,M.x)(()=>this.loaderService.hide(this))).subscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(W.UZ),e.Y36(z.S),e.Y36(r.VLf),e.Y36(r.AUs),e.Y36(r.CnD))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ed-ajout-espace-travail-modal"]],decls:108,vars:32,consts:[[3,"ngBusy"],["id","formAjoutEspace","name","formAjoutEspace","ngForm","","novalidate","",3,"ngSubmit"],["formAjoutEspace","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Fermer cette fen\xeatre",1,"btn-close","d-print-none",3,"click"],[1,"modal-body","pt-4"],[1,"ed-card","card","with-epingle","mt-0"],[1,"card-body"],[1,"control-group",3,"ngClass"],["for","nomEspaceTravail",1,"form-label"],[1,"controls"],["id","nomEspaceTravail","name","nomEspaceTravail","placeholder","","required","","type","text",1,"input-xlarge","form-control",3,"ngModel","ngModelChange"],["nomEspaceTravail","ngModel"],[1,"form-text"],["for","resumeEspace",1,"form-label"],["cols","55","id","resumeEspace","name","resumeEspace","required","","rows","5",1,"form-control",3,"ngModel","ngModelChange"],["resumeEspace","ngModel"],[1,"ed-card","card","with-epingle"],[1,"card-header"],[1,"text-normal"],[1,"form-check","form-check-inline"],["id","radioVisibilite1","name","optionsRadiosVisibilite","type","radio",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","radioVisibilite1",1,"form-check-label","fw-normal"],["id","radioVisibilite2","name","optionsRadiosVisibilite","type","radio",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","radioVisibilite2",1,"form-check-label","fw-normal"],[1,"clearfix"],["class","text-normal",4,"ngIf"],[4,"ngIf"],["id","radioCloud1","name","optionsRadiosCloud","type","radio",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","radioCloud1",1,"form-check-label","fw-normal"],["id","radioCloud2","name","optionsRadiosCloud","type","radio",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","radioCloud2",1,"form-check-label","fw-normal"],["id","radioTchat1","name","optionsRadiosDisc","type","radio",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","radioTchat1",1,"form-check-label","fw-normal"],["id","radioTchat2","name","optionsRadiosDisc","type","radio",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","radioTchat2",1,"form-check-label","fw-normal"],["id","radioAgenda1","name","optionsRadiosDAgenda","type","radio",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","radioAgenda1",1,"form-check-label","fw-normal"],["id","radioAgenda2","name","optionsRadiosDAgenda","type","radio",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","radioAgenda2",1,"form-check-label","fw-normal"],["class","mt-3",4,"ngIf"],[1,"modal-footer"],[1,"w-100"],["id","button1id","name","button1id","type","submit",1,"btn","btn-success","float-end",3,"disabled"],["id","button2id","name","button2id","type","button",1,"btn","btn-danger","float-start",3,"click"],["id","radioInsc1","name","optionsRadiosInsc","type","radio",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","radioInsc1",1,"form-check-label","fw-normal"],["id","radioInsc2","name","optionsRadiosInsc","type","radio",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","radioInsc2",1,"form-check-label","fw-normal"],["id","radioInscr1","name","optionsRadiosInsc","type","radio",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","radioInscr1",1,"form-check-label","fw-normal"],["id","radioInscr2","name","optionsRadiosInsc","type","radio",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","radioInscr2",1,"form-check-label","fw-normal"],[1,"mt-3"],[3,"currentColor","tabColors","currentColorChange"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"form",1,2),e.NdJ("ngSubmit",function(){return a.ajoutEspaceTravail()}),e.TgZ(3,"fieldset")(4,"div",3)(5,"h3",4),e._uU(6,"Ajouter un espace de travail"),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return a.modalRef.hide()}),e.qZA()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),e._uU(13,"Nom de l'espace"),e.qZA(),e.TgZ(14,"div",11)(15,"input",12,13),e.NdJ("ngModelChange",function(c){return a.espaceTravail.titre=c}),e.qZA(),e.TgZ(17,"p",14),e._uU(18,"Il s'agit du nom de votre espace de travail"),e.qZA()()(),e.TgZ(19,"div")(20,"label",15),e._uU(21,"R\xe9sum\xe9"),e.qZA(),e.TgZ(22,"div",11)(23,"textarea",16,17),e.NdJ("ngModelChange",function(c){return a.espaceTravail.resume=c}),e.qZA(),e.TgZ(25,"p",14),e._uU(26,"Il s'agit d'une br\xe8ve description de votre espace de travail"),e.qZA()()()()(),e.TgZ(27,"div",18)(28,"div",19)(29,"strong",20),e._uU(30,"Visibilit\xe9"),e.qZA()(),e.TgZ(31,"div",8)(32,"div",21)(33,"input",22),e.NdJ("ngModelChange",function(c){return a.espaceTravail.public=c}),e.qZA(),e.TgZ(34,"label",23),e._uU(35,"Public"),e.qZA()(),e.TgZ(36,"div",21)(37,"input",24),e.NdJ("ngModelChange",function(c){return a.espaceTravail.public=c}),e.qZA(),e.TgZ(38,"label",25),e._uU(39,"Priv\xe9"),e.qZA()(),e._UZ(40,"div",26),e.TgZ(41,"p",14),e._uU(42," Priv\xe9 : seuls les membres de l'espace de travail pourront consulter son contenu. "),e._UZ(43,"br"),e._uU(44," Public : tous les utilisateurs EcoleDirecte pourront consulter son contenu. "),e.qZA()()(),e.TgZ(45,"div",18)(46,"div",19),e.YNc(47,Li,2,0,"strong",27),e.YNc(48,Yi,2,0,"strong",27),e.qZA(),e.TgZ(49,"div",8),e.YNc(50,ji,14,4,"div",28),e.YNc(51,Qi,14,4,"div",28),e.qZA()(),e.TgZ(52,"div",18)(53,"div",19)(54,"strong",20),e._uU(55,"Cloud"),e.qZA()(),e.TgZ(56,"div",8)(57,"div",21)(58,"input",29),e.NdJ("ngModelChange",function(c){return a.espaceTravail.cloud=c}),e.qZA(),e.TgZ(59,"label",30),e._uU(60,"Oui"),e.qZA()(),e.TgZ(61,"div",21)(62,"input",31),e.NdJ("ngModelChange",function(c){return a.espaceTravail.cloud=c}),e.qZA(),e.TgZ(63,"label",32),e._uU(64,"Non"),e.qZA()(),e._UZ(65,"div",26),e.TgZ(66,"p",14),e._uU(67,"Activer/d\xe9sactiver un espace de stockage de 2 Go commun pour les membres de votre espace de travail."),e.qZA()()(),e.TgZ(68,"div",18)(69,"div",19)(70,"strong",20),e._uU(71,"Discussion"),e.qZA()(),e.TgZ(72,"div",8)(73,"div",21)(74,"input",33),e.NdJ("ngModelChange",function(c){return a.espaceTravail.discussion=c}),e.qZA(),e.TgZ(75,"label",34),e._uU(76,"Oui"),e.qZA()(),e.TgZ(77,"div",21)(78,"input",35),e.NdJ("ngModelChange",function(c){return a.espaceTravail.discussion=c}),e.qZA(),e.TgZ(79,"label",36),e._uU(80,"Non"),e.qZA()(),e._UZ(81,"div",26),e.TgZ(82,"p",14),e._uU(83,"Activer/d\xe9sactiver un espace de discussion pour les membres de votre espace de travail."),e.qZA()()(),e.TgZ(84,"div",18)(85,"div",19)(86,"strong",20),e._uU(87,"Agenda"),e.qZA()(),e.TgZ(88,"div",8)(89,"div",21)(90,"input",37),e.NdJ("ngModelChange",function(c){return a.espaceTravail.agenda=c}),e.qZA(),e.TgZ(91,"label",38),e._uU(92,"Oui"),e.qZA()(),e.TgZ(93,"div",21)(94,"input",39),e.NdJ("ngModelChange",function(c){return a.espaceTravail.agenda=c}),e.qZA(),e.TgZ(95,"label",40),e._uU(96,"Non"),e.qZA()(),e._UZ(97,"div",26),e.TgZ(98,"p",14),e._uU(99,"Activer/d\xe9sactiver un agenda commun pour les membres de votre espace de travail."),e.qZA(),e.YNc(100,Hi,6,2,"div",41),e.qZA()(),e.TgZ(101,"div",42)(102,"div",43)(103,"button",44),e._uU(104," Ajouter "),e.qZA(),e.TgZ(105,"button",45),e.NdJ("click",function(){return a.modalRef.hide()}),e._uU(106,"Annuler"),e.qZA(),e._UZ(107,"div",26),e.qZA()()()()()()),2&t){const n=e.MAs(2),c=e.MAs(16),g=e.MAs(24);e.Q6J("ngBusy",a.loader),e.xp6(11),e.Q6J("ngClass",e.VKq(28,ot,c.pristine||c.invalid)),e.xp6(4),e.Q6J("ngModel",a.espaceTravail.titre),e.xp6(4),e.Tol(e.VKq(30,ot,g.pristine||g.invalid)),e.xp6(4),e.Q6J("ngModel",a.espaceTravail.resume),e.xp6(10),e.Q6J("ngModel",a.espaceTravail.public)("value",!0),e.xp6(4),e.Q6J("ngModel",a.espaceTravail.public)("value",!1),e.xp6(10),e.Q6J("ngIf",a.espaceTravail.public),e.xp6(1),e.Q6J("ngIf",!a.espaceTravail.public),e.xp6(2),e.Q6J("ngIf",a.espaceTravail.public),e.xp6(1),e.Q6J("ngIf",!a.espaceTravail.public),e.xp6(7),e.Q6J("ngModel",a.espaceTravail.cloud)("value",!0),e.xp6(4),e.Q6J("ngModel",a.espaceTravail.cloud)("value",!1),e.xp6(12),e.Q6J("ngModel",a.espaceTravail.discussion)("value",!0),e.xp6(4),e.Q6J("ngModel",a.espaceTravail.discussion)("value",!1),e.xp6(12),e.Q6J("ngModel",a.espaceTravail.agenda)("value",!0),e.xp6(4),e.Q6J("ngModel",a.espaceTravail.agenda)("value",!1),e.xp6(6),e.Q6J("ngIf",a.espaceTravail.agenda),e.xp6(3),e.Q6J("disabled",n.pristine||n.invalid)}},dependencies:[y.mk,y.O5,A._Y,A.Fj,A._,A.JJ,A.JL,A.Q7,A.On,A.F,K.DC,rt.h],changeDetection:0}),i})();function zi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.ajoutEspaceTravail())}),e._UZ(1,"i",8),e._uU(2," Ajouter un espace de travail "),e.qZA()}}function Ki(i,s){1&i&&(e.TgZ(0,"div",9)(1,"h3"),e._uU(2,"Aucun contenu n'est disponible"),e.qZA()())}function $i(i,s){if(1&i&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,a=e.oxw(2);e.xp6(1),e.hij(" ",a.getBadgeEspaceTravail(t.id)," ")}}const ct=function(i){return{"liste-groupes":i}};function Gi(i,s){if(1&i&&(e.TgZ(0,"a",15)(1,"strong"),e._uU(2),e.qZA(),e.YNc(3,$i,2,1,"span",16),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"base64"),e.qZA()()),2&i){const t=s.$implicit,a=e.oxw(2);e.s9C("routerLink",t.id),e.Q6J("ngClass",e.VKq(7,ct,a.espacesTravailUser.length>1)),e.xp6(2),e.Oqu(t.titre),e.xp6(1),e.Q6J("ngIf",a.getBadgeEspaceTravail(t.id)>0),e.xp6(2),e.Oqu(e.lcZ(6,5,t.resume))}}function Wi(i,s){if(1&i&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"h3"),e._uU(4,"Mes espaces de travail"),e.qZA()(),e.TgZ(5,"div",13),e.YNc(6,Gi,7,9,"a",14),e.qZA()()()),2&i){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.espacesTravailUser)("ngForTrackBy",t.trackByEspaceTravail)}}function Xi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"p",23)(1,"button",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,c=e.oxw(2);return e.KtG(c.inscriptionMembre(n))}),e._uU(2,"Rejoindre"),e.qZA()()}}function ea(i,s){if(1&i&&(e.TgZ(0,"div",20)(1,"a",21)(2,"strong"),e._uU(3),e.qZA(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"base64"),e.qZA()(),e.YNc(7,Xi,3,0,"p",22),e.qZA()),2&i){const t=s.$implicit,a=e.oxw(2);e.Q6J("ngClass",e.VKq(7,ct,a.autresEspacesTravail.length>1)),e.xp6(1),e.s9C("routerLink",t.id),e.xp6(2),e.Oqu(t.titre),e.xp6(2),e.Oqu(e.lcZ(6,5,t.resume)),e.xp6(2),e.Q6J("ngIf",t.ouvert&&a.isHimSelf)}}function ta(i,s){if(1&i&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"h3"),e._uU(4,"Autres espaces"),e.qZA()(),e.TgZ(5,"div",13),e.YNc(6,ea,8,9,"div",19),e.qZA()()()),2&i){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.autresEspacesTravail)("ngForTrackBy",t.trackByEspaceTravail)}}let ia=(()=>{class i extends((0,r.kCV)()){constructor(t,a,n,c,g,T,v,h){super(),this.loaderService=t,this.uiService=a,this.authStore=n,this.espaceDeTravailStore=c,this.espaceDeTravailService=g,this.espaceTravailUserStore=T,this.activatedRoute=v,this.modalService=h,this.isHimSelf=!0,this.espacesTravailUser=[],this.autresEspacesTravail=[]}ngOnInit(){this.espaceDeTravailStore.select$().pipe((0,E.b)(t=>{const a=Object.getEntity(t,this.variant);Object.isExpired(a)||(this.updateListeEspacesTravail(Object.isExists(a)?a.espacesDeTravail:[]),this.badges={...a.badges})}),(0,O.R)(this.componentDestroyed$)).subscribe(),this.activatedRoute.paramMap.pipe((0,J.w)(t=>(this.loader=this.loaderService.show(this),this.variant=r.$ej.edDBUserSpecificKey(this.authStore.currentUser.codeOgec,t.get("typeUser"),+t.get("idUser")),this.espaceDeTravailService.listeEspacesTravail(+t.get("idUser"),t.get("typeUser")).pipe((0,te.d)(null)))),(0,E.b)(t=>{if(null===t){const a=Object.getEntity(this.espaceDeTravailStore.snapshot,this.variant);this.badges={...a.badges},this.updateListeEspacesTravail(Object.isExists(a)?a.espacesDeTravail:[])}this.loaderService.hide(this)}),(0,P.K)(()=>(this.uiService.notifyEvent(r.DOJ.genericError,"R\xe9cup\xe9ration des espaces de travail impossible","Espaces de travail"),this.loaderService.hide(this),S.E)),(0,O.R)(this.componentDestroyed$)).subscribe()}updateListeEspacesTravail(t){t=t.filter(a=>!a.salleDesProfs).edSortBy("titre"),this.espacesTravailUser=t.filter(a=>!0===a.estMembre),this.autresEspacesTravail=t.filter(a=>!1===a.estMembre)}ajoutEspaceTravail(){const a={id:this.modalService.getModalsCount()+1,initialState:{},ignoreBackdropClick:!0,class:"modal-lg"};this.modalService.show(Vi,a)}inscriptionMembre(t){this.loader=this.loaderService.show(this),this.espaceDeTravailService.rejoindreEspaceTravail(this.authStore.currentUser.id,this.authStore.currentUser.typeCompte,t).pipe((0,E.b)(()=>this.uiService.notifyEvent(r.DOJ.genericSuccess,"Votre demande \xe0 bien \xe9t\xe9 prise en compte.","Espaces de travail","icon-ed_espacedetravail")),(0,P.K)(()=>(this.uiService.notifyEvent(r.DOJ.genericError,"Une erreur s'est produite.","Espaces de travail"),S.E)),(0,M.x)(()=>this.loaderService.hide(this))).subscribe()}trackByEspaceTravail(t,a){return a.id||`${t}`}getBadgeEspaceTravail(t){return Object.isExists(this.badges[t])?this.badges[t]:0}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z.S),e.Y36(r.VLf),e.Y36(r.CnD),e.Y36(r.EYm),e.Y36(r.AUs),e.Y36(B),e.Y36(N.gz),e.Y36(W.tT))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ed-espaces-travail"]],features:[e.qOj],decls:10,vars:5,consts:[["id","content-espacesTravail",1,"double-padding","ed-container","page-espaces-travail",3,"ngBusy"],[1,"entete-page"],["type","button","id","btn-ajouter-espace","class","btn btn-primary add-workspace",3,"click",4,"ngIf"],[1,"clearfix"],["class","jumbotron container-bg double-padding",4,"ngIf"],[1,"row"],["class","col-lg-6 col-md-6",4,"ngIf"],["type","button","id","btn-ajouter-espace",1,"btn","btn-primary","add-workspace",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[1,"jumbotron","container-bg","double-padding"],[1,"col-lg-6","col-md-6"],[1,"card","with-epingle","ed-card"],[1,"card-header"],[1,"card-body"],["class","espaceTravail-resume","href","",3,"ngClass","routerLink",4,"ngFor","ngForOf","ngForTrackBy"],["href","",1,"espaceTravail-resume",3,"ngClass","routerLink"],["class","badge alert-danger margin-whitespace",4,"ngIf"],[1,"desc-espace"],[1,"badge","alert-danger","margin-whitespace"],["class","cliquable row",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cliquable","row",3,"ngClass"],["href","",1,"encart","no-padding","col-lg-9",3,"routerLink"],["class","text-end d-print-none col-lg-3",4,"ngIf"],[1,"text-end","d-print-none","col-lg-3"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"Espaces de travail collaboratif"),e.qZA(),e.YNc(4,zi,3,0,"button",2),e._UZ(5,"div",3),e.qZA(),e.YNc(6,Ki,3,0,"div",4),e.TgZ(7,"div",5),e.YNc(8,Wi,7,2,"div",6),e.YNc(9,ta,7,2,"div",6),e.qZA()()),2&t&&(e.Q6J("ngBusy",a.loader),e.xp6(4),e.Q6J("ngIf",(a.authStore.isPersonnel()||a.authStore.isProfesseur())&&a.isHimSelf),e.xp6(2),e.Q6J("ngIf",0===a.espacesTravailUser.length&&0===a.autresEspacesTravail.length),e.xp6(2),e.Q6J("ngIf",a.espacesTravailUser.length>0),e.xp6(1),e.Q6J("ngIf",a.autresEspacesTravail.length>0))},dependencies:[N.yS,y.mk,y.sg,y.O5,K.DC,r.YC],styles:[".page-espaces-travail[_ngcontent-%COMP%]   .container-bg[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:0 0 20px}.page-espaces-travail[_ngcontent-%COMP%]   .liste-groupes[_ngcontent-%COMP%]{margin:10px 0 0;padding:10px 0 0;border-top:2px solid #fff}#content-espacesTravail[_ngcontent-%COMP%]   .entete-page[_ngcontent-%COMP%]{align-items:center;flex-wrap:wrap}#content-espacesTravail[_ngcontent-%COMP%]   .entete-page[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{flex:1}#content-espacesTravail[_ngcontent-%COMP%]   .entete-page[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:15px 0 10px;white-space:nowrap}#content-espacesTravail[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]   .badge.alert-danger[_ngcontent-%COMP%]{background-color:var(--secondary-color)}"]}),i})();var aa=m(78372),lt=m(71884),R=m(95698),se=m(87192),ie=m(52497),sa=m(89379),na=m(48693),ra=m(94024),oa=m(3374),ke=m(93970),ge=m(34331);function ca(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.supprimeEspaceTravail())}),e._UZ(1,"i",53),e.TgZ(2,"span",54),e._uU(3,"Supprimer l'espace"),e.qZA()()}}function la(i,s){if(1&i&&(e.TgZ(0,"span",55),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.AsE("Cr\xe9\xe9 par ",t.espaceTravail.creePar,", le ",t.espaceTravail.creeLe,"")}}const ua=function(i){return{"has-error":i}};function da(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",56)(1,"label",57),e._uU(2,"Nom"),e.qZA(),e.TgZ(3,"div",20)(4,"input",58,59),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw();return e.KtG(c.espaceTravail.titre=n)}),e.qZA(),e.TgZ(6,"p",22),e._uU(7,"Il s'agit du nom de votre espace de travail"),e.qZA()()()}if(2&i){const t=e.MAs(5),a=e.oxw();e.Q6J("ngClass",e.VKq(2,ua,t.invalid&&!t.pristine)),e.xp6(4),e.Q6J("ngModel",a.espaceTravail.titre)}}function pa(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",24)(2,"div",25)(3,"strong",26),e._uU(4,"Visibilit\xe9"),e.qZA()(),e.TgZ(5,"div",16)(6,"div",27)(7,"input",60),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw();return e.KtG(c.espaceTravail.public=n)}),e.qZA(),e.TgZ(8,"label",61),e._uU(9,"Public"),e.qZA()(),e.TgZ(10,"div",27)(11,"input",62),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw();return e.KtG(c.espaceTravail.public=n)}),e.qZA(),e.TgZ(12,"label",63),e._uU(13,"Priv\xe9"),e.qZA()(),e._UZ(14,"div",11),e.TgZ(15,"p",22),e._uU(16," Priv\xe9 : seuls les membres de l'espace de travail pourront consulter son contenu. "),e._UZ(17,"br"),e._uU(18," Public : tous les utilisateurs \xe9coledirecte pourront consulter son contenu. "),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.espaceTravail.public)("value",!0),e.xp6(4),e.Q6J("value",!1)("ngModel",t.espaceTravail.public)}}function ga(i,s){1&i&&(e.TgZ(0,"strong",26),e._uU(1,"Inscription/D\xe9sinscription"),e.qZA())}function va(i,s){1&i&&(e.TgZ(0,"strong",26),e._uU(1,"D\xe9sinscription"),e.qZA())}function ma(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",27)(2,"input",65),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw(2);return e.KtG(c.espaceTravail.ouvert=n)}),e.qZA(),e.TgZ(3,"label",66),e._uU(4,"Ouvert"),e.qZA()(),e.TgZ(5,"div",27)(6,"input",67),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw(2);return e.KtG(c.espaceTravail.ouvert=n)}),e.qZA(),e.TgZ(7,"label",68),e._uU(8,"Ferm\xe9"),e.qZA()(),e._UZ(9,"div",11),e.TgZ(10,"p",22),e._uU(11," Ouvert : les utilisateurs \xe9coledirecte peuvent rejoindre votre espace de travail. "),e._UZ(12,"br"),e._uU(13," Ferm\xe9 : les utilisateurs \xe9coledirecte ne peuvent pas rejoindre votre espace de travail. "),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("value",!0)("ngModel",t.espaceTravail.ouvert),e.xp6(4),e.Q6J("value",!1)("ngModel",t.espaceTravail.ouvert)}}function fa(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",27)(2,"input",69),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw(2);return e.KtG(c.espaceTravail.ouvert=n)}),e.qZA(),e.TgZ(3,"label",70),e._uU(4,"Oui"),e.qZA()(),e.TgZ(5,"div",27)(6,"input",71),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw(2);return e.KtG(c.espaceTravail.ouvert=n)}),e.qZA(),e.TgZ(7,"label",72),e._uU(8,"Non"),e.qZA()(),e._UZ(9,"div",11),e.TgZ(10,"p",22),e._uU(11," Oui : les utilisateurs EcoleDirecte peuvent se d\xe9sinscrire de votre espace de travail. "),e._UZ(12,"br"),e._uU(13," Non : les utilisateurs EcoleDirecte ne peuvent pas se d\xe9sinscrire de votre espace de travail. "),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("value",!0)("ngModel",t.espaceTravail.ouvert),e.xp6(4),e.Q6J("value",!1)("ngModel",t.espaceTravail.ouvert)}}function _a(i,s){if(1&i&&(e.TgZ(0,"div")(1,"div",24)(2,"div",25),e.YNc(3,ga,2,0,"strong",64),e.YNc(4,va,2,0,"strong",64),e.qZA(),e.TgZ(5,"div",16),e.YNc(6,ma,14,4,"div",23),e.YNc(7,fa,14,4,"div",23),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.espaceTravail.public),e.xp6(1),e.Q6J("ngIf",!t.espaceTravail.public),e.xp6(2),e.Q6J("ngIf",t.espaceTravail.public),e.xp6(1),e.Q6J("ngIf",!t.espaceTravail.public)}}function ha(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",73)(1,"strong"),e._uU(2,"Couleur des \xe9v\xe9nements de l'agenda"),e.qZA(),e.TgZ(3,"ed-color-picker",74),e.NdJ("currentColorChange",function(n){e.CHM(t);const c=e.oxw();return e.KtG(c.espaceTravail.couleurEvenementAgenda=n)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("currentColor",t.espaceTravail.couleurEvenementAgenda)("tabColors",t.ESPACES_TRAVAIL_AGENDA_COULEURS)}}function Ta(i,s){if(1&i&&(e.TgZ(0,"span",76),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.eleves.length)}}const he=function(i){return{active:i}};function ba(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",75),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.setSelectedTypeUser(n.edTypeUser.ELEVE))}),e._uU(1," \xc9l\xe8ves "),e.YNc(2,Ta,2,1,"span",45),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(2,he,t.selectedType===t.edTypeUser.ELEVE)),e.xp6(2),e.Q6J("ngIf",t.eleves.length>0)}}function Ea(i,s){if(1&i&&(e.TgZ(0,"span",76),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.profs.length)}}function Aa(i,s){if(1&i&&(e.TgZ(0,"span",76),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.personnels.length)}}function Ca(i,s){if(1&i&&(e.TgZ(0,"span",76),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.familles.length)}}function xa(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.setSelectedTypeUser(n.edTypeUser.FAMILLE_RESPONSABLE))}),e._uU(1," Familles "),e.YNc(2,Ca,2,1,"span",45),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(2,he,t.selectedType===t.edTypeUser.FAMILLE_RESPONSABLE)),e.xp6(2),e.Q6J("ngIf",t.familles.length>0)}}function ya(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",77)(1,"div",78)(2,"button",79),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.selectionFamille())}),e._UZ(3,"i",80),e._uU(4," Ajouter des familles "),e.qZA()()()}}function Sa(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",77)(1,"div",78)(2,"button",79),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.selectionEleve())}),e._UZ(3,"i",80),e._uU(4," Ajouter des \xe9l\xe8ves "),e.qZA()()()}}function Ma(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",77)(1,"div",78)(2,"button",79),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.selectionEnseignant())}),e._UZ(3,"i",80),e._uU(4," Ajouter des enseignants "),e.qZA()()()}}function Da(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",77)(1,"div",78)(2,"button",79),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.selectionPersonnel())}),e._UZ(3,"i",80),e._uU(4," Ajouter des personnels "),e.qZA()()()}}function Ua(i,s){if(1&i&&e._UZ(0,"input",81),2&i){const t=e.oxw();e.Q6J("formControl",t.searchFilter)}}function Za(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.ALo(3,"translateTypeUser"),e.qZA(),e.TgZ(4,"th")(5,"div")(6,"button",85),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.selectAll(1))}),e._UZ(7,"i",86),e.qZA()()(),e.TgZ(8,"th")(9,"div")(10,"button",87),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.selectAll(2))}),e._UZ(11,"i",88),e.qZA()()(),e.TgZ(12,"th")(13,"div")(14,"button",89),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.selectAll(3))}),e._UZ(15,"i",90),e.qZA()()(),e.TgZ(16,"th")(17,"div")(18,"button",91),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.selectAll(4))}),e._UZ(19,"i",92),e.qZA()()(),e._UZ(20,"i",93),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(2),e.Oqu(e.lcZ(3,1,t.selectedType))}}function ka(i,s){1&i&&e.YNc(0,Za,21,3,"ng-template",84)}function wa(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",100),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().item,c=e.oxw(2);return e.KtG(c.supprimeMembre(n))}),e._UZ(1,"i",101),e.qZA()}}function Fa(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"span",94),e._uU(3),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"td",95)(6,"div",96)(7,"label")(8,"input",97),e.NdJ("ngModelChange",function(n){const g=e.CHM(t).item;return e.KtG(g.droit=n)}),e.qZA()()()(),e.TgZ(9,"td",95)(10,"div",96)(11,"label")(12,"input",97),e.NdJ("ngModelChange",function(n){const g=e.CHM(t).item;return e.KtG(g.droit=n)}),e.qZA()()()(),e.TgZ(13,"td",95)(14,"div",96)(15,"label")(16,"input",97),e.NdJ("ngModelChange",function(n){const g=e.CHM(t).item;return e.KtG(g.droit=n)}),e.qZA()()()(),e.TgZ(17,"td",95)(18,"div",96)(19,"label")(20,"input",97),e.NdJ("ngModelChange",function(n){const g=e.CHM(t).item;return e.KtG(g.droit=n)}),e.qZA()()()(),e.TgZ(21,"td",98),e.YNc(22,wa,2,0,"button",99),e.qZA()()}if(2&i){const t=s.item,a=e.oxw(2);e.xp6(3),e.Oqu(t.nom),e.xp6(1),e.hij(" ",t.prenom," "),e.xp6(4),e.hYB("name","radioEleve_",t.idMembre,"_",t.profil,""),e.Q6J("ngModel",t.droit)("value",a.espaceDeTravailDroitsUser.DROIT_LECTURE),e.xp6(4),e.hYB("name","radioEleve_",t.idMembre,"_",t.profil,""),e.Q6J("ngModel",t.droit)("value",a.espaceDeTravailDroitsUser.DROIT_MODIFICATION),e.xp6(4),e.hYB("name","radioEleve_",t.idMembre,"_",t.profil,""),e.Q6J("ngModel",t.droit)("value",a.espaceDeTravailDroitsUser.DROIT_SUPPRESSION),e.xp6(4),e.hYB("name","radioEleve_",t.idMembre,"_",t.profil,""),e.Q6J("ngModel",t.droit)("value",a.espaceDeTravailDroitsUser.DROIT_ADMIN),e.xp6(2),e.Q6J("ngIf",!a.isHimSelf(t))}}function Oa(i,s){1&i&&(e.TgZ(0,"p"),e._uU(1,"Aucun membre ayant ce profil."),e.qZA())}function Ia(i,s){if(1&i&&(e.TgZ(0,"ed-smart-table",82),e.YNc(1,ka,1,0,null,23),e.YNc(2,Fa,23,19,"ng-template",83),e.YNc(3,Oa,2,0,"p",23),e.qZA()),2&i){const t=e.oxw();e.Q6J("datas",t.listSelectedType)("pagination",!0),e.xp6(1),e.Q6J("ngIf",t.listSelectedType.length>0),e.xp6(2),e.Q6J("ngIf",0===t.listSelectedType.length)}}let Pa=(()=>{class i extends((0,r.kCV)()){constructor(t,a,n,c,g,T,v,h,u){super(),this.loaderService=t,this.uiService=a,this.activatedRoute=n,this.router=c,this.espaceTravailUserStore=g,this.espaceDeTravailService=T,this.espaceDeTravailStore=v,this.authStore=h,this.modalService=u,this.espaceDeTravailDroitsUser=r.bvQ,this.currentPage=1,this.itemsPerPage=8,this.ESPACES_TRAVAIL_AGENDA_COULEURS=r.WyP,this.tabMembres=[],this.eleves=[],this.profs=[],this.personnels=[],this.familles=[],this.listSelectedType=[],this.listSelectedTypeCopy=[],this.edTypeUser=r.dcH,this.selectedType=r.dcH.ELEVE,this._forceFilterChange=!1,this._filterEleves="",this._filterProfs="",this._filterPersonnels="",this._filterFamilles="",this.searchFilter=new A.NI(this._filterEleves)}get espaceTravail(){return this._espaceTravail}set espaceTravail(t){this._espaceTravail=t,this._espaceTravail.description=r.YC.base64decode(this._espaceTravail.description),this._espaceTravail.resume=r.YC.base64decode(this._espaceTravail.resume)}ngOnInit(){this.espaceTravailUserStore.select$().pipe((0,J.w)(t=>(this._idUser=+this.activatedRoute.parent.snapshot.paramMap.get("idUser"),this._typeUser=this.activatedRoute.parent.snapshot.paramMap.get("typeUser"),this.espaceTravail=new r.zH9(t.espaceTravail),this.selectedType=this.espaceTravail.salleDesProfs?r.dcH.ENSEIGNANT:r.dcH.ELEVE,this.loader=this.loaderService.show(this),this.espaceDeTravailService.listerMembres(this._idUser,this._typeUser,t.espaceTravail.id).pipe((0,te.d)(null),(0,M.x)(()=>this.loaderService.hide(this))))),(0,O.R)(this.componentDestroyed$)).subscribe(),this.espaceDeTravailStore.selectEspaceTravailListeMembres(this.espaceTravail.id,this.authStore.currentUser.codeOgec,this._typeUser,this._idUser).pipe((0,E.b)(t=>{Array.isArray(t)&&(this.tabMembres=t.map(a=>new r.K4v(a))),this.dispatchMembres()}),(0,O.R)(this.componentDestroyed$)).subscribe(),this.searchFilter.valueChanges.pipe((0,aa.b)(300),(0,lt.x)((t,a)=>!this._forceFilterChange&&t===a),(0,O.R)(this.componentDestroyed$)).subscribe(t=>this.filterMembers())}filterMembers(){const t=r.FSr.replaceDiacritics(this.searchFilter.value.toString());switch(this.selectedType){case r.dcH.ELEVE:this._filterEleves=t;break;case r.dcH.PERSONNEL:this._filterPersonnels=t;break;case r.dcH.ENSEIGNANT:this._filterProfs=t;break;case r.dcH.FAMILLE_RESPONSABLE:this._filterFamilles=t}this.listSelectedType=this.listSelectedTypeCopy.filter(a=>r.FSr.replaceDiacritics(a.nom).indexOf(t)>-1||r.FSr.replaceDiacritics(a.prenom).indexOf(t)>-1),this.currentPage=1}supprimeEspaceTravail(){const t={id:this.modalService.getModalsCount()+1,initialState:{title:"Suppression d'un espace de travail",message:`\xcates-vous s\xfbr de vouloir <strong class="text-danger">supprimer</strong> l'espace de travail <strong>${this.espaceTravail.titre}</strong> ?`,lastChanceMessage:`<p><strong>Attention</strong></p><p>Vous vous appr\xeatez \xe0 <strong class="text-danger">supprimer</strong> l'espace de travail <strong>${this.espaceTravail.titre}</strong></p>\n           <p class="text-danger">Tous les contenus associ\xe9s \xe0 cet espace de travail seront <strong>DEFINITIVEMENT</strong> supprim\xe9s, et ne pourront plus \xeatre r\xe9cup\xe9r\xe9s (documents du cloud, discussions, membres, \xe9v\xe8nements de l'agenda et les post-its) !</p>\n           <p>Etes-vous s\xfbr de vouloir <strong class="text-danger">supprimer</strong> cet espace de travail et toutes ses donn\xe9es ?</p>`,btnConfirm:"Valider",btnCancel:"Non"}};this.modalService.show(se.z,t),this.modalService.onHide.pipe((0,R.q)(1),(0,J.w)(a=>a===ie.G.validation?(this.loader=this.loaderService.show(this),this.espaceDeTravailService.deleteEspaceTravail(this._idUser,this._typeUser,this.espaceTravail).pipe((0,M.x)(()=>this.loaderService.hide(this)))):S.E),(0,E.b)(()=>{this.uiService.notifyEvent(r.DOJ.genericSuccess,"Suppression de votre espace de travail effectu\xe9e ! ","Espace de travail","icon-ed_espacedetravail"),this.router.navigate(["../../"],{relativeTo:this.activatedRoute}).catch(()=>console.error("supprimeEspaceTravail navigate to ../../"))}),(0,P.K)(()=>(this.uiService.notifyEvent(r.DOJ.genericError,"Une erreur s'est produite lors de la suppression de l'espace de travail","Espace de travail"),S.E))).subscribe()}dispatchMembres(){switch(this.eleves=this.tabMembres.filter(t=>t.profil===r.dcH.ELEVE),this.profs=this.tabMembres.filter(t=>t.profil===r.dcH.ENSEIGNANT),this.personnels=this.tabMembres.filter(t=>t.profil===r.dcH.PERSONNEL),this.familles=this.tabMembres.filter(t=>t.profil===r.dcH.FAMILLE_RESPONSABLE||t.profil===r.dcH.FAMILLE_CONJOINT).edSortBy("prenom").edSortBy("nom"),this.selectedType){case r.dcH.ELEVE:this.listSelectedType=this.eleves;break;case r.dcH.PERSONNEL:this.listSelectedType=this.personnels;break;case r.dcH.ENSEIGNANT:this.listSelectedType=this.profs;break;case r.dcH.FAMILLE_RESPONSABLE:this.listSelectedType=this.familles}this.listSelectedTypeCopy=this.listSelectedType,this.listSelectedType=r.d0N.sortDatas(this.listSelectedType,["nom","prenom"])}save(){0!==this.tabMembres.filter(a=>4===a.droit).length?(this.loader=this.loaderService.show(this),this.espaceTravail.membres=this.tabMembres.map(a=>(4!==a.droit&&(a.isAdministrateur=!1),new r.K4v(a))),this.espaceDeTravailService.modifierEspaceTravail(this._idUser,this._typeUser,this.espaceTravail).pipe((0,E.b)(a=>{const n=new r.zH9(a);Object.isExists(this.espaceTravail)&&this.espaceTravailUserStore.updateStore({espaceTravail:n}),a.estAdmin||(this.espaceTravail.estAdmin=!1,this.router.navigate(["../../"],{relativeTo:this.activatedRoute}).catch(()=>console.error("navigate to ../../"))),this.espaceTravail.salleDesProfs?this.uiService.notifyEvent(r.DOJ.genericSuccess,"Modification de la salle des professeurs effectu\xe9e ! ","Salle des professeurs","icon-ed_salledesprofs"):this.uiService.notifyEvent(r.DOJ.genericSuccess,"Modification de votre espace de travail effectu\xe9e ! ","Espace de travail","icon-ed_espacedetravail")}),(0,P.K)(a=>(512===a.status&&(this.uiService.notifyEvent(r.DOJ.genericError,a.message,this.espaceTravail.salleDesProfs?"Salle des professeurs":"Espace de travail",this.espaceTravail.salleDesProfs?"icon-ed_salledesprofs":"icon-ed_espacedetravail"),this.resetParametrageDroits()),S.E)),(0,M.x)(()=>this.loaderService.hide(this))).subscribe()):this.uiService.notifyEvent(r.DOJ.genericError,"Il faut au moins un administrateur","Erreur","icon-ed_espacedetravail")}resetForm(){this.espaceTravail=new r.zH9(this.espaceTravailUserStore.store.espaceTravail),this.searchFilter.reset(""),this.resetParametrageDroits()}resetParametrageDroits(){this.tabMembres=this.espaceDeTravailStore.getEspaceTravailListeMembres(this.espaceTravail.id,this.authStore.currentUser.codeOgec,this._typeUser,this._idUser).map(t=>new r.K4v(t)),this.dispatchMembres()}setSelectedTypeUser(t){switch(this.currentPage=1,this.selectedType=t,this.dispatchMembres(),this.selectedType){case r.dcH.ELEVE:this.searchFilter.setValue(this._filterEleves,{emitEvent:!1});break;case r.dcH.PERSONNEL:this.searchFilter.setValue(this._filterPersonnels,{emitEvent:!1});break;case r.dcH.ENSEIGNANT:this.searchFilter.setValue(this._filterProfs,{emitEvent:!1});break;case r.dcH.FAMILLE_RESPONSABLE:this.searchFilter.setValue(this._filterFamilles,{emitEvent:!1})}r.FSr.isNotEmptyString(this.searchFilter.value)&&this.filterMembers(),this._forceFilterChange=!0}ajoutMembres(t){const a=[];t.destinataires.forEach(n=>{let c;t.selection.type===r.dcH.FAMILLE?n.responsable.versQui===r.dcH.FAMILLE_RESPONSABLE||n.responsable.versQui===r.dcH.FAMILLE_CONJOINT?(c=new r.K4v({idMembre:n.responsable.id,profil:n.responsable.versQui,nom:n.responsable.contacts[0],prenom:"",droit:r.bvQ.DROIT_LECTURE}),a.push(c)):(""!==n.responsable.contacts[0]&&(c=new r.K4v({idMembre:n.responsable.id,profil:r.dcH.FAMILLE_RESPONSABLE,nom:n.responsable.contacts[0],prenom:"",droit:r.bvQ.DROIT_LECTURE}),a.push(c)),""!==n.responsable.contacts[1]&&(c=new r.K4v({idMembre:n.responsable.id,profil:r.dcH.FAMILLE_CONJOINT,nom:n.responsable.contacts[1],prenom:"",droit:r.bvQ.DROIT_LECTURE}),a.push(c))):(c=new r.K4v({idMembre:n.id,profil:n.type,nom:n.nom,prenom:n.prenom,civilite:n.civilite,fonctionPersonnel:n.fonction.libelle,libelleClasse:n.classe.libelle,droit:r.bvQ.DROIT_LECTURE}),a.push(c))}),this.loader=this.loaderService.show(this),this.espaceDeTravailService.ajoutMembres(this._idUser,this._typeUser,this.espaceTravail.id,a).pipe((0,E.b)(()=>this.uiService.notifyEvent(r.DOJ.genericSuccess,"Les membres ont \xe9t\xe9 ajout\xe9s",this.espaceTravail.salleDesProfs?"Salle des professeurs":"Espace de travail",this.espaceTravail.salleDesProfs?"icon-ed_salledesprofs":"icon-ed_espacedetravail")),(0,P.K)(()=>(this.uiService.notifyEvent(r.DOJ.genericError,"Une erreur s'est produite lors de l'ajout des membres",this.espaceTravail.salleDesProfs?"Salle des professeurs":"Espace de travail"),S.E)),(0,M.x)(()=>this.loaderService.hide(this))).subscribe()}selectionFamille(){this.modalService.show(na.u,{id:this.modalService.getModalsCount()+1,initialState:{toCcCci:"",sourceModule:r.lFO.ESPACE_DE_TRAVAIL},class:"modal-lg"}).content.onClose$.pipe((0,R.q)(1)).subscribe(a=>{this.ajoutMembres({destinataires:a,selection:{type:r.dcH.FAMILLE}})})}selectionEnseignant(){let t=[];this.authStore.isProfOuPersonnel()||(t=this.authStore.getClasses()),this.modalService.show(sa.r,{id:this.modalService.getModalsCount()+1,initialState:{toCcCci:"",classes:t,sourceModule:r.lFO.ESPACE_DE_TRAVAIL},class:"modal-lg"}).content.onClose$.pipe((0,R.q)(1)).subscribe(n=>{this.ajoutMembres({destinataires:n,selection:{type:r.dcH.ENSEIGNANT}})})}selectionPersonnel(){this.modalService.show(ra.w,{id:this.modalService.getModalsCount()+1,initialState:{toCcCci:"",sourceModule:r.lFO.ESPACE_DE_TRAVAIL},class:"modal-lg"}).content.onClose$.pipe((0,R.q)(1)).subscribe(a=>{this.ajoutMembres({destinataires:a,selection:{type:r.dcH.PERSONNEL}})})}selectionEleve(){let t=[];this.authStore.isProfOuPersonnel()||(t=this.authStore.getClasses()),this.modalService.show(oa.w,{id:this.modalService.getModalsCount()+1,initialState:{toCcCci:"",classes:t,idEspaceTravail:this.espaceTravail.id,sourceModule:r.lFO.ESPACE_DE_TRAVAIL},class:"modal-lg"}).content.onClose$.pipe((0,R.q)(1)).subscribe(n=>{this.ajoutMembres({destinataires:n,selection:{type:r.dcH.ELEVE}})})}selectAll(t){this.listSelectedType.forEach(a=>{this.isHimSelf(a)||(a.droit=t)})}supprimeMembre(t){const a={id:this.modalService.getModalsCount()+1,initialState:{title:"Suppression d'un membre",message:`Confirmer la suppression du membre <strong>${t.prenom} <span class="nom">${t.nom}</span> ?`,btnConfirm:"Oui",btnCancel:"Non"}};this.modalService.show(se.z,a),this.modalService.onHide.pipe((0,R.q)(1),(0,J.w)(n=>n===ie.G.validation?(this.loader=this.loaderService.show(this),this.espaceDeTravailService.supprimeMembre(this._idUser,this._typeUser,this.espaceTravail.id,t)):S.E),(0,E.b)(()=>{this.searchFilter.reset(""),this.uiService.notifyEvent(r.DOJ.genericSuccess,`Le membre <strong>${t.prenom} <span class="nom">${t.nom}</span></strong> a bien \xe9t\xe9 supprim\xe9`,this.espaceTravail.salleDesProfs?"Salle des profs":"Espace de travail",this.espaceTravail.salleDesProfs?"icon-ed_salledesprofs":"icon-ed_espacedetravail")}),(0,P.K)(()=>(this.uiService.notifyEvent(r.DOJ.genericError,"Une erreur est survenue","Erreur"),S.E)),(0,M.x)(()=>this.loaderService.hide(this))).subscribe()}isHimSelf(t){return this.authStore.isHimself(t.profil,t.idMembre)}trackByMembre(t,a){return`${a.idMembre}${a.profil}`}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z.S),e.Y36(r.VLf),e.Y36(N.gz),e.Y36(N.F0),e.Y36(B),e.Y36(r.AUs),e.Y36(r.EYm),e.Y36(r.CnD),e.Y36(W.tT))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ed-espace-travail-administration"]],features:[e.qOj],decls:97,vars:38,consts:[["id","encart-adm",3,"ngBusy"],[1,"row"],[1,"col-lg-6","col-md-7"],[1,"mt-4"],["class","btn btn-danger","title","Supprimer l'espace de travail","type","button",3,"click",4,"ngIf"],["class","form-text h6 d-block mt-3",4,"ngIf"],[1,"col-lg-6","col-md-5","actions"],["type","button","id","buttonModif","name","button1id",1,"btn","btn-success","float-end",3,"disabled","click"],["aria-hidden","true",1,"icon-ed_save"],["type","button","id","button2id","name","button2id",1,"btn","btn-danger","float-end",3,"click"],["aria-hidden","true",1,"fa","fa-close"],[1,"clearfix"],["name","formParametrageEspace","id","formParametrageEspace"],["formParametrageEspace","ngForm"],[1,"col-lg-5"],[1,"ed-card","card","with-epingle","mt-3"],[1,"card-body"],["class","control-group",3,"ngClass",4,"ngIf"],[1,"control-group"],["for","resumeEspace",1,"form-label"],[1,"controls"],["id","resumeEspace","name","resumeEspace","rows","5","required","",1,"widthGlobale","form-control",3,"ngModel","ngModelChange"],[1,"form-text"],[4,"ngIf"],[1,"ed-card","card","with-epingle"],[1,"card-header"],[1,"text-normal"],[1,"form-check","form-check-inline"],["type","radio","name","optionsRadiosCloud","id","btRadioCloud1",1,"form-check-input",3,"value","ngModel","ngModelChange"],["for","btRadioCloud1",1,"form-check-label","fw-normal"],["type","radio","name","optionsRadiosCloud","id","btRadioCloud2",1,"form-check-input",3,"value","ngModel","ngModelChange"],["for","btRadioCloud2",1,"form-check-label","fw-normal"],["type","radio","name","optionsRadiosDisc","id","btRadioDiscussion1",1,"form-check-input",3,"value","ngModel","ngModelChange"],["for","btRadioDiscussion1",1,"form-check-label","fw-normal"],["type","radio","name","optionsRadiosDisc","id","btRadioDiscussion2",1,"form-check-input",3,"value","ngModel","ngModelChange"],["for","btRadioDiscussion2",1,"form-check-label","fw-normal"],[1,"ed-card","card","with-epingle","mb-3"],["type","radio","name","optionsRadiosAgenda","id","btRadioAgenda1",1,"form-check-input",3,"value","ngModel","ngModelChange"],["for","btRadioAgenda1",1,"form-check-label","fw-normal"],["type","radio","name","optionsRadiosAgenda","id","btRadioAgenda2",1,"form-check-input",3,"value","ngModel","ngModelChange"],["for","btRadioAgenda2",1,"form-check-label","fw-normal"],["class","mt-3",4,"ngIf"],[1,"col-lg-7"],["type","button","class","btn btn-secondary",3,"ngClass","click",4,"ngIf"],["type","button",1,"btn","btn-secondary","margin-whitespace",3,"ngClass","click"],["class","badge alert-danger",4,"ngIf"],["type","button","class","btn btn-secondary margin-whitespace",3,"ngClass","click",4,"ngIf"],["id","myTabContent",1,"tab-content","margin-top-10",3,"ngBusy"],["class","float-end",4,"ngIf"],["role","separator"],["class","form-control margin-bottom-10","type","search","placeholder","Rechercher",3,"formControl",4,"ngIf"],[3,"datas","pagination",4,"ngIf"],["title","Supprimer l'espace de travail","type","button",1,"btn","btn-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],[1,"margin-whitespace"],[1,"form-text","h6","d-block","mt-3"],[1,"control-group",3,"ngClass"],["for","nomEspaceTravail",1,"form-label"],["id","nomEspaceTravail","name","nomEspaceTravail","type","text","placeholder","","required","",1,"widthGlobale","form-control",3,"ngModel","ngModelChange"],["nomEspaceTravail","ngModel"],["type","radio","name","optionsRadiosVisibilite","id","btRadioVisibilite1",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","btRadioVisibilite1",1,"form-check-label","fw-normal"],["type","radio","name","optionsRadiosVisibilite","id","btRadioVisibilite2",1,"form-check-input",3,"value","ngModel","ngModelChange"],["for","btRadioVisibilite2",1,"form-check-label","fw-normal"],["class","text-normal",4,"ngIf"],["type","radio","name","optionsRadiosInsc","id","btRadioInscr1",1,"form-check-input",3,"value","ngModel","ngModelChange"],["for","btRadioInscr1",1,"form-check-label","fw-normal"],["type","radio","name","optionsRadiosInsc","id","btRadioInscr2",1,"form-check-input",3,"value","ngModel","ngModelChange"],["for","btRadioInscr2",1,"form-check-label","fw-normal"],["type","radio","name","optionsRadiosInsc","id","btRadioInsc1",1,"form-check-input",3,"value","ngModel","ngModelChange"],["for","btRadioInsc1",1,"form-check-label","fw-normal"],["type","radio","name","optionsRadiosInsc","id","btRadioInsc2",1,"form-check-input",3,"value","ngModel","ngModelChange"],["for","btRadioInsc2",1,"form-check-label","fw-normal"],[1,"mt-3"],[3,"currentColor","tabColors","currentColorChange"],["type","button",1,"btn","btn-secondary",3,"ngClass","click"],[1,"badge","alert-danger"],[1,"float-end"],[1,"btn-destinataires"],["type","button",1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],["type","search","placeholder","Rechercher",1,"form-control","margin-bottom-10",3,"formControl"],[3,"datas","pagination"],["edSmartTableBodyTmp",""],["edSmartTableHeaderTmp",""],["type","button","aria-label","Peut consulter","title","Peut consulter",1,"btn","active","p-1","no-background",3,"click"],["aria-hidden","true",1,"fa","fa-eye","i-small"],["type","button","aria-label","Peut ajouter","title","Peut ajouter",1,"btn","active","p-1","no-background",3,"click"],["aria-hidden","true",1,"fa","fa-pencil","i-small"],["type","button","aria-label","Peut supprimer","title","Peut supprimer",1,"btn","active","p-1","no-background",3,"click"],["aria-hidden","true",1,"fa","fa-eraser","i-small"],["type","button","aria-label","Peut administrer (gestion de la page d'accueil, gestion des membres ...)","title","Peut administrer (gestion de la page d'accueil, gestion des membres ...)",1,"btn","active","p-1","no-background","no-padding",3,"click"],["aria-hidden","true",1,"fa","fa-gears","i-small"],["aria-hidden","true",1,"wide"],[1,"nom"],[1,"col-action-membre","fixWidth"],[1,"form-check"],["type","radio",1,"form-check-input","cliquable",3,"name","ngModel","value","ngModelChange"],[1,"fixWidth"],["class","btn btn-danger-color no-background","type","button","title","Supprimer le membre",3,"click",4,"ngIf"],["type","button","title","Supprimer le membre",1,"btn","btn-danger-color","no-background",3,"click"],["aria-hidden","true",1,"fa","fa-trash-o"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.YNc(4,ca,4,0,"button",4),e.YNc(5,la,2,2,"span",5),e.qZA()(),e.TgZ(6,"div",6)(7,"button",7),e.NdJ("click",function(){return a.save()}),e._UZ(8,"i",8),e.qZA(),e.TgZ(9,"button",9),e.NdJ("click",function(){return a.resetForm()}),e._UZ(10,"i",10),e.qZA()()(),e._UZ(11,"div",11),e.TgZ(12,"div",1)(13,"form",12,13)(15,"fieldset",1)(16,"div",14)(17,"div",15)(18,"div",16),e.YNc(19,da,8,4,"div",17),e.TgZ(20,"div",18)(21,"label",19),e._uU(22,"R\xe9sum\xe9"),e.qZA(),e.TgZ(23,"div",20)(24,"textarea",21),e.NdJ("ngModelChange",function(c){return a.espaceTravail.resume=c}),e.qZA(),e.TgZ(25,"p",22),e._uU(26,"Il s'agit d'une br\xe8ve description de votre espace de travail"),e.qZA()()()()(),e.YNc(27,pa,19,4,"div",23),e.YNc(28,_a,8,4,"div",23),e.TgZ(29,"div",24)(30,"div",25)(31,"strong",26),e._uU(32,"Cloud"),e.qZA()(),e.TgZ(33,"div",16)(34,"div",27)(35,"input",28),e.NdJ("ngModelChange",function(c){return a.espaceTravail.cloud=c}),e.qZA(),e.TgZ(36,"label",29),e._uU(37,"Oui"),e.qZA()(),e.TgZ(38,"div",27)(39,"input",30),e.NdJ("ngModelChange",function(c){return a.espaceTravail.cloud=c}),e.qZA(),e.TgZ(40,"label",31),e._uU(41,"Non"),e.qZA()(),e._UZ(42,"div",11),e.TgZ(43,"p",22),e._uU(44,"Activer/d\xe9sactiver un espace de stockage de 2 Go commun pour les membres de votre espace de travail."),e.qZA()()(),e.TgZ(45,"div",24)(46,"div",25)(47,"strong",26),e._uU(48,"Discussion"),e.qZA()(),e.TgZ(49,"div",16)(50,"div",27)(51,"input",32),e.NdJ("ngModelChange",function(c){return a.espaceTravail.discussion=c}),e.qZA(),e.TgZ(52,"label",33),e._uU(53,"Oui"),e.qZA()(),e.TgZ(54,"div",27)(55,"input",34),e.NdJ("ngModelChange",function(c){return a.espaceTravail.discussion=c}),e.qZA(),e.TgZ(56,"label",35),e._uU(57,"Non"),e.qZA()(),e._UZ(58,"div",11),e.TgZ(59,"p",22),e._uU(60,"Activer/d\xe9sactiver un espace de discussion pour les membres de votre espace de travail."),e.qZA()()(),e.TgZ(61,"div",36)(62,"div",25)(63,"strong",26),e._uU(64,"Agenda"),e.qZA()(),e.TgZ(65,"div",16)(66,"div",27)(67,"input",37),e.NdJ("ngModelChange",function(c){return a.espaceTravail.agenda=c}),e.qZA(),e.TgZ(68,"label",38),e._uU(69,"Oui"),e.qZA()(),e.TgZ(70,"div",27)(71,"input",39),e.NdJ("ngModelChange",function(c){return a.espaceTravail.agenda=c}),e.qZA(),e.TgZ(72,"label",40),e._uU(73,"Non"),e.qZA()(),e._UZ(74,"div",11),e.TgZ(75,"p",22),e._uU(76,"Activer/d\xe9sactiver un agenda commun pour les membres de votre espace de travail."),e.qZA(),e.YNc(77,ha,4,2,"div",41),e.qZA()()(),e.TgZ(78,"div",42)(79,"div"),e.YNc(80,ba,3,4,"button",43),e.TgZ(81,"button",44),e.NdJ("click",function(){return a.setSelectedTypeUser(a.edTypeUser.ENSEIGNANT)}),e._uU(82," Professeurs "),e.YNc(83,Ea,2,1,"span",45),e.qZA(),e.TgZ(84,"button",44),e.NdJ("click",function(){return a.setSelectedTypeUser(a.edTypeUser.PERSONNEL)}),e._uU(85," Personnels "),e.YNc(86,Aa,2,1,"span",45),e.qZA(),e.YNc(87,xa,3,4,"button",46),e.qZA(),e.TgZ(88,"div",47),e.YNc(89,ya,5,0,"div",48),e.YNc(90,Sa,5,0,"div",48),e.YNc(91,Ma,5,0,"div",48),e.YNc(92,Da,5,0,"div",48),e._UZ(93,"div",11)(94,"hr",49),e.YNc(95,Ua,1,1,"input",50),e.YNc(96,Ia,4,4,"ed-smart-table",51),e.qZA()()()()()()),2&t){const n=e.MAs(14);e.Q6J("ngBusy",a.loader),e.xp6(4),e.Q6J("ngIf",!a.espaceTravail.salleDesProfs),e.xp6(1),e.Q6J("ngIf",""!==a.espaceTravail.creePar),e.xp6(2),e.Q6J("disabled",n.invalid),e.xp6(12),e.Q6J("ngIf",!a.espaceTravail.salleDesProfs),e.xp6(5),e.Q6J("ngModel",a.espaceTravail.resume),e.xp6(3),e.Q6J("ngIf",!a.espaceTravail.salleDesProfs),e.xp6(1),e.Q6J("ngIf",!a.espaceTravail.salleDesProfs),e.xp6(7),e.Q6J("value",!0)("ngModel",a.espaceTravail.cloud),e.xp6(4),e.Q6J("value",!1)("ngModel",a.espaceTravail.cloud),e.xp6(12),e.Q6J("value",!0)("ngModel",a.espaceTravail.discussion),e.xp6(4),e.Q6J("value",!1)("ngModel",a.espaceTravail.discussion),e.xp6(12),e.Q6J("value",!0)("ngModel",a.espaceTravail.agenda),e.xp6(4),e.Q6J("value",!1)("ngModel",a.espaceTravail.agenda),e.xp6(6),e.Q6J("ngIf",a.espaceTravail.agenda),e.xp6(3),e.Q6J("ngIf",!a.espaceTravail.salleDesProfs),e.xp6(1),e.Q6J("ngClass",e.VKq(34,he,a.selectedType===a.edTypeUser.ENSEIGNANT)),e.xp6(2),e.Q6J("ngIf",a.profs.length>0),e.xp6(1),e.Q6J("ngClass",e.VKq(36,he,a.selectedType===a.edTypeUser.PERSONNEL)),e.xp6(2),e.Q6J("ngIf",a.personnels.length>0),e.xp6(1),e.Q6J("ngIf",!a.espaceTravail.salleDesProfs),e.xp6(1),e.Q6J("ngBusy",a.loader),e.xp6(1),e.Q6J("ngIf",a.selectedType===a.edTypeUser.FAMILLE_RESPONSABLE&&!a.espaceTravail.salleDesProfs),e.xp6(1),e.Q6J("ngIf",a.selectedType===a.edTypeUser.ELEVE&&!a.espaceTravail.salleDesProfs),e.xp6(1),e.Q6J("ngIf",a.selectedType===a.edTypeUser.ENSEIGNANT),e.xp6(1),e.Q6J("ngIf",a.selectedType===a.edTypeUser.PERSONNEL),e.xp6(3),e.Q6J("ngIf",!(a.espaceTravail.salleDesProfs&&(a.selectedType===a.edTypeUser.ELEVE||a.selectedType===a.edTypeUser.FAMILLE_RESPONSABLE))),e.xp6(1),e.Q6J("ngIf",!(a.espaceTravail.salleDesProfs&&(a.selectedType===a.edTypeUser.ELEVE||a.selectedType===a.edTypeUser.FAMILLE_RESPONSABLE)))}},dependencies:[y.mk,y.O5,A._Y,A.Fj,A._,A.JJ,A.JL,A.Q7,A.On,A.F,A.oH,K.DC,ke.L,ge.r,ge.w,rt.h,r.EGL],styles:["#encart-adm[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:25px 0 0 5px;height:40px}#encart-adm[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], #encart-adm[_ngcontent-%COMP%]   input#nomEspaceTravail[_ngcontent-%COMP%]{width:100%}#encart-adm[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background-color:var(--light-primary-color)}#encart-adm[_ngcontent-%COMP%]   .badge.alert-danger[_ngcontent-%COMP%]{background-color:var(--secondary-color)}#encart-adm[_ngcontent-%COMP%]   .nav-tabs-container-bg[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{background:var(--smalldark-placeholder-color);border-bottom:1px solid var(--smalldark-placeholder-color)}#encart-adm[_ngcontent-%COMP%]   .nav-tabs-container-bg[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{background:var(--smalldark-placeholder-color);border-bottom:1px solid var(--smalldark-placeholder-color)}#encart-adm[_ngcontent-%COMP%]   .nav-tabs-container-bg[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus{background:var(--smalldark-placeholder-color);border-bottom:1px solid var(--smalldark-placeholder-color)}#encart-adm[_ngcontent-%COMP%]   .nav-tabs-container-bg[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{border:1px solid var(--smalldark-placeholder-color);white-space:nowrap}#encart-adm[_ngcontent-%COMP%]   .container-bg[_ngcontent-%COMP%]{padding:20px;background:var(--smalldark-placeholder-color)}#encart-adm[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-color:#fff}.col-action-membre[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{vertical-align:middle;text-align:center}.fixWidth[_ngcontent-%COMP%]{width:50px}"]}),i})();var Na=m(34414);function Ba(i,s){1&i&&(e.TgZ(0,"tr")(1,"th",9),e._uU(2,"Date"),e.qZA(),e.TgZ(3,"th",10),e._uU(4,"Action"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Chemin"),e.qZA()())}function qa(i,s){1&i&&(e.TgZ(0,"b"),e._uU(1,"renomm\xe9 en"),e.qZA())}function Ja(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"edDate"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.YNc(8,qa,2,0,"b",11),e._uU(9),e.qZA()()),2&i){const t=s.item;e.xp6(2),e.Oqu(e.xi3(3,5,t.date,"d MMM y \xe0 HH:mm")),e.xp6(3),e.Oqu(t.actionFormated),e.xp6(2),e.hij(" ",""!==t.uncOld?t.uncOld:""," "),e.xp6(1),e.Q6J("ngIf",""!==t.uncOld),e.xp6(1),e.hij(" ",t.unc," ")}}const Ra=function(){return["date|asc"]};function La(i,s){if(1&i&&(e.TgZ(0,"ed-smart-table",6),e.ALo(1,"orderBy"),e.YNc(2,Ba,7,0,"ng-template",7),e.YNc(3,Ja,10,8,"ng-template",8),e.qZA()),2&i){const t=e.oxw();e.Q6J("datas",e.xi3(1,2,t.activitesCloud,e.DdM(5,Ra)))("pagination",!1)}}function Ya(i,s){1&i&&(e.TgZ(0,"div",12),e._uU(1,"Aucune activit\xe9 sur le cloud !"),e.qZA())}let ja=(()=>{class i{constructor(t,a,n,c){this.loaderService=t,this.cloudService=a,this.uiService=n,this.modalRef=c,this.activitesCloud=[]}ngOnInit(){const a=(new r.ifA).transform(this.activite.date,"yMMddHHmm");this.activiteDatePlus5=r.C_1.addNbMinutesToDate(new Date(this.activite.date),5),this.loader=this.loaderService.show(this),this.cloudService.getCloudActivites(this.activite.membre.id,this.activite.membre.profil,this.idEspaceTravail,a).pipe((0,E.b)(n=>{n.length>0&&(this.activitesCloud=[...n])}),(0,P.K)(n=>this.uiService.notifyErrorThenEmpty(n,!0,"Erreur","fa fa-warning")),(0,M.x)(()=>this.loaderService.hide(this))).subscribe()}close(){this.modalRef.hide()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z.S),e.Y36(r.eyc),e.Y36(r.VLf),e.Y36(W.UZ))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ed-espace-travail-activites-cloud"]],inputs:{activite:"activite",idEspaceTravail:"idEspaceTravail",nomUser:"nomUser"},decls:22,vars:16,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Fermer cette fen\xeatre",1,"btn-close","d-print-none",3,"click"],[1,"modal-body",3,"ngBusy"],[3,"datas","pagination",4,"ngIf","ngIfElse"],["noActivites",""],[3,"datas","pagination"],["edSmartTableHeaderTmp",""],["edSmartTableBodyTmp",""],["stSort","date",1,"sortable-header"],["stSort","actionFormated",1,"sortable-header"],[4,"ngIf"],[1,"alert","alert-dark"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2," D\xe9tail cloud de "),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5," du "),e.TgZ(6,"b"),e._uU(7),e.ALo(8,"edDate"),e.qZA(),e._uU(9," de "),e.TgZ(10,"b"),e._uU(11),e.ALo(12,"edDate"),e.qZA(),e._uU(13," \xe0 "),e.TgZ(14,"b"),e._uU(15),e.ALo(16,"edDate"),e.qZA()(),e.TgZ(17,"button",2),e.NdJ("click",function(){return a.close()}),e.qZA()(),e.TgZ(18,"div",3),e.YNc(19,La,4,6,"ed-smart-table",4),e.YNc(20,Ya,2,0,"ng-template",null,5,e.W1O),e.qZA()),2&t){const n=e.MAs(21);e.xp6(4),e.Oqu(a.nomUser),e.xp6(3),e.Oqu(e.xi3(8,7,a.activite.date,"d MMM y")),e.xp6(4),e.Oqu(e.xi3(12,10,a.activite.date,"HH:mm")),e.xp6(4),e.Oqu(e.xi3(16,13,a.activiteDatePlus5,"HH:mm")),e.xp6(3),e.Q6J("ngBusy",a.loader),e.xp6(1),e.Q6J("ngIf",a.activitesCloud.length>0)("ngIfElse",n)}},dependencies:[y.O5,K.DC,ke.L,Na.c,ge.r,ge.w,r.d0N,r.ifA]}),i})();function Qa(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteFilActivite(!1))}),e._UZ(1,"i",11),e._uU(2," Purger l'historique de mon activit\xe9 "),e.qZA()}}function Ha(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteFilActivite(!0))}),e._UZ(1,"i",11),e._uU(2," Purger tout l'historique "),e.qZA()}}function Va(i,s){1&i&&(e.TgZ(0,"div",13)(1,"h3"),e._uU(2,"Aucune activit\xe9 r\xe9cente."),e.qZA()())}function za(i,s){1&i&&(e.TgZ(0,"span"),e._UZ(1,"i",32),e.qZA())}function Ka(i,s){1&i&&(e.TgZ(0,"span"),e._UZ(1,"i",33),e.qZA())}function $a(i,s){1&i&&(e.TgZ(0,"span"),e._UZ(1,"i",34),e.qZA())}function Ga(i,s){1&i&&(e.TgZ(0,"span"),e._UZ(1,"i",35),e.qZA())}function Wa(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,c=e.oxw();return e.KtG(c.showDetail(n))}),e._UZ(1,"i",36),e.qZA()}}function Xa(i,s){1&i&&e._UZ(0,"i",37)}function es(i,s){1&i&&e._UZ(0,"i",38)}function ts(i,s){1&i&&e._UZ(0,"i",39)}function is(i,s){1&i&&e._UZ(0,"i",40)}function as(i,s){1&i&&e._UZ(0,"i",41)}const ss=function(i){return{"alert-info":i}};function ns(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"em",18),e.YNc(5,za,2,0,"span",19),e.YNc(6,Ka,2,0,"span",19),e.YNc(7,$a,2,0,"span",19),e.YNc(8,Ga,2,0,"span",19),e.qZA()(),e.TgZ(9,"div",17)(10,"div",20),e._UZ(11,"span",21),e.YNc(12,Wa,2,0,"button",22),e.qZA(),e.TgZ(13,"div",23),e._uU(14),e.ALo(15,"edDate"),e.qZA()(),e.TgZ(16,"div",24)(17,"span",25)(18,"button",26),e.NdJ("click",function(){const c=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.navTo(c))}),e.YNc(19,Xa,1,0,"i",27),e.YNc(20,es,1,0,"i",28),e.YNc(21,ts,1,0,"i",29),e.YNc(22,is,1,0,"i",30),e.YNc(23,as,1,0,"i",31),e.qZA()()(),e._UZ(24,"div",6),e.qZA()()()}if(2&i){const t=s.$implicit,a=s.index,n=e.oxw();e.Q6J("ngClass",e.VKq(16,ss,a<n.nbBadges||a<n.nbBadgesTotalSallesDesProfs)),e.xp6(5),e.Q6J("ngIf",t.membre.profil===n.edTypeUser.ENSEIGNANT),e.xp6(1),e.Q6J("ngIf",t.membre.profil===n.edTypeUser.ELEVE),e.xp6(1),e.Q6J("ngIf",t.membre.profil===n.edTypeUser.FAMILLE_RESPONSABLE||t.membre.profil===n.edTypeUser.FAMILLE_CONJOINT),e.xp6(1),e.Q6J("ngIf",t.membre.profil===n.edTypeUser.PERSONNEL),e.xp6(3),e.Q6J("innerHTML",t.descriptif,e.oJD),e.xp6(1),e.Q6J("ngIf",t.cible===n.espaceDeTravailActiviteCible.CIBLE_CLOUD&&n.isDateValid(t)),e.xp6(2),e.hij("le ",e.xi3(15,13,t.date,"EEEE d MMMM y \xe0 HH:mm"),""),e.xp6(5),e.Q6J("ngIf",t.cible===n.espaceDeTravailActiviteCible.CIBLE_ACCUEIL||t.cible===n.espaceDeTravailActiviteCible.CIBLE_POSTIT),e.xp6(1),e.Q6J("ngIf",t.cible===n.espaceDeTravailActiviteCible.CIBLE_AGENDA),e.xp6(1),e.Q6J("ngIf",t.cible===n.espaceDeTravailActiviteCible.CIBLE_CLOUD),e.xp6(1),e.Q6J("ngIf",t.cible===n.espaceDeTravailActiviteCible.CIBLE_TOPIC||t.cible===n.espaceDeTravailActiviteCible.CIBLE_TOPIC_MESSAGE),e.xp6(1),e.Q6J("ngIf",t.cible===n.espaceDeTravailActiviteCible.CIBLE_MEMBRE)}}let rs=(()=>{class i extends((0,r.kCV)()){constructor(t,a,n,c,g,T,v,h,u,f,d){super(),this.loaderService=t,this.uiService=a,this.espaceTravailUserStore=n,this.espaceDeTravailStore=c,this.activatedRoute=g,this.espaceDeTravailService=T,this.authStore=v,this.modalService=h,this.badgesStore=u,this.cd=f,this.router=d,this.espaceDeTravailActiviteCible=r.VXF,this.edTypeUser=r.dcH,this.tabActivites=[],this.nbBadges=0,this.nbBadgesTotalSallesDesProfs=0,this.isEleve=this.authStore.isEleve()}ngAfterViewInit(){this.clearBadge()}ngOnInit(){this.espaceTravailUserStore.select$().pipe((0,J.w)(t=>(this._idUser=+this.activatedRoute.parent.snapshot.paramMap.get("idUser"),this._typeUser=this.activatedRoute.parent.snapshot.paramMap.get("typeUser"),this.espaceTravail=new r.zH9(t.espaceTravail),this.loader=this.loaderService.show(this),this.espaceDeTravailService.getFilActivite(this._idUser,this._typeUser,t.espaceTravail.id).pipe((0,te.d)(null),(0,M.x)(()=>this.loaderService.hide(this))))),(0,O.R)(this.componentDestroyed$)).subscribe(),this.espaceDeTravailStore.select$().pipe((0,E.b)(t=>{if(!Object.isExists(t))return;const a=Object.getEntity(t,r.$ej.edDBUserSpecificKey(this.authStore.currentUser.codeOgec,this._typeUser,this._idUser));if(Object.isExists(a)){const n=a.activite[this.espaceTravail.id];Object.isExists(this.espaceTravail)&&!Object.isExpired(n)&&Array.isArray(n.activites)&&(this.tabActivites=r.d0N.sortDatas(n.activites.map(c=>new r.un0(c)),["date|desc"]))}}),(0,O.R)(this.componentDestroyed$)).subscribe(),this.espaceDeTravailStore.selectEspaceTravaiBadges(this.espaceTravail.id,this.authStore.currentUser.codeOgec,this._typeUser,this._idUser).pipe((0,R.q)(1),(0,E.b)(t=>{Object.isExists(t)&&(this.nbBadges=t)}),(0,O.R)(this.componentDestroyed$)).subscribe(),this.espaceTravail.salleDesProfs&&this.badgesStore.select$().pipe((0,R.q)(1),(0,E.b)(t=>{this.nbBadgesTotalSallesDesProfs=t.getBadgeFromModule(r.lFO.SALLE_DES_PROFS,this.authStore.currentUser.id,r.o2q[this.authStore.currentUser.typeCompte]),this.cd.markForCheck()}),(0,O.R)(this.componentDestroyed$)).subscribe()}deleteFilActivite(t=!1){const a={id:this.modalService.getModalsCount()+1,initialState:{title:"Purge du fil d'activit\xe9",message:t?"\xcates-vous s\xfbr de vouloir supprimer l'int\xe9gralit\xe9 des traces d'activit\xe9s de l'espace de travail ?":"\xcates-vous s\xfbr de vouloir supprimer les traces de vos activit\xe9s ?",btnConfirm:"Supprimer",btnCancel:"Non"}};this.modalService.show(se.z,a),this.modalService.onHide.pipe((0,R.q)(1),(0,J.w)(n=>n===ie.G.validation?(this.loader=this.loaderService.show(this),this.espaceDeTravailService.deleteFilActivite(this._idUser,this._typeUser,this.espaceTravail.id,t)):S.E),(0,E.b)(()=>{this.uiService.notifyEvent(r.DOJ.genericSuccess,"Suppression des traces d'activit\xe9 de l'espace de travail effectu\xe9e !","Activit\xe9",this.espaceTravail.salleDesProfs?"icon-ed_salledesprofs":"icon-ed_espacedetravail")}),(0,P.K)(()=>(this.uiService.notifyEvent(r.DOJ.genericError,"Une erreur est survenue","Erreur"),S.E)),(0,M.x)(()=>this.loaderService.hide(this))).subscribe()}trackByActivite(t,a){return a.id}clearBadge(){const t=this.badgesStore.cloneDeep();if(this.espaceTravail.salleDesProfs)t.getBadgeFromModule(r.lFO.SALLE_DES_PROFS,this.authStore.currentUser.id,r.o2q[this.authStore.currentUser.typeCompte])>0&&(t.updateBadgeForModule(0,r.lFO.SALLE_DES_PROFS,this.authStore.currentUser.id,r.o2q[this.authStore.currentUser.typeCompte]),this.badgesStore.store=t,this.badgesStore.setStorage(t).catch(n=>console.error("EspaceTravailActiviteComponent.clearBadge badgesStore.setStorage : ",n)));else if(!this.espaceTravail.salleDesProfs){const a=t.getBadgeFromModule(r.lFO.CLOUDET,this.authStore.currentUser.id,r.o2q[this.authStore.currentUser.typeCompte]);a>0&&t.updateBadgeForModule(a-this.nbBadges,r.lFO.CLOUDET,this.authStore.currentUser.id,r.o2q[this.authStore.currentUser.typeCompte]),this.espaceDeTravailStore.updateEspaceDeTravailStore({deleteBadgesIdEspaceDeTravail:this.espaceTravail.id},r.$ej.edDBUserSpecificKey(this.authStore.currentUser.codeOgec,this._typeUser,this._idUser))}this.badgesStore.store=t,this.badgesStore.setStorage(t).catch(a=>console.error("EspaceTravailActiviteComponent.clearBadge badgesStore.setStorage : ",a)),this.cd.markForCheck()}showDetail(t){const a=t.descriptif.split(">")[1].split("<")[0],n={id:this.modalService.getModalsCount()+1,initialState:{nomUser:a,activite:t,idEspaceTravail:this.espaceTravail.id}};this.modalService.show(ja,n)}isDateValid(t){return!r.C_1.isBefore(new Date(r.C_1.formatDate(t.date)),new Date(2023,10,8),!1)}navTo(t){let a="/"+this.authStore.currentUser.typeCompte+"/"+this.authStore.currentUser.id+"/EspacesTravail/"+this.espaceTravail.id+"/";const n={};t.cible===r.VXF.CIBLE_ACCUEIL||t.cible===r.VXF.CIBLE_POSTIT?a+="accueil":t.cible===r.VXF.CIBLE_AGENDA?a+="agenda":t.cible===r.VXF.CIBLE_CLOUD?a+="cloud":t.cible===r.VXF.CIBLE_TOPIC?a+="discussion":t.cible===r.VXF.CIBLE_TOPIC_MESSAGE&&(a+="discussion",n.queryParams={titleTopic:t.descriptif.split('libelle-element">')[1].split("<")[0]}),this.router.navigate([a],n).catch(()=>console.error("checkLogin navigate to /login"))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z.S),e.Y36(r.VLf),e.Y36(B),e.Y36(r.EYm),e.Y36(N.gz),e.Y36(r.AUs),e.Y36(r.CnD),e.Y36(W.tT),e.Y36(r.et7),e.Y36(e.sBO),e.Y36(N.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ed-espace-travail-activite"]],features:[e.qOj],decls:10,vars:6,consts:[["id","encart-activite"],[1,"row"],[1,"col-lg-12"],[1,"float-end","margin-top-10"],["type","button","class","btn btn-danger","title","Purger l'historique de mon activit\xe9",3,"click",4,"ngIf"],["type","button","class","btn btn-danger margin-whitespace","title","Purger tout l'historique",3,"click",4,"ngIf"],[1,"clearfix"],[3,"ngBusy"],["class","jumbotron col-lg-12",4,"ngIf"],["class","card ed-card with-epingle activite",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["type","button","title","Purger l'historique de mon activit\xe9",1,"btn","btn-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],["type","button","title","Purger tout l'historique",1,"btn","btn-danger","margin-whitespace",3,"click"],[1,"jumbotron","col-lg-12"],[1,"card","ed-card","with-epingle","activite",3,"ngClass"],[1,"card-body"],[1,"media-body"],[1,"float-start"],[1,"type-user"],[4,"ngIf"],[1,"descriptif"],[3,"innerHTML"],["type","button","class","btn btn-primary-color",3,"click",4,"ngIf"],[1,"date"],[1,"float-end"],[1,"cible"],["type","button",1,"btn","btn-primary-color",3,"click"],["class","fa fa-home","title","Accueil",4,"ngIf"],["class","fa fa-calendar-o","title","Agenda",4,"ngIf"],["class","icon-ed_cloud","title","Cloud",4,"ngIf"],["class","fa fa-comments-o","title","Discussion",4,"ngIf"],["class","fa fa-group","title","Membre",4,"ngIf"],["aria-hidden","true",1,"icon-ed_enseignant"],["aria-hidden","true",1,"icon-ed_eleve"],["aria-hidden","true",1,"icon-ed_famille"],["aria-hidden","true",1,"icon-ed_personnel"],["aria-hidden","true",1,"fa","fa-info-circle"],["title","Accueil",1,"fa","fa-home"],["title","Agenda",1,"fa","fa-calendar-o"],["title","Cloud",1,"icon-ed_cloud"],["title","Discussion",1,"fa","fa-comments-o"],["title","Membre",1,"fa","fa-group"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,Qa,3,0,"button",4),e.YNc(5,Ha,3,0,"button",5),e.qZA()()(),e._UZ(6,"div",6),e.TgZ(7,"div",7),e.YNc(8,Va,3,0,"div",8),e.YNc(9,ns,25,18,"div",9),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("ngIf",a.tabActivites.length>0&&!a.isEleve),e.xp6(1),e.Q6J("ngIf",a.espaceTravail.estAdmin),e.xp6(2),e.Q6J("ngBusy",a.loader),e.xp6(1),e.Q6J("ngIf",0===a.tabActivites.length),e.xp6(1),e.Q6J("ngForOf",a.tabActivites)("ngForTrackBy",a.trackByActivite))},dependencies:[y.mk,y.sg,y.O5,K.DC,r.ifA],styles:["#encart-activite[_ngcontent-%COMP%]{padding-bottom:40px}#encart-activite[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-top:22px}#encart-activite[_ngcontent-%COMP%]   em.type-user[_ngcontent-%COMP%]{display:block;float:left;margin:0 0 5px;color:var(--light-primary-color)}#encart-activite[_ngcontent-%COMP%]   em.type-user[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:55px}#encart-activite[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}#encart-activite[_ngcontent-%COMP%]     span.libelle-element{font-weight:700}#encart-activite[_ngcontent-%COMP%]   .ed-card[_ngcontent-%COMP%]:first-child{margin-top:20px}"]}),i})();var os=m(55253),cs=m(31355);function ls(i,s){if(1&i&&(e.TgZ(0,"button",6),e._UZ(1,"i",7),e._uU(2," Ecrire \xe0 tous les membres "),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("typeContact",t.edTypeUser.ESPACE_TRAVAIL)("listContact",t.tabMembresContact)}}function us(i,s){1&i&&e._UZ(0,"i",16)}function ds(i,s){if(1&i&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&i){const t=e.oxw().item;e.xp6(1),e.hij("(",t.fonction.libelle," )")}}function ps(i,s){1&i&&(e.TgZ(0,"div",17)(1,"h3"),e._uU(2," Votre espace de travail ne contient actuellement pas de membres. "),e._UZ(3,"br"),e._uU(4,' Acc\xe9dez \xe0 l\'onglet "Administration" pour en ajouter. '),e.qZA()())}function gs(i,s){1&i&&(e.TgZ(0,"div")(1,"div",17)(2,"h3"),e._uU(3,"Cet espace de travail ne contient pas de membres."),e.qZA()()())}const vs=function(i,s,t,a){return{"icon-ed_famille":i,"icon-ed_eleve":s,"icon-ed_enseignant":t,"icon-ed_personnel":a}};function ms(i,s){if(1&i&&(e.TgZ(0,"div",10)(1,"div",11),e.YNc(2,us,1,0,"i",12),e._UZ(3,"i",13),e.TgZ(4,"strong"),e._uU(5),e.ALo(6,"displayNom"),e.qZA(),e.YNc(7,ds,2,1,"small",14),e.qZA(),e._UZ(8,"div",3),e.YNc(9,ps,5,0,"div",15),e.YNc(10,gs,4,0,"div",14),e.qZA()),2&i){const t=s.item,a=e.oxw(3);e.xp6(1),e.Q6J("userId",t.idMembre)("userProfile",t.profil),e.xp6(1),e.Q6J("ngIf",t.isAdministrateur),e.xp6(1),e.Q6J("ngClass",e.l5B(13,vs,t.profil===a.edTypeUser.FAMILLE_RESPONSABLE||t.profil===a.edTypeUser.FAMILLE_CONJOINT,t.profil===a.edTypeUser.ELEVE,t.profil===a.edTypeUser.ENSEIGNANT,t.profil===a.edTypeUser.PERSONNEL)),e.xp6(2),e.Oqu(e.gM2(6,8,t,!0,!0,a.authStore.isFouE())),e.xp6(2),e.Q6J("ngIf",t.profil===a.edTypeUser.PERSONNEL&&""!==t.fonction.libelle),e.xp6(2),e.Q6J("ngIf",0===a.tabMembres.length&&a.espaceTravail.droitUtilisateur===a.espaceDeTravailDroitsUser.DROIT_ADMIN),e.xp6(1),e.Q6J("ngIf",0===a.tabMembres.length&&a.espaceTravail.droitUtilisateur!==a.espaceDeTravailDroitsUser.DROIT_ADMIN)}}function fs(i,s){if(1&i&&(e.TgZ(0,"ed-smart-table",8),e.YNc(1,ms,11,18,"ng-template",9),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("datas",t.tabMembres)("stItemsByPage",20)("modeAffichage","other")("pagination",!0)("ngBusy",t.loader)}}function _s(i,s){if(1&i&&(e.TgZ(0,"div",1),e.YNc(1,ls,3,2,"button",2),e._UZ(2,"div",3),e.YNc(3,fs,2,5,"ed-smart-table",4),e._UZ(4,"div",5),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.tabMembresContact?null:t.tabMembresContact.length)>0&&t.canSendMessage),e.xp6(2),e.Q6J("ngIf",t.tabMembres)}}let hs=(()=>{class i extends((0,r.kCV)()){constructor(t,a,n,c,g,T,v){super(),this.loaderService=t,this.espaceTravailUserStore=a,this.espaceDeTravailStore=n,this.espaceDeTravailService=c,this.authStore=g,this.messagerieStore=T,this.activatedRoute=v,this.currentPage=1,this.itemsPerPage=20,this.edTypeUser=r.dcH,this.espaceDeTravailDroitsUser=r.bvQ,this.canSendMessage=!1}get tabMembres(){return this._tabMembres}set tabMembres(t){this._tabMembres=t,this.updateTabMembres(t),this.updateTabMembresContact(t)}get tabMembresContact(){return this._tabMembresContact}get isHimSelf(){return this.authStore.isHimself(this._typeUser,this._idUser)}ngOnInit(){this.espaceTravailUserStore.select$().pipe((0,J.w)(t=>(this._idUser=+this.activatedRoute.parent.snapshot.paramMap.get("idUser"),this._typeUser=this.activatedRoute.parent.snapshot.paramMap.get("typeUser"),this.espaceTravail=new r.zH9(t.espaceTravail),this.canSendMessage=this.espaceTravail.estMembre&&this.isHimSelf&&this.messagerieStore.canSendMessageUser(r.dcH.ESPACE_TRAVAIL),this.loader=this.loaderService.show(this),this.espaceDeTravailService.listerMembres(this._idUser,this._typeUser,t.espaceTravail.id).pipe((0,te.d)(null),(0,M.x)(()=>this.loaderService.hide(this))))),(0,O.R)(this.componentDestroyed$)).subscribe(),this.espaceDeTravailStore.select$().pipe((0,E.b)(t=>{if(!Object.isExists(t))return;const a=Object.getEntity(t,r.$ej.edDBUserSpecificKey(this.authStore.currentUser.codeOgec,this._typeUser,this._idUser));if(Object.isExists(a)){const n=a.membres[this.espaceTravail.id];Object.isExists(this.espaceTravail)&&!Object.isExpired(n)&&Array.isArray(n.membres)&&(this.tabMembres=n.membres.map(c=>new r.K4v(c)))}}),(0,O.R)(this.componentDestroyed$)).subscribe()}updateTabMembres(t){this.currentPage=1,this.totalItems=t.length,this.pager=t.edChunk(this.itemsPerPage)}updateTabMembresContact(t){this._tabMembresContact=t.filter(a=>a.idMembre!==this.authStore.currentUser.id&&a.messagerieActive).map(a=>r.tHm.convertUserToContactMessagerie(a))}trackByMembre(t,a){return a.idMembre}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z.S),e.Y36(B),e.Y36(r.EYm),e.Y36(r.AUs),e.Y36(r.CnD),e.Y36(r.q0O),e.Y36(N.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ed-espace-travail-membres"]],features:[e.qOj],decls:1,vars:1,consts:[["id","encart-membres",4,"ngIf"],["id","encart-membres"],["type","button","edMessageTo","","class","btn btn-primary margin-top-10",3,"typeContact","listContact",4,"ngIf"],[1,"clearfix"],["cssCustom","envoieDuFlex","class","margin-top-10",3,"datas","stItemsByPage","modeAffichage","pagination","ngBusy",4,"ngIf"],[1,"mb-2"],["type","button","edMessageTo","",1,"btn","btn-primary","margin-top-10",3,"typeContact","listContact"],["aria-hidden","true",1,"fa","fa-envelope"],["cssCustom","envoieDuFlex",1,"margin-top-10",3,"datas","stItemsByPage","modeAffichage","pagination","ngBusy"],["edSmartTableBodyTmp",""],[1,"membre","col-xl-2","col-lg-2","col-md-2"],["edUserDetail","",1,"ed-card","p-4",3,"userId","userProfile"],["class","admin-espace fa fa-diamond","title","Administrateur de l'espace de travail",4,"ngIf"],[1,"icon-24",3,"ngClass"],[4,"ngIf"],["class","jumbotron",4,"ngIf"],["title","Administrateur de l'espace de travail",1,"admin-espace","fa","fa-diamond"],[1,"jumbotron"]],template:function(t,a){1&t&&e.YNc(0,_s,5,2,"div",0),2&t&&e.Q6J("ngIf",a.espaceTravail)},dependencies:[y.mk,y.O5,K.DC,ke.L,ge.r,os.x,cs.x,r.$t3],styles:["#encart-membres[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-top:22px}#encart-membres[_ngcontent-%COMP%]   i.admin-espace[_ngcontent-%COMP%]{color:var(--light-secondary-color)}#encart-membres[_ngcontent-%COMP%]   .membre[_ngcontent-%COMP%]{padding:0 5px!important}#encart-membres[_ngcontent-%COMP%]   .membre[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block}#encart-membres[_ngcontent-%COMP%]   .ed-card[_ngcontent-%COMP%]{position:relative;margin:10px 0 0;overflow:hidden}  .envoieDuFlex{display:flex;flex-wrap:wrap}"]}),i})();var Ts=m(24155);function bs(i,s){if(1&i&&(e.TgZ(0,"div",1),e._UZ(1,"ed-cloud",2),e.qZA()),2&i){const t=s.ngIf;e.xp6(1),e.Q6J("entity",t)}}let Es=(()=>{class i{constructor(t){this.espaceTravailUserStore=t}ngOnInit(){this.espaceTravail$=this.espaceTravailUserStore.select$().pipe((0,pe.U)(t=>r.Xp8.convertEntityToCloudEntity(new r.zH9(t.espaceTravail))))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ed-espace-travail-cloud"]],decls:2,vars:3,consts:[["id","encart-cloud",4,"ngIf"],["id","encart-cloud"],[3,"entity"]],template:function(t,a){1&t&&(e.YNc(0,bs,2,1,"div",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,a.espaceTravail$))},dependencies:[y.O5,Ts.I,y.Ov]}),i})();var ut=m(61099);function As(i,s){if(1&i&&(e.TgZ(0,"small",17),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.auteur.fonctionPersonnel,")")}}function Cs(i,s){1&i&&(e.TgZ(0,"span"),e._UZ(1,"i",18),e.qZA())}function xs(i,s){1&i&&(e.TgZ(0,"span"),e._UZ(1,"i",19),e.qZA())}function ys(i,s){1&i&&(e.TgZ(0,"span"),e._UZ(1,"i",20),e.qZA())}function Ss(i,s){1&i&&(e.TgZ(0,"span"),e._UZ(1,"i",21),e.qZA())}function Ms(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(4);return e.KtG(n.modifierMessage())}),e._UZ(1,"i",29),e.qZA()}}function Ds(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,c=e.oxw(2);return e.KtG(c.setEditMessage(n,!1))}),e._UZ(1,"i",31),e.qZA()}}function Us(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,c=e.oxw(2);return e.KtG(c.setEditMessage(n,!0))}),e._UZ(1,"i",33),e.qZA()}}function Zs(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,c=e.oxw(2);return e.KtG(c.effacerMessage(n))}),e._UZ(1,"i",35),e.qZA()}}function ks(i,s){if(1&i&&(e.TgZ(0,"div",22)(1,"span",23),e._uU(2),e.ALo(3,"edDate"),e.qZA(),e.YNc(4,Ms,2,0,"button",24),e.YNc(5,Ds,2,0,"button",25),e.YNc(6,Us,2,0,"button",26),e.YNc(7,Zs,2,0,"button",27),e.qZA()),2&i){const t=e.oxw().$implicit,a=e.oxw(2);e.xp6(2),e.Oqu(e.xi3(3,5,t.dateCreation,"dd/MM/y HH:mm")),e.xp6(2),e.Q6J("ngIf",a.isMessageEdit(t)),e.xp6(1),e.Q6J("ngIf",a.isMessageEdit(t)),e.xp6(1),e.Q6J("ngIf",a.droitUtilisateur>a.espaceDeTravailDroitsUser.DROIT_LECTURE&&t.auteur.idAuteur===a.idUser&&t.auteur.profil===a.typeUser&&!a.isMessageEdit(t)),e.xp6(1),e.Q6J("ngIf",a.droitUtilisateur===a.espaceDeTravailDroitsUser.DROIT_ADMIN||a.droitUtilisateur>a.espaceDeTravailDroitsUser.DROIT_LECTURE&&t.auteur.idAuteur===a.idUser&&t.auteur.profil===a.typeUser)}}const ws=function(){return{newWindow:!0}},Fs=function(i){return{"message-moderation":i}};function Os(i,s){if(1&i&&(e._UZ(0,"p",36),e.ALo(1,"nl2br"),e.ALo(2,"linky"),e.ALo(3,"base64")),2&i){const t=e.oxw().$implicit;e.Q6J("innerHTML",e.lcZ(1,2,e.xi3(2,4,e.lcZ(3,7,t.contenu),e.DdM(9,ws))),e.oJD)("ngClass",e.VKq(10,Fs,t.isModere))}}const Is=function(){return{standalone:!0}};function Ps(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"form",37)(1,"textarea",38),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw(3);return e.KtG(c.messageEdit.contenu=n)}),e.qZA(),e.TgZ(2,"div",39)(3,"button",40),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,c=e.oxw(2);return e.KtG(c.setEditMessage(n,!1))}),e._uU(4,"Annuler"),e.qZA(),e.TgZ(5,"button",41),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.modifierMessage())}),e._uU(6,"Enregistrer"),e.qZA()()()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngModel",t.messageEdit.contenu)("ngModelOptions",e.DdM(2,Is))}}function Ns(i,s){if(1&i&&(e.TgZ(0,"div",6),e._UZ(1,"p",7),e.TgZ(2,"div",8)(3,"div",9)(4,"h5",10)(5,"strong"),e._uU(6),e.ALo(7,"displayNom"),e.qZA(),e.YNc(8,As,2,1,"small",11),e.YNc(9,Cs,2,0,"span",12),e.YNc(10,xs,2,0,"span",12),e.YNc(11,ys,2,0,"span",12),e.YNc(12,Ss,2,0,"span",12),e.qZA(),e.YNc(13,ks,8,8,"div",13),e.qZA(),e.TgZ(14,"div",14),e.YNc(15,Os,4,12,"p",15),e.YNc(16,Ps,7,3,"form",16),e.qZA()()()),2&i){const t=s.$implicit,a=e.oxw(2);e.xp6(6),e.Oqu(e.gM2(7,9,t.auteur,!0,!0,a.authStore.isFouE())),e.xp6(2),e.Q6J("ngIf",t.auteur.profil===a.edTypeUser.PERSONNEL),e.xp6(1),e.Q6J("ngIf",t.auteur.profil===a.edTypeUser.ELEVE),e.xp6(1),e.Q6J("ngIf",t.auteur.profil===a.edTypeUser.ENSEIGNANT),e.xp6(1),e.Q6J("ngIf",t.auteur.profil===a.edTypeUser.FAMILLE_RESPONSABLE||t.auteur.profil===a.edTypeUser.FAMILLE_CONJOINT),e.xp6(1),e.Q6J("ngIf",t.auteur.profil===a.edTypeUser.PERSONNEL),e.xp6(1),e.Q6J("ngIf",!t.isModere),e.xp6(2),e.Q6J("ngIf",!a.isMessageEdit(t)),e.xp6(1),e.Q6J("ngIf",a.isMessageEdit(t))}}function Bs(i,s){if(1&i&&(e.ynx(0),e.YNc(1,Ns,17,14,"div",5),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.discussion.messages)("ngForTrackBy",t.trackByMessage)}}function qs(i,s){1&i&&(e.TgZ(0,"div",42)(1,"h3"),e._uU(2,"Aucun message dans la discussion."),e.qZA()())}function Js(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",43)(1,"div",44)(2,"textarea",45),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw();return e.KtG(c.newMessage.contenu=n)}),e.qZA()(),e.TgZ(3,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.envoyerMessage())}),e._UZ(4,"i",47),e._uU(5," Envoyer "),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.newMessage.contenu)}}let dt=(()=>{class i extends((0,r.kCV)()){constructor(t,a,n,c,g,T,v,h){super(),this.espaceDeTravailStore=t,this.espaceDeTravailService=a,this.authStore=n,this.renderer=c,this.loaderService=g,this.cd=T,this.uiService=v,this.modalService=h,this.espaceDeTravailDroitsUser=r.bvQ,this.edTypeUser=r.dcH,this.newMessage=new r.VKt}ngAfterViewInit(){this._msgList=this.renderer.selectRootElement("#msg-wrap",!0),Object.isExists(this._msgList)&&this._msgList.addEventListener("scroll",this.onScrollMsgList.bind(this))}ngOnChanges(t){Object.isExists(t.topic)&&(t.topic.isFirstChange()||t.topic.previousValue.id!==t.topic.currentValue.id)&&(this.newMessage=new r.VKt({idTopic:this.topic.id}),Object.isExists(this._messagesTopicSubscription)&&this._messagesTopicSubscription.unsubscribe(),this._messagesTopicSubscription=this.espaceDeTravailStore.selectEspaceTravailTopicMessages(this.topic.id,this.authStore.currentUser.codeOgec,this.typeUser,this.idUser).pipe((0,E.b)(a=>{Object.isExists(a)&&(this.discussion=new r.G$d(a),this.scrollToBottom())}),(0,O.R)(this.componentDestroyed$)).subscribe(),this.chargeDiscussion())}ngOnDestroy(){return this.stopIntervalRefreshMessages(),Object.isExists(this._msgList)&&this._msgList.removeEventListener("scroll",this.onScrollMsgList),super.ngOnDestroy()}onScrollMsgList(){this.stopIntervalRefreshMessages(),this._msgList.scrollHeight-this._msgList.scrollTop===this._msgList.clientHeight&&this.startIntervalRefreshMessages()}isMessageEdit(t){return Object.isExists(this.messageEdit)&&this.messageEdit.id===t.id}chargeDiscussion(t=!1){t||(this.loader=this.loaderService.show(this)),this.cd.markForCheck(),this.espaceDeTravailService.listDiscussion(this.idUser,this.typeUser,this.espaceTravail.id,this.topic.id,t).pipe((0,te.d)(null),(0,E.b)(()=>{t||Object.isExists(this._idIntervalRefreshMessages)||this.startIntervalRefreshMessages()}),(0,M.x)(()=>{t||this.loaderService.hide(this)})).subscribe()}trackByMessage(t,a){return a.id}setEditMessage(t,a=!0){this.messageEdit=a?new r.VKt({...t,contenu:r.YC.base64decode(t.contenu)}):void 0,a?this.stopIntervalRefreshMessages():this.startIntervalRefreshMessages()}modifierMessage(){!Object.isExists(this.messageEdit)||(this.loader=this.loaderService.show(this),this.cd.markForCheck(),this.espaceDeTravailService.modifierMessageTopic(this.idUser,this.typeUser,this.espaceTravail,this.topic.id,this.messageEdit,this.topic.titre).pipe((0,E.b)(()=>{this.messageEdit=void 0,this.espaceTravail.salleDesProfs?this.uiService.notifyEvent(r.DOJ.genericSuccess,"Votre message a bien \xe9t\xe9 modifi\xe9 !","Salle des professeurs - discussion","icon-ed_salledesprofs"):this.uiService.notifyEvent(r.DOJ.genericSuccess,"Votre message a bien \xe9t\xe9 modifi\xe9 !","Espace de travail - discussion","icon-ed_espacedetravail")}),(0,P.K)(()=>(this.uiService.notifyEvent(r.DOJ.genericError,"Une erreur est survenue","Erreur"),S.E)),(0,M.x)(()=>{this.loaderService.hide(this),this.startIntervalRefreshMessages()})).subscribe())}effacerMessage(t){this.stopIntervalRefreshMessages();const a={id:this.modalService.getModalsCount()+1,initialState:{title:"Suppression d'un message",message:"\xcates-vous s\xfbr de vouloir supprimer ce message ?",btnConfirm:"Valider",btnCancel:"Non"}};this.modalService.show(se.z,a),this.modalService.onHide.pipe((0,R.q)(1),(0,J.w)(n=>n===ie.G.validation?(this.loader=this.loaderService.show(this),this.cd.markForCheck(),this.espaceDeTravailService.effacerMessageTopic(this.idUser,this.typeUser,this.espaceTravail,this.topic.id,t,this.topic.titre).pipe((0,M.x)(()=>this.loaderService.hide(this)))):S.E),(0,E.b)(()=>{this.espaceTravail.salleDesProfs?this.uiService.notifyEvent(r.DOJ.genericSuccess,"Suppression de votre message effectu\xe9e !","Salle des professeurs - discussion","icon-ed_salledesprofs"):this.uiService.notifyEvent(r.DOJ.genericSuccess,"Suppression de votre message effectu\xe9e !","Espace de travail - discussion","icon-ed_espacedetravail")}),(0,P.K)(()=>(this.uiService.notifyEvent(r.DOJ.genericError,"Une erreur est survenue",this.espaceTravail.salleDesProfs?"Salle des professeurs - discussion":"Espace de travail - discussion"),S.E)),(0,M.x)(()=>{this.loaderService.hide(this),this.startIntervalRefreshMessages()})).subscribe()}envoyerMessage(){this.loader=this.loaderService.show(this),this.cd.markForCheck(),this.espaceDeTravailService.ajoutMessageTopic(this.idUser,this.typeUser,this.espaceTravail,this.topic.id,this.newMessage.contenu,this.topic.titre).pipe((0,E.b)(()=>{this.newMessage.contenu="",this.espaceTravail.salleDesProfs?this.uiService.notifyEvent(r.DOJ.genericSuccess,"Envoi de votre message r\xe9ussi !!","Salle des professeurs - discussion","icon-ed_salledesprofs"):this.uiService.notifyEvent(r.DOJ.genericSuccess,"Envoi de votre message r\xe9ussi !!","Espace de travail - discussion","icon-ed_espacedetravail")}),(0,P.K)(()=>(this.uiService.notifyEvent(r.DOJ.genericError,"Une erreur s'est produite lors de 'envoi du message","Erreur"),S.E)),(0,M.x)(()=>{this.loaderService.hide(this)})).subscribe()}scrollToBottom(){setTimeout(()=>{Object.isExists(this._msgList)&&(this._msgList.scrollTop=this._msgList.scrollHeight)},0)}startIntervalRefreshMessages(){this.stopIntervalRefreshMessages(),this._idIntervalRefreshMessages=window.setInterval(()=>{Object.isExists(this.discussion)&&this.chargeDiscussion(!0)},5e3)}stopIntervalRefreshMessages(){this._idIntervalRefreshMessages>0&&(window.clearInterval(this._idIntervalRefreshMessages),this._idIntervalRefreshMessages=void 0)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.EYm),e.Y36(r.AUs),e.Y36(r.CnD),e.Y36(e.Qsj),e.Y36(z.S),e.Y36(e.sBO),e.Y36(r.VLf),e.Y36(W.tT))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ed-espace-travail-discussion-messages"]],inputs:{topic:"topic",espaceTravail:"espaceTravail",idUser:"idUser",typeUser:"typeUser",droitUtilisateur:"droitUtilisateur"},features:[e.qOj,e.TTD],decls:6,vars:4,consts:[[1,"topic-messages",3,"ngBusy"],["id","msg-wrap",1,"msg-wrap"],[4,"ngIf","ngIfElse"],["nomessage",""],["class","form-new-msg",4,"ngIf"],["class","media msg",4,"ngFor","ngForOf","ngForTrackBy"],[1,"media","msg"],[1,"float-start"],[1,"media-body","card","ed-card"],[1,"card-header","d-flex","justify-content-between"],[1,"media-heading"],["class","margin-whitespace",4,"ngIf"],[4,"ngIf"],["class","",4,"ngIf"],[1,"card-body"],["class","col-lg-10","style","padding-left: 0",3,"innerHTML","ngClass",4,"ngIf"],["name","formModifMessage","id","formModifMessage","ngForm","","novalidate","",4,"ngIf"],[1,"margin-whitespace"],["title","El\xe8ve",1,"icon-ed_eleve","btn-primary-color","margin-whitespace"],["title","Enseignant",1,"icon-ed_enseignant","btn-primary-color","margin-whitespace"],["title","Famille",1,"icon-ed_famille","btn-primary-color","margin-whitespace"],["title","Personnel",1,"icon-ed_personnel","btn-primary-color","margin-whitespace"],[1,""],[1,"form-text","d-inline","me-2"],["type","button","class","btn btn-primary-color no-background no-padding","aria-label","Enregistrer la modification du message",3,"click",4,"ngIf"],["type","button","class","btn btn-primary-color no-background no-padding margin-whitespace","aria-label","Annuler la modification du message","aria-hidden","true",3,"click",4,"ngIf"],["type","button","class","btn btn-primary-color no-background no-padding margin-whitespace","aria-label","Modifier le message",3,"click",4,"ngIf"],["type","button","class","btn btn-danger-color no-background no-padding margin-whitespace","aria-label","Supprimer le message",3,"click",4,"ngIf"],["type","button","aria-label","Enregistrer la modification du message",1,"btn","btn-primary-color","no-background","no-padding",3,"click"],["aria-hidden","true",1,"icon-ed_save"],["type","button","aria-label","Annuler la modification du message","aria-hidden","true",1,"btn","btn-primary-color","no-background","no-padding","margin-whitespace",3,"click"],[1,"fa","fa-close"],["type","button","aria-label","Modifier le message",1,"btn","btn-primary-color","no-background","no-padding","margin-whitespace",3,"click"],["aria-hidden","true",1,"fa","fa-pencil"],["type","button","aria-label","Supprimer le message",1,"btn","btn-danger-color","no-background","no-padding","margin-whitespace",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],[1,"col-lg-10",2,"padding-left","0",3,"innerHTML","ngClass"],["name","formModifMessage","id","formModifMessage","ngForm","","novalidate",""],["rows","5",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"form-buttons-group"],["type","button","id","button2id","name","button2id",1,"btn","btn-danger",3,"click"],["type","button","id","buttonModif","name","button1id",1,"btn","btn-success",3,"click"],[1,"jumbotron"],[1,"form-new-msg"],[1,"send-wrap"],["rows","3","placeholder","Saisir un message...",1,"form-control","send-message",3,"ngModel","ngModelChange"],["type","button",1,"text-end","btn","btn-primary","send-message-btn","float-end",3,"click"],["aria-hidden","true",1,"fa","fa-plus"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Bs,2,2,"ng-container",2),e.YNc(3,qs,3,0,"ng-template",null,3,e.W1O),e.qZA(),e.YNc(5,Js,6,1,"div",4),e.qZA()),2&t){const n=e.MAs(4);e.Q6J("ngBusy",a.loader),e.xp6(2),e.Q6J("ngIf",a.discussion&&a.discussion.messages.length>0)("ngIfElse",n),e.xp6(3),e.Q6J("ngIf",a.droitUtilisateur>a.espaceDeTravailDroitsUser.DROIT_LECTURE)}},dependencies:[y.mk,y.sg,y.O5,A._Y,A.Fj,A.JJ,A.JL,A.On,A.F,K.DC,r.$t3,r.YC,r.kM_,r.ifA,xi],styles:[".topic-messages[_ngcontent-%COMP%]   .card.ed-card[_ngcontent-%COMP%]{margin:0 0 15px}.topic-messages[_ngcontent-%COMP%]   .card.ed-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:10px 10px 0}.topic-messages[_ngcontent-%COMP%]   .card.ed-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:10px}.topic-messages[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.topic-messages[_ngcontent-%COMP%]   .msg-wrap[_ngcontent-%COMP%]{padding:40px 20px;height:55vh;background:var(--light-placeholder-color);overflow-y:auto;border-radius:9px;margin-left:5px}.topic-messages[_ngcontent-%COMP%]   .msg-wrap[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%] ~ media[_ngcontent-%COMP%]{margin-top:40px}.topic-messages[_ngcontent-%COMP%]   .form-new-msg[_ngcontent-%COMP%]{background:var(--light-placeholder-color)}.topic-messages[_ngcontent-%COMP%]   .form-new-msg[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin:10px 0}"],changeDetection:0}),i})();function Rs(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateTopic())}),e._UZ(1,"i",6),e._uU(2," Ajouter un sujet "),e.qZA()}}function Ls(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(n){e.CHM(t);const c=e.oxw().$implicit,g=e.oxw(2);return e.KtG(g.updateTopic(c,n))}),e._UZ(2,"i",18),e.qZA(),e.TgZ(3,"button",19),e.NdJ("click",function(n){e.CHM(t);const c=e.oxw().$implicit,g=e.oxw(2);return e.KtG(g.archiverTopic(c,n))}),e._UZ(4,"i",20),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("aria-label","Modifier le topic "+t.titre),e.xp6(2),e.uIk("aria-label","Supprimer le topic "+t.titre)}}function Ys(i,s){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"displayNom"),e._UZ(3,"br"),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"edDate"),e.qZA()()),2&i){const t=e.oxw().$implicit,a=e.oxw(2);e.xp6(1),e.hij(" Dernier message par ",e.gM2(2,2,t.dernierMessage,!0,!0,a.authStore.isFouE())," "),e.xp6(4),e.hij("le ",e.xi3(6,7,t.dernierMessage.date,"EEEE d MMMM \xe0 HH:mm"),"")}}function js(i,s){1&i&&(e.TgZ(0,"p"),e._UZ(1,"br"),e._uU(2," Aucun nouveau message "),e.qZA())}const Qs=function(i){return{"alert-info":i}};function Hs(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",11),e.NdJ("click",function(){const c=e.CHM(t).$implicit,g=e.oxw(2);return e.KtG(g.chargeDiscussion(c))}),e.TgZ(1,"button",12),e.NdJ("click",function(){const c=e.CHM(t).$implicit,g=e.oxw(2);return e.KtG(g.chargeDiscussion(c))}),e.qZA(),e.TgZ(2,"div",13),e.YNc(3,Ls,5,2,"div",14),e.TgZ(4,"h5",15)(5,"strong"),e._uU(6),e.qZA()(),e.YNc(7,Ys,7,10,"p",4),e.YNc(8,js,3,0,"p",4),e.qZA(),e._UZ(9,"div",2),e.qZA()}if(2&i){const t=s.$implicit,a=e.oxw(2);e.Q6J("ngClass",e.VKq(6,Qs,a.topicSelected&&a.topicSelected.id===t.id)),e.xp6(1),e.uIk("aria-label","Consulter la discussion pour le topic "+t.titre),e.xp6(2),e.Q6J("ngIf",a.droitUtilisateur===a.espaceDeTravailDroitsUser.DROIT_ADMIN||t.idAuteur===a.idUser&&t.profilAuteur===a.typeUser),e.xp6(3),e.Oqu(t.titre),e.xp6(1),e.Q6J("ngIf",""!==t.dernierMessage.nom),e.xp6(1),e.Q6J("ngIf",""===t.dernierMessage.nom)}}function Vs(i,s){if(1&i&&(e.TgZ(0,"div",21),e._UZ(1,"ed-espace-travail-discussion-messages",22,23),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("topic",t.topicSelected)("espaceTravail",t.espaceTravail)("droitUtilisateur",t.droitUtilisateur)("idUser",t.idUser)("typeUser",t.typeUser)}}function zs(i,s){1&i&&(e.TgZ(0,"div",21)(1,"div",24)(2,"h3"),e._uU(3,"S\xe9lectionner ou ajouter un sujet"),e.qZA()()())}const Ks=function(i){return{"shadow-spec":i}};function $s(i,s){if(1&i&&(e.TgZ(0,"div",7)(1,"div",8),e.YNc(2,Hs,10,8,"div",9),e.qZA(),e.YNc(3,Vs,3,5,"div",10),e.YNc(4,zs,4,0,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(5,Ks,!t.topicSelected)),e.xp6(1),e.Q6J("ngForOf",t.topics)("ngForTrackBy",t.trackByTopic),e.xp6(1),e.Q6J("ngIf",t.topicSelected),e.xp6(1),e.Q6J("ngIf",!t.topicSelected)}}function Gs(i,s){1&i&&(e.TgZ(0,"div")(1,"div",24)(2,"h3"),e._uU(3,"Veuillez cr\xe9er un sujet pour pouvoir lancer une discussion."),e.qZA()()())}function Ws(i,s){1&i&&(e.TgZ(0,"div")(1,"div",24)(2,"h3"),e._uU(3,"Aucun message dans la discussion."),e.qZA()()())}let Xs=(()=>{class i extends((0,r.kCV)()){constructor(t,a,n,c,g,T,v,h){super(),this.loaderService=t,this.uiService=a,this.activatedRoute=n,this.espaceTravailUserStore=c,this.espaceDeTravailService=g,this.espaceDeTravailStore=T,this.authStore=v,this.modalService=h,this.espaceDeTravailDroitsUser=r.bvQ,this.edTypeUser=r.dcH,this.topics=[]}ngOnInit(){this.activatedRoute.queryParamMap.pipe((0,pe.U)(t=>t.get("titleTopic")),(0,lt.x)()).subscribe(t=>{""!==t&&(this.titleTopic=t,this.oneTime=!0)}),this.espaceTravailUserStore.select$().pipe((0,J.w)(t=>(this.idUser=+this.activatedRoute.parent.snapshot.paramMap.get("idUser"),this.typeUser=this.activatedRoute.parent.snapshot.paramMap.get("typeUser"),this.espaceTravail=new r.zH9(t.espaceTravail),this.loader=this.loaderService.show(this),this.espaceDeTravailService.listTopics(this.idUser,this.typeUser,t.espaceTravail.id).pipe((0,te.d)(null),(0,M.x)(()=>this.loaderService.hide(this))))),(0,O.R)(this.componentDestroyed$)).subscribe(),this.espaceDeTravailStore.selectEspaceTravailTopics(this.espaceTravail.id,this.authStore.currentUser.codeOgec,this.typeUser,this.idUser).pipe((0,E.b)(t=>{if(Object.isExists(t)){if(this.topics=t.topics.map(a=>new r.wdp(a)),this.oneTime&&""!==this.titleTopic){const a=this.topics.find(n=>n.titre===this.titleTopic);Object.isExists(a)&&(this.oneTime=!1,this.chargeDiscussion(a))}this.droitUtilisateur=t.parametrage.droitUtilisateur}}),(0,O.R)(this.componentDestroyed$)).subscribe()}trackByTopic(t,a){return a.id}chargeDiscussion(t){this.topicSelected=t}updateTopic(t,a){Object.isExists(a)&&a.stopPropagation();const n=!Object.isExists(t);!n&&Object.isExists(this.discussion)&&this.discussion.topic.id===t.id&&this.discussion.stopIntervalRefreshMessages();const c={title:n?"Ajouter un sujet":"Modifier un sujet",message:"Nom du sujet",btnConfirm:n?"Ajouter":"Modifier",btnCancel:"Annuler",initialValue:n?"":t.titre,helpMessage:"Il s'agit du sujet de votre discussion"},g={id:this.modalService.getModalsCount()+1,initialState:c};this.modalService.show(ut.I,g),this.modalService.onHide.pipe((0,R.q)(1),(0,J.w)(T=>{this.loader=this.loaderService.show(this);const v=ut.I.afterClosed(T);return Object.isExists(v)?v.error?(this.uiService.notifyEvent(r.DOJ.genericError,v.error,"Erreur","fa fa-warning"),S.E):v.reason!==ie.G.validation?S.E:n?this.espaceDeTravailService.ajouterTopic(this.idUser,this.typeUser,this.espaceTravail.id,new r.wdp({titre:v.saisie,idAuteur:this.idUser,profil:this.typeUser})):this.espaceDeTravailService.modifierTopic(this.idUser,this.typeUser,this.espaceTravail.id,new r.wdp({...t,titre:v.saisie})):S.E}),(0,E.b)(()=>{const T=n?"Enregistrement de votre sujet effectu\xe9 !":"Modification de votre sujet effectu\xe9e !";this.espaceTravail.salleDesProfs?this.uiService.notifyEvent(r.DOJ.genericSuccess,T,"Salle des professeurs - discussion","icon-ed_salledesprofs"):this.uiService.notifyEvent(r.DOJ.genericSuccess,T,"Espace de travail - discussion","icon-ed_espacedetravail")}),(0,P.K)(()=>(this.uiService.notifyEvent(r.DOJ.genericError,"Une erreur s'est produite","Erreur"),S.E)),(0,M.x)(()=>{this.loaderService.hide(this),!n&&Object.isExists(this.discussion)&&this.discussion.topic.id===t.id&&this.discussion.startIntervalRefreshMessages()})).subscribe()}archiverTopic(t,a){a.stopPropagation(),Object.isExists(this.discussion)&&this.discussion.topic.id===t.id&&this.discussion.stopIntervalRefreshMessages();const n={id:this.modalService.getModalsCount()+1,initialState:{title:"Suppression d'un sujet",message:"\xcates-vous s\xfbr de vouloir supprimer ce sujet ?",lastChanceMessage:this.droitUtilisateur===r.bvQ.DROIT_ADMIN&&t.nbMessages>0?`Ce sujet contient <strong>${t.nbMessages} messages.</strong> \xcates-vous s\xfbr de vouloir vraiment supprimer ce sujet ?`:"",btnConfirm:"Valider",btnCancel:"Non"}};this.modalService.show(se.z,n),this.modalService.onHide.pipe((0,R.q)(1),(0,J.w)(c=>c===ie.G.validation?(this.loader=this.loaderService.show(this),this.espaceDeTravailService.supprimerTopic(this.idUser,this.typeUser,this.espaceTravail.id,t).pipe((0,M.x)(()=>this.loaderService.hide(this)))):S.E),(0,E.b)(()=>{Object.isExists(this.topicSelected)&&this.topicSelected.id===t.id&&(this.topicSelected=void 0),this.espaceTravail.salleDesProfs?this.uiService.notifyEvent(r.DOJ.genericSuccess,"Suppression de votre sujet effectu\xe9e !","Salle des professeurs - discussion","icon-ed_salledesprofs"):this.uiService.notifyEvent(r.DOJ.genericSuccess,"Suppression de votre sujet effectu\xe9e !","Espace de travail - discussion","icon-ed_espacedetravail")}),(0,P.K)(c=>(215===c.status?this.espaceTravail.salleDesProfs?this.uiService.notifyEvent(r.DOJ.genericError,"Suppression impossible. <br/> Il reste des messages associ\xe9s \xe0 ce sujet !<br /> Contactez l'administrateur de l'espace de travail.","Salle des professeurs - discussion","icon-ed_salledesprofs"):this.uiService.notifyEvent(r.DOJ.genericError,"Suppression impossible. <br/> Il reste des messages associ\xe9s \xe0 ce sujet !<br /> Contactez l'administrateur de l'espace de travail.","Espace de travail - discussion","icon-ed_espacedetravail"):this.uiService.notifyEvent(r.DOJ.genericError,"Une erreur s'est produite",this.espaceTravail.salleDesProfs?"Salle des professeurs - discussion":"Espace de travail - discussion"),S.E)),(0,M.x)(()=>{Object.isExists(this.discussion)&&this.discussion.topic.id===t.id&&this.discussion.startIntervalRefreshMessages()})).subscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z.S),e.Y36(r.VLf),e.Y36(N.gz),e.Y36(B),e.Y36(r.AUs),e.Y36(r.EYm),e.Y36(r.CnD),e.Y36(W.tT))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ed-espace-travail-discussion"]],viewQuery:function(t,a){if(1&t&&e.Gf(dt,5),2&t){let n;e.iGM(n=e.CRH())&&(a.discussion=n.first)}},features:[e.qOj],decls:7,vars:5,consts:[["id","encart-discussion",3,"ngBusy"],["type","button","class","btn btn-primary bouton-ajouter margin-top-10",3,"click",4,"ngIf"],[1,"clearfix"],["class","row liste-discussion",4,"ngIf"],[4,"ngIf"],["type","button",1,"btn","btn-primary","bouton-ajouter","margin-top-10",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[1,"row","liste-discussion"],[1,"topic-wrap","col-xl-3","col-md-4",3,"ngClass"],["class","media topic cliquable",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","col-xl-9 col-md-7",4,"ngIf"],[1,"media","topic","cliquable",3,"ngClass","click"],["type","button",1,"screen-reader",3,"click"],[1,"media-body"],["class","float-end",4,"ngIf"],[1,"media-heading"],[1,"float-end"],[1,"btn","btn-primary-color","no-background","no-padding",3,"click"],["aria-hidden","true",1,"fa","fa-pencil"],[1,"btn","btn-danger-color","no-background","no-padding",3,"click"],["aria-hidden","true",1,"fa","fa-trash","margin-whitespace"],[1,"col-xl-9","col-md-7"],[3,"topic","espaceTravail","droitUtilisateur","idUser","typeUser"],["discussion",""],[1,"jumbotron"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Rs,3,0,"button",1),e._UZ(2,"div",2),e.YNc(3,$s,5,7,"div",3),e.YNc(4,Gs,4,0,"div",4),e.YNc(5,Ws,4,0,"div",4),e._UZ(6,"div",2),e.qZA()),2&t&&(e.Q6J("ngBusy",a.loader),e.xp6(1),e.Q6J("ngIf",a.droitUtilisateur>a.espaceDeTravailDroitsUser.DROIT_LECTURE),e.xp6(2),e.Q6J("ngIf",a.topics.length>0),e.xp6(1),e.Q6J("ngIf",0===a.topics.length&&a.droitUtilisateur>=a.espaceDeTravailDroitsUser.DROIT_MODIFICATION),e.xp6(1),e.Q6J("ngIf",0===a.topics.length&&a.droitUtilisateur<a.espaceDeTravailDroitsUser.DROIT_MODIFICATION))},dependencies:[y.mk,y.sg,y.O5,K.DC,dt,r.$t3,r.ifA],styles:['#encart-discussion[_ngcontent-%COMP%]   .liste-discussion[_ngcontent-%COMP%]{padding:20px 0 40px}#encart-discussion[_ngcontent-%COMP%]   .topic[_ngcontent-%COMP%]{margin:0;padding:10px;border-bottom:1px solid var(--light-primary-color)}#encart-discussion[_ngcontent-%COMP%]   .topic[_ngcontent-%COMP%]:first-child{border-top:1px solid var(--light-primary-color)}#encart-discussion[_ngcontent-%COMP%]   .topic[_ngcontent-%COMP%]   .media-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1}#encart-discussion[_ngcontent-%COMP%]   .topic[_ngcontent-%COMP%]   .media-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;margin:5px 0 0;font-style:italic}#encart-discussion[_ngcontent-%COMP%]   .topic[_ngcontent-%COMP%]   .media-body[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}#encart-discussion[_ngcontent-%COMP%]   .topic.alert-info[_ngcontent-%COMP%]{position:relative;background:var(--light-placeholder-color);color:#000;overflow:auto}#encart-discussion[_ngcontent-%COMP%]   .topic.alert-info[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-1px;left:0;right:0;height:1px;background:#000}#encart-discussion[_ngcontent-%COMP%]   .media-heading[_ngcontent-%COMP%]{margin-bottom:10px}#encart-discussion[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin:0 0 5px;width:100%}'],changeDetection:0}),i})();var en=m(26140),tn=m(55423),an=m(56038);function sn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.openCreateDialog())}),e._UZ(1,"i",11),e._uU(2," Ajouter un \xe9v\xe9nement "),e.qZA()}}function nn(i,s){if(1&i&&(e.TgZ(0,"div",2),e.YNc(1,sn,3,0,"button",3),e._UZ(2,"div",4),e.TgZ(3,"div",5)(4,"div",6),e._UZ(5,"ed-select-agendas",7),e.qZA(),e.TgZ(6,"div",8),e._UZ(7,"ed-emploi-du-temps-scheduler",9),e.qZA()()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.espaceTravail.droitUtilisateur>=t.espaceDeTravailDroitsUser.DROIT_MODIFICATION||t.espaceTravail.estAdmin),e.xp6(4),e.Q6J("typeEntitySelected",t.edTypeUser.ESPACE_TRAVAIL)("idEntitySelected",t.espaceTravail.id)("moduleCurrent",t.TYPESAGENDA.ESPACE_TRAVAIL),e.xp6(2),e.Q6J("schedulerTemplateConfig",t.schedulerTemplateConfig)("typeEntity",t.edTypeUser.ESPACE_TRAVAIL)("idEntity",t.espaceTravail.id)}}let rn=(()=>{class i{constructor(t,a){this.espaceTravailUserStore=t,this.agendaHelperService=a,this.TYPESAGENDA=r.eTt,this.edTypeUser=r.dcH,this.espaceDeTravailDroitsUser=r.bvQ,this.schedulerTemplateConfig={yearButton:!0}}ngOnInit(){this.espaceTravail$=this.espaceTravailUserStore.select$().pipe((0,pe.U)(t=>(this.espaceTravail=new r.zH9(t.espaceTravail),this.espaceTravail)))}openCreateDialog(){this.agendaHelperService.openCreateDialog(this.espaceTravail.id,this.edTypeUser.ESPACE_TRAVAIL,[r.dcH.ESPACE_TRAVAIL+this.espaceTravail.id],!1)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(B),e.Y36(en.U))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ed-espace-travail-agenda"]],decls:3,vars:3,consts:[["id","encart-agenda"],["id","agenda-espace-travail",4,"ngIf"],["id","agenda-espace-travail"],["type","button","id","btn-ajouter-event-agenda","class","btn btn-primary float-start",3,"click",4,"ngIf"],[1,"clearfix"],[1,"row"],[1,"col-lg-3"],[3,"typeEntitySelected","idEntitySelected","moduleCurrent"],[1,"col-lg-9"],[3,"schedulerTemplateConfig","typeEntity","idEntity"],["type","button","id","btn-ajouter-event-agenda",1,"btn","btn-primary","float-start",3,"click"],["aria-hidden","true",1,"fa","fa-plus"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e.YNc(1,nn,8,7,"div",1),e.ALo(2,"async"),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,a.espaceTravail$)))},dependencies:[tn.$,an.R,y.O5,y.Ov],styles:["#encart-agenda[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:40px}#encart-agenda[_ngcontent-%COMP%]   #btn-ajouter-event-agenda[_ngcontent-%COMP%]{margin-bottom:20px}"]}),i})();var on=m(11302),cn=m(46707),ln=m(91752),un=m(12383),dn=m(39653);function pn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.inscriptionMembre(!1))}),e._uU(1," Se d\xe9sinscrire "),e.qZA()}}function gn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.inscriptionMembre(!0))}),e._uU(1,"Rejoindre"),e.qZA()}}function vn(i,s){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,pn,2,0,"button",16),e.YNc(2,gn,2,0,"button",17),e._UZ(3,"div",12),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.espaceTravail.estMembre&&t.isHimSelf&&t.espaceTravail.ouvert&&!t.espaceTravail.estAdmin),e.xp6(1),e.Q6J("ngIf",!t.espaceTravail.estMembre&&t.isHimSelf)}}function mn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.resetParametrageEspace())}),e._UZ(1,"i",21),e.qZA()}}function fn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.modeEdit=!0)}),e._UZ(1,"i",23),e.qZA()}}function _n(i,s){if(1&i&&(e._UZ(0,"div",24),e.ALo(1,"filterHtml")),2&i){const t=e.oxw(2);e.Q6J("innerHTML",e.xi3(1,1,t.espaceTravail.description,!0),e.oJD)}}function hn(i,s){if(1&i&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.espaceTravail.resume)}}function Tn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"form",26)(1,"div",27)(2,"ckeditor",28),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw(2);return e.KtG(c.espaceTravail.description=n)}),e.qZA()(),e.TgZ(3,"button",29),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.save())}),e._uU(4,"Enregistrer"),e.qZA(),e.TgZ(5,"button",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.resetParametrageEspace())}),e._uU(6,"Annuler"),e.qZA(),e._UZ(7,"div",12),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngModel",t.espaceTravail.description)("required",!0)("config",t.ckeditorOptions)}}function bn(i,s){1&i&&(e.TgZ(0,"h2"),e._uU(1,"Informations"),e.qZA())}function En(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"p",12),e._uU(2," Aucun \xe9v\xe9nement pour le moment "),e.qZA())}function An(i,s){1&i&&(e.TgZ(0,"a",37),e._UZ(1,"i",38),e._uU(2," Voir tous les \xe9v\xe9nements "),e.qZA())}function Cn(i,s){if(1&i&&(e.TgZ(0,"div",31)(1,"h2",32),e._uU(2,"Agenda \xe0 venir"),e.qZA(),e.YNc(3,En,3,0,"div",4),e.TgZ(4,"div",33),e.YNc(5,An,3,0,"a",34),e.qZA(),e._UZ(6,"div",12),e.TgZ(7,"div",35),e._UZ(8,"ed-agenda-evenements",36)(9,"div",12),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.espaceTravail.estAdmin&&t.agendaEvents.length<=0),e.xp6(2),e.Q6J("ngIf",t.agendaEvents.length>0),e.xp6(3),e.Q6J("idEntity",t.espaceTravail.id)("events",t.agendaEvents)("typeEntity",t.edTypeUser.ESPACE_TRAVAIL)("selectedTargets",t.targetsAgenda)("droitsAgenda",t.agendaDroits)("displayTargets",!1)("espaceTravail",t.espaceTravail)}}function xn(i,s){if(1&i&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e.YNc(3,vn,4,2,"div",4),e.qZA(),e.TgZ(4,"div",5)(5,"div",6)(6,"div",7),e.YNc(7,mn,2,0,"button",8),e.YNc(8,fn,2,0,"button",9),e.qZA(),e.YNc(9,_n,2,4,"div",10),e.YNc(10,hn,2,1,"div",11),e._UZ(11,"div",12),e.YNc(12,Tn,8,3,"form",13),e.qZA()(),e.TgZ(13,"div",5)(14,"div"),e.YNc(15,bn,2,0,"h2",4),e._UZ(16,"ed-postits",14)(17,"div",12),e.qZA(),e.YNc(18,Cn,10,9,"div",15),e.qZA()()()),2&i){const t=e.oxw();e.Q6J("ngBusy",t.loader),e.xp6(3),e.Q6J("ngIf",t.espaceTravail.ouvert||!t.espaceTravail.ouvert&&t.espaceTravail.estMembre),e.xp6(4),e.Q6J("ngIf",t.modeEdit),e.xp6(1),e.Q6J("ngIf",t.espaceTravail.estAdmin&&!t.modeEdit&&t.isHimSelf),e.xp6(1),e.Q6J("ngIf",!t.modeEdit&&t.espaceTravail.description),e.xp6(1),e.Q6J("ngIf",!t.modeEdit&&!t.espaceTravail.description&&t.espaceTravail.resume),e.xp6(2),e.Q6J("ngIf",t.modeEdit),e.xp6(3),e.Q6J("ngIf",t.nbPostits>0||t.espaceTravail.estAdmin||t.espaceTravail.droitUtilisateur>=t.espaceDeTravailDroitsUser.DROIT_MODIFICATION),e.xp6(1),e.Q6J("configPostits",t.postitConfig)("idUser",t.espaceTravail.id)("typeUser",t.edTypeUser.ESPACE_TRAVAIL)("espaceTravail",t.espaceTravail),e.xp6(2),e.Q6J("ngIf",t.agendaEvents.length>0||t.espaceTravail.estAdmin)}}const yn=[{path:"",component:ia},{path:":idEspace",component:Ji,children:[{path:"",redirectTo:"accueil",pathMatch:"full"},{path:"accueil",component:(()=>{class i extends((0,r.kCV)()){constructor(t,a,n,c,g,T,v,h,u,f,d,b,_){super(),this.espaceTravailUserStore=t,this.espaceTravailService=a,this.espaceTravailStore=n,this.postitsService=c,this.authStore=g,this.agendaService=T,this.agendaStore=v,this.uiService=h,this.loaderService=u,this.modalService=f,this.router=d,this.activatedRoute=b,this.postitsStore=_,this._idEspaceTravail=0,this.tabPostits=[],this.agendaEvents=[],this.espaceDeTravailDroitsUser=r.bvQ,this.edTypeUser=r.dcH,this.ckeditorOptions=on.x$,this.modeEdit=!1,this.nbPostits=0}get espaceTravail(){return this._espaceTravail}set espaceTravail(t){this._espaceTravail=t,this._espaceTravail.description=r.YC.base64decode(this._espaceTravail.description),this._espaceTravail.resume=r.YC.base64decode(this._espaceTravail.resume)}get isHimSelf(){return this.authStore.isHimself(this._typeUser,this._idUser)}ngOnInit(){this.espaceTravailUserStore.select$().pipe((0,J.w)(t=>{this.espaceTravail=new r.zH9(t.espaceTravail),this._idEspaceTravail=this.espaceTravail.id,this._variantAgenda=r.$ej.edDBUserSpecificKey(this.authStore.currentUser.codeOgec,r.dcH.ESPACE_TRAVAIL,this.espaceTravail.id),this._idUser=+this.activatedRoute.parent.snapshot.paramMap.get("idUser"),this._typeUser=this.activatedRoute.parent.snapshot.paramMap.get("typeUser");const a=r.dcH.ESPACE_TRAVAIL+this.espaceTravail.id;return this.postitConfig={addPostit:this.espaceTravail.droitUtilisateur>=this.espaceDeTravailDroitsUser.DROIT_MODIFICATION||this.espaceTravail.estAdmin,updatePostit:this.espaceTravail.droitUtilisateur>=this.espaceDeTravailDroitsUser.DROIT_MODIFICATION||this.espaceTravail.estAdmin,deletePostit:this.espaceTravail.droitUtilisateur===this.espaceDeTravailDroitsUser.DROIT_SUPPRESSION||this.espaceTravail.estAdmin,displayDateCreated:!0,displayDateLimit:!1,displayTargets:!1,displayFormTargets:!1,selectTargets:[a],visibilityPostitPast:!1,displayLibelleAuteur:!1,contexte:r.M$6.ESPACE_TRAVAIL},this.targetsAgenda=[a],this.agendaDroits={CAN_CREATE:!1,CAN_UPDATE:this.espaceTravail.droitUtilisateur>=this.espaceDeTravailDroitsUser.DROIT_MODIFICATION||this.espaceTravail.estAdmin,CAN_DELETE:this.espaceTravail.droitUtilisateur===this.espaceDeTravailDroitsUser.DROIT_SUPPRESSION||this.espaceTravail.estAdmin},this.espaceTravail.fullLoaded?(0,de.of)():(this.loader=this.loaderService.show(this),this.espaceTravailService.infosEspaceTravail(this._idUser,this._typeUser,this._idEspaceTravail).pipe((0,te.d)(void 0),(0,M.x)(()=>this.loaderService.hide(this))))}),(0,E.b)(t=>{if(!this.espaceTravail.fullLoaded){const a=this.espaceTravailStore.getEspaceTravail(this._idEspaceTravail,this.authStore.currentUser.codeOgec,this._typeUser,this._idUser);this.espaceTravailUserStore.updateStore({espaceTravail:a})}}),(0,P.K)(()=>(this.uiService.notifyEvent(r.DOJ.genericError,"Une erreur est survenue, veuillez r\xe9essayer","Espaces de travail"),this.loaderService.hide(this),(0,de.of)(void 0))),(0,O.R)(this.componentDestroyed$)).subscribe(),this.loader=this.loaderService.show(this),this.agendaService.lastEvents(0,this.authStore.currentUser.codeOgec,r.dcH.ESPACE_TRAVAIL,this.espaceTravail.id,!0).pipe((0,E.b)(t=>this.agendaEvents=t.evenements.map(a=>new r.gBp(a))),(0,M.x)(()=>this.loaderService.hide(this))).subscribe(),this.postitsStore.selectListePostits(r.$ej.edDBUserSpecificKey(this.authStore.currentUser.codeOgec,r.dcH.ESPACE_TRAVAIL,this._idEspaceTravail)).pipe((0,pe.U)(t=>{this.nbPostits=t.length}),(0,O.R)(this.componentDestroyed$)).subscribe()}inscriptionMembre(t=!0){const a={id:this.modalService.getModalsCount()+1,keyboard:!1,ignoreBackdropClick:!0,initialState:{title:"Confirmation de votre demande",message:t?"Confirmer votre inscription au groupe":"Confirmer votre d\xe9sinscription au groupe",btnConfirm:"Oui",btnCancel:"Non"}};this.modalService.show(se.z,a),this.modalService.onHide.pipe((0,R.q)(1),(0,J.w)(n=>{if(n===ie.G.validation){this.loader=this.loaderService.show(this);const c=new r.zH9(this.espaceTravail);return c.description=r.YC.base64encode(c.description),c.resume=r.YC.base64encode(c.resume),t?this.espaceTravailService.rejoindreEspaceTravail(this._idUser,this._typeUser,c):this.espaceTravailService.quitterEspaceTravail(this._idUser,this._typeUser,c)}return S.E}),(0,E.b)(()=>{if(this.uiService.notifyEvent(r.DOJ.genericSuccess,"Votre demande \xe0 bien \xe9t\xe9 prise en compte.","Espace de travail","icon-ed_espacedetravail"),t){const n=this.espaceTravailStore.getEspaceTravail(this._idEspaceTravail,this.authStore.currentUser.codeOgec,this._typeUser,this._idUser);this.espaceTravailUserStore.updateStore({espaceTravail:n})}else this.router.navigate(["../../"],{relativeTo:this.activatedRoute}).catch(()=>console.error("inscriptionMembre navigate to ../../"))}),(0,P.K)(()=>(this.uiService.notifyEvent(r.DOJ.genericError,"Une erreur s'est produite.","Espace de travail"),S.E)),(0,M.x)(()=>this.loaderService.hide(this))).subscribe()}resetParametrageEspace(){this.modeEdit=!1,this.espaceTravail=new r.zH9(this.espaceTravailStore.getEspaceTravail(this.espaceTravail.id,this.authStore.currentUser.codeOgec,this._typeUser,this._idUser))}save(){this.loader=this.loaderService.show(this),this.espaceTravailService.modifierEspaceTravail(this._idUser,this._typeUser,this.espaceTravail).pipe((0,E.b)(t=>{const a=new r.zH9(t);Object.isExists(this.espaceTravail)&&this.espaceTravailUserStore.updateStore({espaceTravail:a}),this.modeEdit=!1,this.espaceTravail.salleDesProfs?this.uiService.notifyEvent(r.DOJ.genericSuccess,"Modification de la description effectu\xe9e ! ","Salle des professeurs","icon-ed_salledesprofs"):this.uiService.notifyEvent(r.DOJ.genericSuccess,"Modification de votre espace de travail effectu\xe9e ! ","Espace de travail","icon-ed_espacedetravail")}),(0,P.K)(t=>(this.uiService.notifyEvent(r.DOJ.genericError,r.FSr.isNotEmptyString(t.message)?t.message:"La mise \xe0 jour a \xe9chou\xe9.","Erreur"),S.E)),(0,M.x)(()=>this.loaderService.hide(this))).subscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(B),e.Y36(r.AUs),e.Y36(r.EYm),e.Y36(r.wlB),e.Y36(r.CnD),e.Y36(r.img),e.Y36(r.Tf5),e.Y36(r.VLf),e.Y36(z.S),e.Y36(W.tT),e.Y36(N.F0),e.Y36(N.gz),e.Y36(r.XQ5))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ed-espace-travail-accueil"]],features:[e.qOj],decls:1,vars:1,consts:[["class","ed-espace-travail-accueil encart-accueil",3,"ngBusy",4,"ngIf"],[1,"ed-espace-travail-accueil","encart-accueil",3,"ngBusy"],[1,"row"],[1,"col-lg-12"],[4,"ngIf"],[1,"col-lg-6"],[1,"description"],[1,"btn-action"],["type","button","class","btn btn-primary-color no-background no-padding d-print-none float-end","aria-label","Annuler la personnalisation du texte de pr\xe9sentation",3,"click",4,"ngIf"],["class","btn btn-primary-color no-background no-padding d-print-none float-end","title","Personnaliser le texte de pr\xe9sentation",3,"click",4,"ngIf"],["class","zone-modif ed-cke",3,"innerHTML",4,"ngIf"],["class","zone-modif",4,"ngIf"],[1,"clearfix"],["name","formModifDesc","novalidate","","ngForm","",4,"ngIf"],[3,"configPostits","idUser","typeUser","espaceTravail"],["class","zone-agenda",4,"ngIf"],["type","button","class","float-end btn btn-danger",3,"click",4,"ngIf"],["class","float-end btn btn-primary",3,"click",4,"ngIf"],["type","button",1,"float-end","btn","btn-danger",3,"click"],[1,"float-end","btn","btn-primary",3,"click"],["type","button","aria-label","Annuler la personnalisation du texte de pr\xe9sentation",1,"btn","btn-primary-color","no-background","no-padding","d-print-none","float-end",3,"click"],["aria-hidden","true",1,"fa","fa-close"],["title","Personnaliser le texte de pr\xe9sentation",1,"btn","btn-primary-color","no-background","no-padding","d-print-none","float-end",3,"click"],["aria-hidden","true",1,"fa","fa-pencil"],[1,"zone-modif","ed-cke",3,"innerHTML"],[1,"zone-modif"],["name","formModifDesc","novalidate","","ngForm",""],[1,"controls"],["name","description",3,"ngModel","required","config","ngModelChange"],["type","button","id","buttonModif","name","button1id",1,"btn","btn-success","float-end",3,"click"],["type","button","id","button2id","name","button2id",1,"btn","btn-danger","float-start",3,"click"],[1,"zone-agenda"],[1,"float-start"],[1,"float-end"],["href","","routerLink","../agenda",4,"ngIf"],[1,"eventsAgenda"],[3,"idEntity","events","typeEntity","selectedTargets","droitsAgenda","displayTargets","espaceTravail"],["href","","routerLink","../agenda"],["aria-hidden","true",1,"fa","fa-eye"]],template:function(t,a){1&t&&e.YNc(0,xn,19,13,"div",0),2&t&&e.Q6J("ngIf",a.espaceTravail)},dependencies:[N.yS,cn.F,y.O5,A._Y,A.JJ,A.JL,A.Q7,A.On,A.F,ln.u,K.DC,un.a,dn.w],styles:[".ed-espace-travail-accueil[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:40px}.ed-espace-travail-accueil[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{margin:0 0 10px}.ed-espace-travail-accueil[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .zone-modif[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:30px 0 20px;font-size:25px;text-align:left}.ed-espace-travail-accueil[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .zone-modif[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:40px 0 10px;font-size:20px;text-align:left}.ed-espace-travail-accueil[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .zone-modif[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.ed-espace-travail-accueil[_ngcontent-%COMP%]   .zone-agenda[_ngcontent-%COMP%]:not(:first-child){margin-top:60px}"]}),i})()},{path:"agenda",component:rn},{path:"discussion",component:Xs},{path:"cloud",component:Es},{path:"membres",component:hs},{path:"activite",component:rs},{path:"administration",component:Pa}]}];let Sn=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[N.Bz.forChild(yn),N.Bz]}),i})();var Mn=m(99658),Dn=m(23131),Un=m(67891),Zn=m(66273),kn=m(6079),wn=m(13666);let Fn=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[B],imports:[wn.L,Sn,Dn.N,kn.A,Mn.m,yi,Un.G,Zn.n]}),i})()}}]);